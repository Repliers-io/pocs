import{j as t}from"./jsx-runtime-CBjAUaf4.js";import{r as a,R as F}from"./index-CoAThXCU.js";import{d as Ye,u as at,c as it,b as K,P as lt,i as ct,h as dt,e as U,g as ut,F as mt,D as pt,y as mr,z as Q,a as ft,R as pr,A as ht,C as fr,j as hr,k as gr,l as xr,m as vr,n as me,o as pe,p as fe,q as he,r as ge,s as yr,t as Ze,w as xe}from"./check-BHhxvnPK.js";import{b as $e,B as z,u as de,c as se,d as O,A as Nr,I as we}from"./api-input-DeU0bGee.js";import"./index-CfR0xb4d.js";import"./jsx-runtime-B2VJbz7C.js";import"./index-fny-Lthe.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],br=$e("chevrons-up-down",jr);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Sr=$e("search",wr);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rr=$e("x",Cr);function gt({listingData:e}){var r,s,o,n,i,l,c,m,u,p,h,N,x,k,L,A,V,B,q,G,$,b,C,H,te,Y,Z,f,R,P;return e?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:"text-xl font-semibold",children:"MLS Report"}),t.jsxs("div",{className:"space-x-2",children:[t.jsx(z,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e,null,2))},children:"Copy Raw JSON"}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>{var E,D,w,J,ae,re,d;const y=`
MLS #: ${e.mlsNumber}
Address: ${e.address.streetNumber} ${e.address.streetName} ${e.address.streetSuffix}
City: ${e.address.city}
State: ${e.address.state}
Zip: ${e.address.zip}
List Price: $${e.listPrice.toLocaleString()}
Property Type: ${(E=e.details)==null?void 0:E.propertyType}
Style: ${(D=e.details)==null?void 0:D.style}
Bedrooms: ${(w=e.details)==null?void 0:w.numBedrooms} + ${(J=e.details)==null?void 0:J.numBedroomsPlus}
Bathrooms: ${(ae=e.details)==null?void 0:ae.numBathrooms}
Square Footage: ${(re=e.details)==null?void 0:re.sqft}
Year Built: ${(d=e.details)==null?void 0:d.yearBuilt}
              `;navigator.clipboard.writeText(y)},children:"Copy Formatted"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white p-4 rounded border",children:[t.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Property Overview"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"MLS Number"}),t.jsx("p",{className:"font-medium",children:e.mlsNumber})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"List Price"}),t.jsxs("p",{className:"font-medium",children:["$",e.listPrice.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),t.jsx("p",{className:"font-medium",children:e.status})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Property Type"}),t.jsx("p",{className:"font-medium",children:(r=e.details)==null?void 0:r.propertyType})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Style"}),t.jsx("p",{className:"font-medium",children:(s=e.details)==null?void 0:s.style})]})]})]}),t.jsxs("div",{className:"bg-white p-4 rounded border",children:[t.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Location Details"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),t.jsxs("p",{className:"font-medium",children:[(o=e.address)==null?void 0:o.streetNumber," ",(n=e.address)==null?void 0:n.streetName," ",(i=e.address)==null?void 0:i.streetSuffix]}),t.jsxs("p",{className:"font-medium",children:[(l=e.address)==null?void 0:l.city,", ",(c=e.address)==null?void 0:c.state," ",(m=e.address)==null?void 0:m.zip]}),((u=e.map)==null?void 0:u.latitude)&&((p=e.map)==null?void 0:p.longitude)&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Coordinates"}),t.jsxs("p",{className:"font-medium",children:[e.map.latitude.toFixed(6),","," ",e.map.longitude.toFixed(6)]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Neighborhood"}),t.jsx("p",{className:"font-medium",children:(h=e.address)==null?void 0:h.neighborhood}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Major Intersection"}),t.jsx("p",{className:"font-medium",children:(N=e.address)==null?void 0:N.majorIntersection})]})]})]}),t.jsxs("div",{className:"bg-white p-4 rounded border",children:[t.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Property Specifications"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Bedrooms"}),t.jsxs("p",{className:"font-medium",children:[(x=e.details)==null?void 0:x.numBedrooms," +"," ",(k=e.details)==null?void 0:k.numBedroomsPlus]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Bathrooms"}),t.jsx("p",{className:"font-medium",children:(L=e.details)==null?void 0:L.numBathrooms})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Square Footage"}),t.jsx("p",{className:"font-medium",children:(A=e.details)==null?void 0:A.sqft})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Garage Spaces"}),t.jsx("p",{className:"font-medium",children:(V=e.details)==null?void 0:V.numGarageSpaces})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Year Built"}),t.jsx("p",{className:"font-medium",children:(B=e.details)==null?void 0:B.yearBuilt})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Lot Size"}),t.jsxs("p",{className:"font-medium",children:[(q=e.lot)==null?void 0:q.width,"' x ",(G=e.lot)==null?void 0:G.depth,"'"]})]})]})]}),t.jsxs("div",{className:"bg-white p-4 rounded border",children:[t.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Key Features"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("div",{children:t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsxs("li",{children:["Air Conditioning: ",($=e.details)==null?void 0:$.airConditioning]}),t.jsxs("li",{children:["Heating: ",(b=e.details)==null?void 0:b.heating]}),t.jsxs("li",{children:["Basement: ",(C=e.details)==null?void 0:C.basement1]}),t.jsxs("li",{children:["Central Vacuum: ",(H=e.details)==null?void 0:H.centralVac]}),t.jsxs("li",{children:["Fireplaces: ",(te=e.details)==null?void 0:te.numFireplaces]})]})}),t.jsx("div",{children:t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsxs("li",{children:["Garage Type: ",(Y=e.details)==null?void 0:Y.garage]}),t.jsxs("li",{children:["Exterior: ",(Z=e.details)==null?void 0:Z.exteriorConstruction1]}),t.jsxs("li",{children:["Foundation: ",(f=e.details)==null?void 0:f.foundationType]}),t.jsxs("li",{children:["Roof: ",(R=e.details)==null?void 0:R.roofMaterial]}),t.jsxs("li",{children:["Water Source: ",(P=e.details)==null?void 0:P.waterSource]})]})})]})]}),e.history&&e.history.length>0&&t.jsxs("div",{className:"bg-white p-4 rounded border",children:[t.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Market History"}),t.jsx("div",{className:"space-y-6",children:e.history.map((y,E)=>t.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsxs("h5",{className:"font-semibold text-lg",children:[y.lastStatus==="Sold"?"Sold":"Listed"," on"," ",new Date(y.listDate).toLocaleDateString()]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["MLS #",y.mlsNumber]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-bold text-green-600",children:["$",y.listPrice.toLocaleString()]}),y.lastStatus==="Sold"&&y.soldPrice&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Sold for $",y.soldPrice.toLocaleString()]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),t.jsx("p",{className:"font-medium",children:y.lastStatus})]}),y.dom&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Days on Market"}),t.jsx("p",{className:"font-medium",children:y.dom})]}),y.soldDate&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Sold Date"}),t.jsx("p",{className:"font-medium",children:new Date(y.soldDate).toLocaleDateString()})]}),y.originalPrice&&y.originalPrice!==y.listPrice&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Original Price"}),t.jsxs("p",{className:"font-medium",children:["$",y.originalPrice.toLocaleString()]})]})]}),y.description&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),t.jsx("p",{className:"text-sm mt-1",children:y.description})]}),y.latitude&&y.longitude&&t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Latitude"}),t.jsx("p",{className:"font-medium",children:y.latitude})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Longitude"}),t.jsx("p",{className:"font-medium",children:y.longitude})]})]})]},E))})]})]})]}):null}gt.__docgenInfo={description:"",methods:[],displayName:"MLSReport",props:{listingData:{required:!0,tsType:{name:"any"},description:""}}};var Je=1,Pr=.9,Er=.8,Ir=.17,Ae=.1,_e=.999,kr=.9999,Ar=.99,_r=/[\\\/_+.#"@\[\(\{&]/,Or=/[\\\/_+.#"@\[\(\{&]/g,Mr=/[\s-]/,xt=/[\s-]/g;function Me(e,r,s,o,n,i,l){if(i===r.length)return n===e.length?Je:Ar;var c=`${n},${i}`;if(l[c]!==void 0)return l[c];for(var m=o.charAt(i),u=s.indexOf(m,n),p=0,h,N,x,k;u>=0;)h=Me(e,r,s,o,u+1,i+1,l),h>p&&(u===n?h*=Je:_r.test(e.charAt(u-1))?(h*=Er,x=e.slice(n,u-1).match(Or),x&&n>0&&(h*=Math.pow(_e,x.length))):Mr.test(e.charAt(u-1))?(h*=Pr,k=e.slice(n,u-1).match(xt),k&&n>0&&(h*=Math.pow(_e,k.length))):(h*=Ir,n>0&&(h*=Math.pow(_e,u-n))),e.charAt(u)!==r.charAt(i)&&(h*=kr)),(h<Ae&&s.charAt(u-1)===o.charAt(i+1)||o.charAt(i+1)===o.charAt(i)&&s.charAt(u-1)!==o.charAt(i))&&(N=Me(e,r,s,o,u+1,i+2,l),N*Ae>h&&(h=N*Ae)),h>p&&(p=h),u=s.indexOf(m,u+1);return l[c]=p,p}function Xe(e){return e.toLowerCase().replace(xt," ")}function Lr(e,r,s){return e=s&&s.length>0?`${e+" "+s.join(" ")}`:e,Me(e,r,Xe(e),Xe(r),0,0,{})}function $r(e,r){return a.useReducer((s,o)=>r[s][o]??s,e)}var ue=e=>{const{present:r,children:s}=e,o=Dr(r),n=typeof s=="function"?s({present:o.isPresent}):a.Children.only(s),i=de(o.ref,Tr(n));return typeof s=="function"||o.isPresent?a.cloneElement(n,{ref:i}):null};ue.displayName="Presence";function Dr(e){const[r,s]=a.useState(),o=a.useRef(null),n=a.useRef(e),i=a.useRef("none"),l=e?"mounted":"unmounted",[c,m]=$r(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const u=Se(o.current);i.current=c==="mounted"?u:"none"},[c]),Ye(()=>{const u=o.current,p=n.current;if(p!==e){const N=i.current,x=Se(u);e?m("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?m("UNMOUNT"):m(p&&N!==x?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,m]),Ye(()=>{if(r){let u;const p=r.ownerDocument.defaultView??window,h=x=>{const L=Se(o.current).includes(x.animationName);if(x.target===r&&L&&(m("ANIMATION_END"),!n.current)){const A=r.style.animationFillMode;r.style.animationFillMode="forwards",u=p.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=A)})}},N=x=>{x.target===r&&(i.current=Se(o.current))};return r.addEventListener("animationstart",N),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{p.clearTimeout(u),r.removeEventListener("animationstart",N),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else m("ANIMATION_END")},[r,m]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:a.useCallback(u=>{o.current=u?getComputedStyle(u):null,s(u)},[])}}function Se(e){return(e==null?void 0:e.animationName)||"none"}function Tr(e){var o,n;let r=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function vt(e){const r=Fr(e),s=a.forwardRef((o,n)=>{const{children:i,...l}=o,c=a.Children.toArray(i),m=c.find(Vr);if(m){const u=m.props.children,p=c.map(h=>h===m?a.Children.count(u)>1?a.Children.only(null):a.isValidElement(u)?u.props.children:null:h);return t.jsx(r,{...l,ref:n,children:a.isValidElement(u)?a.cloneElement(u,void 0,p):null})}return t.jsx(r,{...l,ref:n,children:i})});return s.displayName=`${e}.Slot`,s}function Fr(e){const r=a.forwardRef((s,o)=>{const{children:n,...i}=s;if(a.isValidElement(n)){const l=qr(n),c=Br(i,n.props);return n.type!==a.Fragment&&(c.ref=o?se(o,l):l),a.cloneElement(n,c)}return a.Children.count(n)>1?a.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Wr=Symbol("radix.slottable");function Vr(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wr}function Br(e,r){const s={...r};for(const o in r){const n=e[o],i=r[o];/^on[A-Z]/.test(o)?n&&i?s[o]=(...c)=>{const m=i(...c);return n(...c),m}:n&&(s[o]=n):o==="style"?s[o]={...n,...i}:o==="className"&&(s[o]=[n,i].filter(Boolean).join(" "))}return{...e,...s}}function qr(e){var o,n;let r=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var zr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=zr.reduce((e,r)=>{const s=vt(`Primitive.${r}`),o=a.forwardRef((n,i)=>{const{asChild:l,...c}=n,m=l?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...c,ref:i})});return o.displayName=`Primitive.${r}`,{...e,[r]:o}},{}),Ee="Dialog",[yt,Zs]=it(Ee),[Kr,W]=yt(Ee),Nt=e=>{const{__scopeDialog:r,children:s,open:o,defaultOpen:n,onOpenChange:i,modal:l=!0}=e,c=a.useRef(null),m=a.useRef(null),[u,p]=at({prop:o,defaultProp:n??!1,onChange:i,caller:Ee});return t.jsx(Kr,{scope:r,triggerRef:c,contentRef:m,contentId:K(),titleId:K(),descriptionId:K(),open:u,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(h=>!h),[p]),modal:l,children:s})};Nt.displayName=Ee;var jt="DialogTrigger",Ur=a.forwardRef((e,r)=>{const{__scopeDialog:s,...o}=e,n=W(jt,s),i=de(r,n.triggerRef);return t.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Fe(n.open),...o,ref:i,onClick:U(e.onClick,n.onOpenToggle)})});Ur.displayName=jt;var De="DialogPortal",[Gr,bt]=yt(De,{forceMount:void 0}),wt=e=>{const{__scopeDialog:r,forceMount:s,children:o,container:n}=e,i=W(De,r);return t.jsx(Gr,{scope:r,forceMount:s,children:a.Children.map(o,l=>t.jsx(ue,{present:s||i.open,children:t.jsx(lt,{asChild:!0,container:n,children:l})}))})};wt.displayName=De;var Pe="DialogOverlay",St=a.forwardRef((e,r)=>{const s=bt(Pe,e.__scopeDialog),{forceMount:o=s.forceMount,...n}=e,i=W(Pe,e.__scopeDialog);return i.modal?t.jsx(ue,{present:o||i.open,children:t.jsx(Yr,{...n,ref:r})}):null});St.displayName=Pe;var Hr=vt("DialogOverlay.RemoveScroll"),Yr=a.forwardRef((e,r)=>{const{__scopeDialog:s,...o}=e,n=W(Pe,s);return t.jsx(ct,{as:Hr,allowPinchZoom:!0,shards:[n.contentRef],children:t.jsx(ye.div,{"data-state":Fe(n.open),...o,ref:r,style:{pointerEvents:"auto",...o.style}})})}),ne="DialogContent",Ct=a.forwardRef((e,r)=>{const s=bt(ne,e.__scopeDialog),{forceMount:o=s.forceMount,...n}=e,i=W(ne,e.__scopeDialog);return t.jsx(ue,{present:o||i.open,children:i.modal?t.jsx(Zr,{...n,ref:r}):t.jsx(Jr,{...n,ref:r})})});Ct.displayName=ne;var Zr=a.forwardRef((e,r)=>{const s=W(ne,e.__scopeDialog),o=a.useRef(null),n=de(r,s.contentRef,o);return a.useEffect(()=>{const i=o.current;if(i)return dt(i)},[]),t.jsx(Rt,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:U(e.onFocusOutside,i=>i.preventDefault())})}),Jr=a.forwardRef((e,r)=>{const s=W(ne,e.__scopeDialog),o=a.useRef(!1),n=a.useRef(!1);return t.jsx(Rt,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(o.current||(c=s.triggerRef.current)==null||c.focus(),i.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:i=>{var m,u;(m=e.onInteractOutside)==null||m.call(e,i),i.defaultPrevented||(o.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const l=i.target;((u=s.triggerRef.current)==null?void 0:u.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),Rt=a.forwardRef((e,r)=>{const{__scopeDialog:s,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:i,...l}=e,c=W(ne,s),m=a.useRef(null),u=de(r,m);return ut(),t.jsxs(t.Fragment,{children:[t.jsx(mt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:n,onUnmountAutoFocus:i,children:t.jsx(pt,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Fe(c.open),...l,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Xr,{titleId:c.titleId}),t.jsx(es,{contentRef:m,descriptionId:c.descriptionId})]})]})}),Te="DialogTitle",Pt=a.forwardRef((e,r)=>{const{__scopeDialog:s,...o}=e,n=W(Te,s);return t.jsx(ye.h2,{id:n.titleId,...o,ref:r})});Pt.displayName=Te;var Et="DialogDescription",It=a.forwardRef((e,r)=>{const{__scopeDialog:s,...o}=e,n=W(Et,s);return t.jsx(ye.p,{id:n.descriptionId,...o,ref:r})});It.displayName=Et;var kt="DialogClose",At=a.forwardRef((e,r)=>{const{__scopeDialog:s,...o}=e,n=W(kt,s);return t.jsx(ye.button,{type:"button",...o,ref:r,onClick:U(e.onClick,()=>n.onOpenChange(!1))})});At.displayName=kt;function Fe(e){return e?"open":"closed"}var _t="DialogTitleWarning",[Js,Ot]=mr(_t,{contentName:ne,titleName:Te,docsSlug:"dialog"}),Xr=({titleId:e})=>{const r=Ot(_t),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Qr="DialogDescriptionWarning",es=({contentRef:e,descriptionId:r})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ot(Qr).contentName}}.`;return a.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(o))},[o,e,r]),null},ts=Nt,Mt=wt,We=St,Ve=Ct,Lt=Pt,$t=It,rs=At,ve='[cmdk-group=""]',Oe='[cmdk-group-items=""]',ss='[cmdk-group-heading=""]',Dt='[cmdk-item=""]',Qe=`${Dt}:not([aria-disabled="true"])`,Le="cmdk-item-select",ie="data-value",ns=(e,r,s)=>Lr(e,r,s),Tt=a.createContext(void 0),Ne=()=>a.useContext(Tt),Ft=a.createContext(void 0),Be=()=>a.useContext(Ft),Wt=a.createContext(void 0),Vt=a.forwardRef((e,r)=>{let s=le(()=>{var d,v;return{search:"",value:(v=(d=e.value)!=null?d:e.defaultValue)!=null?v:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=le(()=>new Set),n=le(()=>new Map),i=le(()=>new Map),l=le(()=>new Set),c=Bt(e),{label:m,children:u,value:p,onValueChange:h,filter:N,shouldFilter:x,loop:k,disablePointerSelection:L=!1,vimBindings:A=!0,...V}=e,B=K(),q=K(),G=K(),$=a.useRef(null),b=hs();oe(()=>{if(p!==void 0){let d=p.trim();s.current.value=d,C.emit()}},[p]),oe(()=>{b(6,R)},[]);let C=a.useMemo(()=>({subscribe:d=>(l.current.add(d),()=>l.current.delete(d)),snapshot:()=>s.current,setState:(d,v,j)=>{var g,S,I,T;if(!Object.is(s.current[d],v)){if(s.current[d]=v,d==="search")f(),Y(),b(1,Z);else if(d==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let _=document.getElementById(G);_?_.focus():(g=document.getElementById(B))==null||g.focus()}if(b(7,()=>{var _;s.current.selectedItemId=(_=P())==null?void 0:_.id,C.emit()}),j||b(5,R),((S=c.current)==null?void 0:S.value)!==void 0){let _=v??"";(T=(I=c.current).onValueChange)==null||T.call(I,_);return}}C.emit()}},emit:()=>{l.current.forEach(d=>d())}}),[]),H=a.useMemo(()=>({value:(d,v,j)=>{var g;v!==((g=i.current.get(d))==null?void 0:g.value)&&(i.current.set(d,{value:v,keywords:j}),s.current.filtered.items.set(d,te(v,j)),b(2,()=>{Y(),C.emit()}))},item:(d,v)=>(o.current.add(d),v&&(n.current.has(v)?n.current.get(v).add(d):n.current.set(v,new Set([d]))),b(3,()=>{f(),Y(),s.current.value||Z(),C.emit()}),()=>{i.current.delete(d),o.current.delete(d),s.current.filtered.items.delete(d);let j=P();b(4,()=>{f(),(j==null?void 0:j.getAttribute("id"))===d&&Z(),C.emit()})}),group:d=>(n.current.has(d)||n.current.set(d,new Set),()=>{i.current.delete(d),n.current.delete(d)}),filter:()=>c.current.shouldFilter,label:m||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:B,inputId:G,labelId:q,listInnerRef:$}),[]);function te(d,v){var j,g;let S=(g=(j=c.current)==null?void 0:j.filter)!=null?g:ns;return d?S(d,s.current.search,v):0}function Y(){if(!s.current.search||c.current.shouldFilter===!1)return;let d=s.current.filtered.items,v=[];s.current.filtered.groups.forEach(g=>{let S=n.current.get(g),I=0;S.forEach(T=>{let _=d.get(T);I=Math.max(_,I)}),v.push([g,I])});let j=$.current;y().sort((g,S)=>{var I,T;let _=g.getAttribute("id"),be=S.getAttribute("id");return((I=d.get(be))!=null?I:0)-((T=d.get(_))!=null?T:0)}).forEach(g=>{let S=g.closest(Oe);S?S.appendChild(g.parentElement===S?g:g.closest(`${Oe} > *`)):j.appendChild(g.parentElement===j?g:g.closest(`${Oe} > *`))}),v.sort((g,S)=>S[1]-g[1]).forEach(g=>{var S;let I=(S=$.current)==null?void 0:S.querySelector(`${ve}[${ie}="${encodeURIComponent(g[0])}"]`);I==null||I.parentElement.appendChild(I)})}function Z(){let d=y().find(j=>j.getAttribute("aria-disabled")!=="true"),v=d==null?void 0:d.getAttribute(ie);C.setState("value",v||void 0)}function f(){var d,v,j,g;if(!s.current.search||c.current.shouldFilter===!1){s.current.filtered.count=o.current.size;return}s.current.filtered.groups=new Set;let S=0;for(let I of o.current){let T=(v=(d=i.current.get(I))==null?void 0:d.value)!=null?v:"",_=(g=(j=i.current.get(I))==null?void 0:j.keywords)!=null?g:[],be=te(T,_);s.current.filtered.items.set(I,be),be>0&&S++}for(let[I,T]of n.current)for(let _ of T)if(s.current.filtered.items.get(_)>0){s.current.filtered.groups.add(I);break}s.current.filtered.count=S}function R(){var d,v,j;let g=P();g&&(((d=g.parentElement)==null?void 0:d.firstChild)===g&&((j=(v=g.closest(ve))==null?void 0:v.querySelector(ss))==null||j.scrollIntoView({block:"nearest"})),g.scrollIntoView({block:"nearest"}))}function P(){var d;return(d=$.current)==null?void 0:d.querySelector(`${Dt}[aria-selected="true"]`)}function y(){var d;return Array.from(((d=$.current)==null?void 0:d.querySelectorAll(Qe))||[])}function E(d){let v=y()[d];v&&C.setState("value",v.getAttribute(ie))}function D(d){var v;let j=P(),g=y(),S=g.findIndex(T=>T===j),I=g[S+d];(v=c.current)!=null&&v.loop&&(I=S+d<0?g[g.length-1]:S+d===g.length?g[0]:g[S+d]),I&&C.setState("value",I.getAttribute(ie))}function w(d){let v=P(),j=v==null?void 0:v.closest(ve),g;for(;j&&!g;)j=d>0?ps(j,ve):fs(j,ve),g=j==null?void 0:j.querySelector(Qe);g?C.setState("value",g.getAttribute(ie)):D(d)}let J=()=>E(y().length-1),ae=d=>{d.preventDefault(),d.metaKey?J():d.altKey?w(1):D(1)},re=d=>{d.preventDefault(),d.metaKey?E(0):d.altKey?w(-1):D(-1)};return a.createElement(Q.div,{ref:r,tabIndex:-1,...V,"cmdk-root":"",onKeyDown:d=>{var v;(v=V.onKeyDown)==null||v.call(V,d);let j=d.nativeEvent.isComposing||d.keyCode===229;if(!(d.defaultPrevented||j))switch(d.key){case"n":case"j":{A&&d.ctrlKey&&ae(d);break}case"ArrowDown":{ae(d);break}case"p":case"k":{A&&d.ctrlKey&&re(d);break}case"ArrowUp":{re(d);break}case"Home":{d.preventDefault(),E(0);break}case"End":{d.preventDefault(),J();break}case"Enter":{d.preventDefault();let g=P();if(g){let S=new Event(Le);g.dispatchEvent(S)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:H.inputId,id:H.labelId,style:xs},m),Ie(e,d=>a.createElement(Ft.Provider,{value:C},a.createElement(Tt.Provider,{value:H},d))))}),os=a.forwardRef((e,r)=>{var s,o;let n=K(),i=a.useRef(null),l=a.useContext(Wt),c=Ne(),m=Bt(e),u=(o=(s=m.current)==null?void 0:s.forceMount)!=null?o:l==null?void 0:l.forceMount;oe(()=>{if(!u)return c.item(n,l==null?void 0:l.id)},[u]);let p=qt(n,i,[e.value,e.children,i],e.keywords),h=Be(),N=X(b=>b.value&&b.value===p.current),x=X(b=>u||c.filter()===!1?!0:b.search?b.filtered.items.get(n)>0:!0);a.useEffect(()=>{let b=i.current;if(!(!b||e.disabled))return b.addEventListener(Le,k),()=>b.removeEventListener(Le,k)},[x,e.onSelect,e.disabled]);function k(){var b,C;L(),(C=(b=m.current).onSelect)==null||C.call(b,p.current)}function L(){h.setState("value",p.current,!0)}if(!x)return null;let{disabled:A,value:V,onSelect:B,forceMount:q,keywords:G,...$}=e;return a.createElement(Q.div,{ref:se(i,r),...$,id:n,"cmdk-item":"",role:"option","aria-disabled":!!A,"aria-selected":!!N,"data-disabled":!!A,"data-selected":!!N,onPointerMove:A||c.getDisablePointerSelection()?void 0:L,onClick:A?void 0:k},e.children)}),as=a.forwardRef((e,r)=>{let{heading:s,children:o,forceMount:n,...i}=e,l=K(),c=a.useRef(null),m=a.useRef(null),u=K(),p=Ne(),h=X(x=>n||p.filter()===!1?!0:x.search?x.filtered.groups.has(l):!0);oe(()=>p.group(l),[]),qt(l,c,[e.value,e.heading,m]);let N=a.useMemo(()=>({id:l,forceMount:n}),[n]);return a.createElement(Q.div,{ref:se(c,r),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},s&&a.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:u},s),Ie(e,x=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?u:void 0},a.createElement(Wt.Provider,{value:N},x))))}),is=a.forwardRef((e,r)=>{let{alwaysRender:s,...o}=e,n=a.useRef(null),i=X(l=>!l.search);return!s&&!i?null:a.createElement(Q.div,{ref:se(n,r),...o,"cmdk-separator":"",role:"separator"})}),ls=a.forwardRef((e,r)=>{let{onValueChange:s,...o}=e,n=e.value!=null,i=Be(),l=X(u=>u.search),c=X(u=>u.selectedItemId),m=Ne();return a.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),a.createElement(Q.input,{ref:r,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":c,id:m.inputId,type:"text",value:n?e.value:l,onChange:u=>{n||i.setState("search",u.target.value),s==null||s(u.target.value)}})}),cs=a.forwardRef((e,r)=>{let{children:s,label:o="Suggestions",...n}=e,i=a.useRef(null),l=a.useRef(null),c=X(u=>u.selectedItemId),m=Ne();return a.useEffect(()=>{if(l.current&&i.current){let u=l.current,p=i.current,h,N=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let x=u.offsetHeight;p.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return N.observe(u),()=>{cancelAnimationFrame(h),N.unobserve(u)}}},[]),a.createElement(Q.div,{ref:se(i,r),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":o,id:m.listId},Ie(e,u=>a.createElement("div",{ref:se(l,m.listInnerRef),"cmdk-list-sizer":""},u)))}),ds=a.forwardRef((e,r)=>{let{open:s,onOpenChange:o,overlayClassName:n,contentClassName:i,container:l,...c}=e;return a.createElement(ts,{open:s,onOpenChange:o},a.createElement(Mt,{container:l},a.createElement(We,{"cmdk-overlay":"",className:n}),a.createElement(Ve,{"aria-label":e.label,"cmdk-dialog":"",className:i},a.createElement(Vt,{ref:r,...c}))))}),us=a.forwardRef((e,r)=>X(s=>s.filtered.count===0)?a.createElement(Q.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),ms=a.forwardRef((e,r)=>{let{progress:s,children:o,label:n="Loading...",...i}=e;return a.createElement(Q.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},Ie(e,l=>a.createElement("div",{"aria-hidden":!0},l)))}),M=Object.assign(Vt,{List:cs,Item:os,Input:ls,Group:as,Separator:is,Dialog:ds,Empty:us,Loading:ms});function ps(e,r){let s=e.nextElementSibling;for(;s;){if(s.matches(r))return s;s=s.nextElementSibling}}function fs(e,r){let s=e.previousElementSibling;for(;s;){if(s.matches(r))return s;s=s.previousElementSibling}}function Bt(e){let r=a.useRef(e);return oe(()=>{r.current=e}),r}var oe=typeof window>"u"?a.useEffect:a.useLayoutEffect;function le(e){let r=a.useRef();return r.current===void 0&&(r.current=e()),r}function X(e){let r=Be(),s=()=>e(r.snapshot());return a.useSyncExternalStore(r.subscribe,s,s)}function qt(e,r,s,o=[]){let n=a.useRef(),i=Ne();return oe(()=>{var l;let c=(()=>{var u;for(let p of s){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(u=p.current.textContent)==null?void 0:u.trim():n.current}})(),m=o.map(u=>u.trim());i.value(e,c,m),(l=r.current)==null||l.setAttribute(ie,c),n.current=c}),n}var hs=()=>{let[e,r]=a.useState(),s=le(()=>new Map);return oe(()=>{s.current.forEach(o=>o()),s.current=new Map},[e]),(o,n)=>{s.current.set(o,n),r({})}};function gs(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function Ie({asChild:e,children:r},s){return e&&a.isValidElement(r)?a.cloneElement(gs(r),{ref:r.ref},s(r.props.children)):s(r)}var xs={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const vs=Mt,qe=a.forwardRef(({className:e,...r},s)=>t.jsx(We,{ref:s,className:O("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));qe.displayName=We.displayName;const zt=a.forwardRef(({className:e,children:r,...s},o)=>t.jsxs(vs,{children:[t.jsx(qe,{}),t.jsxs(Ve,{ref:o,className:O("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[r,t.jsxs(rs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(Rr,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zt.displayName=Ve.displayName;const Kt=a.forwardRef(({className:e,...r},s)=>t.jsx(Lt,{ref:s,className:O("text-lg font-semibold leading-none tracking-tight",e),...r}));Kt.displayName=Lt.displayName;const Ut=a.forwardRef(({className:e,...r},s)=>t.jsx($t,{ref:s,className:O("text-sm text-muted-foreground",e),...r}));Ut.displayName=$t.displayName;qe.__docgenInfo={description:"",methods:[]};zt.__docgenInfo={description:"",methods:[]};Kt.__docgenInfo={description:"",methods:[]};Ut.__docgenInfo={description:"",methods:[]};const ze=a.forwardRef(({className:e,...r},s)=>t.jsx(M,{ref:s,className:O("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));ze.displayName=M.displayName;const Ke=a.forwardRef(({className:e,...r},s)=>t.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[t.jsx(Sr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx(M.Input,{ref:s,className:O("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));Ke.displayName=M.Input.displayName;const Gt=a.forwardRef(({className:e,...r},s)=>t.jsx(M.List,{ref:s,className:O("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));Gt.displayName=M.List.displayName;const Ht=a.forwardRef((e,r)=>t.jsx(M.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));Ht.displayName=M.Empty.displayName;const Ue=a.forwardRef(({className:e,...r},s)=>t.jsx(M.Group,{ref:s,className:O("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));Ue.displayName=M.Group.displayName;const Yt=a.forwardRef(({className:e,...r},s)=>t.jsx(M.Separator,{ref:s,className:O("-mx-1 h-px bg-border",e),...r}));Yt.displayName=M.Separator.displayName;const Zt=a.forwardRef(({className:e,...r},s)=>t.jsx(M.Item,{ref:s,className:O("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r}));Zt.displayName=M.Item.displayName;ze.__docgenInfo={description:"",methods:[]};Ke.__docgenInfo={description:"",methods:[]};Gt.__docgenInfo={description:"",methods:[]};Ht.__docgenInfo={description:"",methods:[]};Ue.__docgenInfo={description:"",methods:[]};Zt.__docgenInfo={description:"",methods:[]};Yt.__docgenInfo={description:"",methods:[]};function Jt(e){const r=ys(e),s=a.forwardRef((o,n)=>{const{children:i,...l}=o,c=a.Children.toArray(i),m=c.find(js);if(m){const u=m.props.children,p=c.map(h=>h===m?a.Children.count(u)>1?a.Children.only(null):a.isValidElement(u)?u.props.children:null:h);return t.jsx(r,{...l,ref:n,children:a.isValidElement(u)?a.cloneElement(u,void 0,p):null})}return t.jsx(r,{...l,ref:n,children:i})});return s.displayName=`${e}.Slot`,s}function ys(e){const r=a.forwardRef((s,o)=>{const{children:n,...i}=s;if(a.isValidElement(n)){const l=ws(n),c=bs(i,n.props);return n.type!==a.Fragment&&(c.ref=o?se(o,l):l),a.cloneElement(n,c)}return a.Children.count(n)>1?a.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Ns=Symbol("radix.slottable");function js(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ns}function bs(e,r){const s={...r};for(const o in r){const n=e[o],i=r[o];/^on[A-Z]/.test(o)?n&&i?s[o]=(...c)=>{const m=i(...c);return n(...c),m}:n&&(s[o]=n):o==="style"?s[o]={...n,...i}:o==="className"&&(s[o]=[n,i].filter(Boolean).join(" "))}return{...e,...s}}function ws(e){var o,n;let r=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Ss=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xt=Ss.reduce((e,r)=>{const s=Jt(`Primitive.${r}`),o=a.forwardRef((n,i)=>{const{asChild:l,...c}=n,m=l?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(m,{...c,ref:i})});return o.displayName=`Primitive.${r}`,{...e,[r]:o}},{}),ke="Popover",[Qt,Xs]=it(ke,[ft]),je=ft(),[Cs,ee]=Qt(ke),er=e=>{const{__scopePopover:r,children:s,open:o,defaultOpen:n,onOpenChange:i,modal:l=!1}=e,c=je(r),m=a.useRef(null),[u,p]=a.useState(!1),[h,N]=at({prop:o,defaultProp:n??!1,onChange:i,caller:ke});return t.jsx(pr,{...c,children:t.jsx(Cs,{scope:r,contentId:K(),triggerRef:m,open:h,onOpenChange:N,onOpenToggle:a.useCallback(()=>N(x=>!x),[N]),hasCustomAnchor:u,onCustomAnchorAdd:a.useCallback(()=>p(!0),[]),onCustomAnchorRemove:a.useCallback(()=>p(!1),[]),modal:l,children:s})})};er.displayName=ke;var tr="PopoverAnchor",Rs=a.forwardRef((e,r)=>{const{__scopePopover:s,...o}=e,n=ee(tr,s),i=je(s),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=n;return a.useEffect(()=>(l(),()=>c()),[l,c]),t.jsx(ht,{...i,...o,ref:r})});Rs.displayName=tr;var rr="PopoverTrigger",sr=a.forwardRef((e,r)=>{const{__scopePopover:s,...o}=e,n=ee(rr,s),i=je(s),l=de(r,n.triggerRef),c=t.jsx(Xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":lr(n.open),...o,ref:l,onClick:U(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?c:t.jsx(ht,{asChild:!0,...i,children:c})});sr.displayName=rr;var Ge="PopoverPortal",[Ps,Es]=Qt(Ge,{forceMount:void 0}),nr=e=>{const{__scopePopover:r,forceMount:s,children:o,container:n}=e,i=ee(Ge,r);return t.jsx(Ps,{scope:r,forceMount:s,children:t.jsx(ue,{present:s||i.open,children:t.jsx(lt,{asChild:!0,container:n,children:o})})})};nr.displayName=Ge;var ce="PopoverContent",or=a.forwardRef((e,r)=>{const s=Es(ce,e.__scopePopover),{forceMount:o=s.forceMount,...n}=e,i=ee(ce,e.__scopePopover);return t.jsx(ue,{present:o||i.open,children:i.modal?t.jsx(ks,{...n,ref:r}):t.jsx(As,{...n,ref:r})})});or.displayName=ce;var Is=Jt("PopoverContent.RemoveScroll"),ks=a.forwardRef((e,r)=>{const s=ee(ce,e.__scopePopover),o=a.useRef(null),n=de(r,o),i=a.useRef(!1);return a.useEffect(()=>{const l=o.current;if(l)return dt(l)},[]),t.jsx(ct,{as:Is,allowPinchZoom:!0,children:t.jsx(ar,{...e,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),i.current||(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,m=c.button===0&&c.ctrlKey===!0,u=c.button===2||m;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:U(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),As=a.forwardRef((e,r)=>{const s=ee(ce,e.__scopePopover),o=a.useRef(!1),n=a.useRef(!1);return t.jsx(ar,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(o.current||(c=s.triggerRef.current)==null||c.focus(),i.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:i=>{var m,u;(m=e.onInteractOutside)==null||m.call(e,i),i.defaultPrevented||(o.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const l=i.target;((u=s.triggerRef.current)==null?void 0:u.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),ar=a.forwardRef((e,r)=>{const{__scopePopover:s,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:m,onFocusOutside:u,onInteractOutside:p,...h}=e,N=ee(ce,s),x=je(s);return ut(),t.jsx(mt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:n,onUnmountAutoFocus:i,children:t.jsx(pt,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:m,onFocusOutside:u,onDismiss:()=>N.onOpenChange(!1),children:t.jsx(fr,{"data-state":lr(N.open),role:"dialog",id:N.contentId,...x,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ir="PopoverClose",_s=a.forwardRef((e,r)=>{const{__scopePopover:s,...o}=e,n=ee(ir,s);return t.jsx(Xt.button,{type:"button",...o,ref:r,onClick:U(e.onClick,()=>n.onOpenChange(!1))})});_s.displayName=ir;var Os="PopoverArrow",Ms=a.forwardRef((e,r)=>{const{__scopePopover:s,...o}=e,n=je(s);return t.jsx(hr,{...n,...o,ref:r})});Ms.displayName=Os;function lr(e){return e?"open":"closed"}var Ls=er,$s=sr,Ds=nr,cr=or;const Ts=Ls,Fs=$s,He=a.forwardRef(({className:e,align:r="center",sideOffset:s=4,...o},n)=>t.jsx(Ds,{children:t.jsx(cr,{ref:n,align:r,sideOffset:s,className:O("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));He.displayName=cr.displayName;He.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};function dr({options:e,value:r,onValueChange:s,placeholder:o="Select an option",emptyText:n="No results found.",className:i}){const[l,c]=a.useState(!1),[m,u]=a.useState(""),p=a.useMemo(()=>{if(!m)return e;const x=m.toLowerCase();return e.filter(k=>k.label.toLowerCase().includes(x))},[e,m]),h=a.useCallback(x=>{console.log("Selected value:",x),s(x),c(!1),u("")},[s]),N=a.useMemo(()=>e.find(x=>x.value===r),[e,r]);return t.jsxs(Ts,{open:l,onOpenChange:c,children:[t.jsx(Fs,{asChild:!0,children:t.jsxs(z,{variant:"outline",role:"combobox","aria-expanded":l,className:O("w-full justify-between",i),children:[(N==null?void 0:N.label)||o,t.jsx(br,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),t.jsx(He,{className:"w-full p-0",children:t.jsxs(ze,{shouldFilter:!1,children:[t.jsx(Ke,{placeholder:o,value:m,onValueChange:u}),p.length===0&&t.jsx("div",{className:"py-6 text-center text-sm",children:n}),t.jsx(Ue,{className:"max-h-60 overflow-y-auto",children:p.map(x=>t.jsxs("div",{className:O("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",r===x.value&&"bg-accent text-accent-foreground"),onClick:()=>h(x.value),children:[t.jsx(gr,{className:O("mr-2 h-4 w-4",r===x.value?"opacity-100":"opacity-0")}),x.label]},x.value))})]})})]})}dr.__docgenInfo={description:"",methods:[],displayName:"Combobox",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ value: string; label: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"{ value: string; label: string }[]"},description:""},value:{required:!1,tsType:{name:"string"},description:""},onValueChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Select an option"',computed:!1}},emptyText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"No results found."',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};const Ws=Ze({mlsNumber:xe().optional(),address:Ze({city:xe(),streetName:xe(),streetSuffix:xe(),streetNumber:xe()})}),Vs={mlsNumber:"",address:{city:"toronto",streetName:"citation",streetSuffix:"dr",streetNumber:"77"}},Bs=["st","rd","ave","blvd","dr","ln","ct","pl","cir","way","ter","pkwy","sq","hwy","expy","trl","rdg","run","path","pt","cres","crt","cove","grv","hill","hls","holw","isles","isle","jct","knls","knl","lk","lks","land","lndg","mdws","ml","mews","mnt","mt","mtn","mtns","orch","oval","park","parks","pass","pike","plaza","plz","prt","prts","radl","ramp","rnch","row","rue","rvr","shl","shls","shr","shrs","skwy","spg","spgs","spur","spurs","sqr","sqrs","stn","str","stra","strav","strm","strt","sumit","terr","tpke","trce","trk","trks","trls","tunl","tunls","turnpike","un","vly","vlys","via","vis","vist","vsta","vl","vlg","vlgs","vlly","walk","walks","wall","way","ways","well","wells","xing","xrd","xrds"].sort((e,r)=>e.localeCompare(r)).map(e=>({value:e,label:e}));function ur({by:e}){const[r,s]=F.useState(!1),[o,n]=F.useState(null),[i,l]=F.useState(""),[c,m]=F.useState(null),[u,p]=F.useState([]),[h,N]=F.useState(!1),[x,k]=F.useState(0),[L,A]=F.useState([]),[V,B]=F.useState(!1),[q,G]=F.useState([]),[$,b]=F.useState(!1),C=xr({resolver:yr(Ws),defaultValues:Vs}),H=f=>{const R=new Date(f),P=new Date;return P.setDate(P.getDate()-7),R>=P},te=(f,R)=>{const P=new Date(f),y=new Date(R),E=Math.abs(y.getTime()-P.getTime());return Math.ceil(E/(1e3*60*60*24))},Y=async(f,R)=>{try{const P=await fetch(`https://api.repliers.io/listings?lat=${f}&long=${R}&radius=1&status=A`,{headers:{"REPLIERS-API-KEY":i,"Content-Type":"application/json"}});if(!P.ok)throw new Error(`API request failed with status ${P.status}`);const y=await P.json(),E=y.listings||[];p(E),k(y.count||0);const D=E.filter(d=>H(d.listDate));A(D);const w=await fetch(`https://api.repliers.io/listings?lat=${f}&long=${R}&radius=1&status=U`,{headers:{"REPLIERS-API-KEY":i,"Content-Type":"application/json"}});if(!w.ok)throw new Error(`API request failed with status ${w.status}`);const re=((await w.json()).listings||[]).filter(d=>d.soldDate&&H(d.soldDate));G(re)}catch(P){console.error("Error fetching nearby listings:",P)}},Z=async f=>{var R,P,y;try{s(!0),n(null),p([]),N(!1),k(0),A([]),B(!1),G([]),b(!1);let E;if(e==="mls#")E=await fetch(`https://api.repliers.io/listings/${f.mlsNumber}`,{headers:{"REPLIERS-API-KEY":i,"Content-Type":"application/json"}});else{const J=new URLSearchParams({city:f.address.city,streetNumber:f.address.streetNumber,streetName:f.address.streetName,streetSuffix:f.address.streetSuffix});E=await fetch(`https://api.repliers.io/listings?${J.toString()}`,{headers:{"REPLIERS-API-KEY":i,"Content-Type":"application/json"}})}if(!E.ok)throw new Error(`API request failed with status ${E.status}`);const D=await E.json();console.log("Full API Response:",D);let w;if(e==="mls#")w=D;else{if(!((R=D.listings)!=null&&R[0]))throw new Error("No listing found with the provided information");w=D.listings[0]}if(!w||!w.listPrice)throw new Error("No listing found with the provided information");console.log("Final Listing Data:",w),m(w),console.log("Checking coordinates:",w==null?void 0:w.map),(P=w==null?void 0:w.map)!=null&&P.latitude&&((y=w==null?void 0:w.map)!=null&&y.longitude)?await Y(w.map.latitude,w.map.longitude):console.log("No coordinates available for nearby listings"),console.log("Form submitted:",f)}catch(E){n(E instanceof Error?E.message:"An error occurred"),console.error("Error:",E)}finally{s(!1)}};return t.jsx(vr,{...C,children:t.jsxs("form",{onSubmit:C.handleSubmit(Z),className:"space-y-8",children:[t.jsx(Nr,{onApiKeyChange:l,isEstimates:!1}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Property Information"}),t.jsx("div",{className:"grid grid-cols-1 gap-4",children:e==="mls#"?t.jsx(me,{control:C.control,name:"mlsNumber",render:({field:f})=>t.jsxs(pe,{children:[t.jsx(fe,{children:"MLS Number"}),t.jsx(he,{children:t.jsx(we,{...f,placeholder:"Enter MLS number"})}),t.jsx(ge,{})]})}):t.jsxs(t.Fragment,{children:[t.jsx(me,{control:C.control,name:"address.streetNumber",render:({field:f})=>t.jsxs(pe,{children:[t.jsx(fe,{children:"Street Number"}),t.jsx(he,{children:t.jsx(we,{...f})}),t.jsx(ge,{})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(me,{control:C.control,name:"address.streetName",render:({field:f})=>t.jsxs(pe,{children:[t.jsx(fe,{children:"Street Name"}),t.jsx(he,{children:t.jsx(we,{...f})}),t.jsx(ge,{})]})}),t.jsx(me,{control:C.control,name:"address.streetSuffix",render:({field:f})=>(console.log("Current field value:",f.value),t.jsxs(pe,{children:[t.jsx(fe,{children:"Street Suffix"}),t.jsx(he,{children:t.jsx(dr,{options:Bs,value:f.value,onValueChange:R=>{console.log("Combobox onValueChange:",R),f.onChange(R)},placeholder:"Select street suffix"})}),t.jsx(ge,{})]}))})]}),t.jsx(me,{control:C.control,name:"address.city",render:({field:f})=>t.jsxs(pe,{children:[t.jsx(fe,{children:"City"}),t.jsx(he,{children:t.jsx(we,{...f})}),t.jsx(ge,{})]})})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(z,{type:"submit",disabled:r,className:"w-full",children:r?"Loading...":"Search"}),o&&t.jsxs("div",{className:"p-4 text-sm text-red-500 bg-red-50 rounded-md border border-red-200",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Error"}),o]}),c&&t.jsx(gt,{listingData:c}),q.length>0&&!$&&t.jsxs("div",{className:"p-4 bg-purple-50 rounded-md border border-purple-200",children:[t.jsxs("p",{className:"text-sm text-purple-700 mb-2",children:["Found ",q.length," properties sold in the last 7 days within 1km radius"]}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"text-purple-700 hover:text-purple-800",children:"Show Recent Sales"})]}),$&&q.length>0&&t.jsxs("div",{className:"p-4 bg-white rounded-md border",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:"Recent Sales (Last 7 Days)"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Within 1km radius of the property"})]}),t.jsx(z,{variant:"ghost",size:"sm",onClick:()=>b(!1),children:"Hide"})]}),t.jsx("div",{className:"space-y-2",children:q.map((f,R)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-md hover:bg-gray-100",children:[t.jsxs("p",{className:"font-medium",children:[f.address.streetNumber," ",f.address.streetName," ",f.address.streetSuffix]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"List Price"}),t.jsxs("p",{className:"font-medium text-gray-700",children:["$",f.listPrice.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Sold Price"}),t.jsxs("p",{className:"font-medium text-green-600",children:["$",f.soldPrice.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Days on Market"}),t.jsxs("p",{className:"font-medium text-gray-700",children:[te(f.listDate,f.soldDate)," ","days"]})]})]}),t.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Sold: ",new Date(f.soldDate).toLocaleDateString()]})]},R))})]}),L.length>0&&!V&&t.jsxs("div",{className:"p-4 bg-green-50 rounded-md border border-green-200",children:[t.jsxs("p",{className:"text-sm text-green-700 mb-2",children:["Found ",L.length," new listings in the last 7 days within 1km radius"]}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>B(!0),className:"text-green-700 hover:text-green-800",children:"Show Recent Listings"})]}),V&&L.length>0&&t.jsxs("div",{className:"p-4 bg-white rounded-md border",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:"Recent Listings (Last 7 Days)"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Within 1km radius of the property"})]}),t.jsx(z,{variant:"ghost",size:"sm",onClick:()=>B(!1),children:"Hide"})]}),t.jsx("div",{className:"space-y-2",children:L.map((f,R)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-md hover:bg-gray-100",children:[t.jsxs("p",{className:"font-medium",children:[f.address.streetNumber," ",f.address.streetName," ",f.address.streetSuffix]}),t.jsxs("div",{className:"flex justify-between items-center mt-1",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["$",f.listPrice.toLocaleString()]}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Listed:"," ",new Date(f.listDate).toLocaleDateString()]})]})]},R))})]}),u.length>0&&!h&&t.jsxs("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:[t.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["Found ",x," active listings within 1km radius"]}),t.jsx(z,{variant:"outline",size:"sm",onClick:()=>N(!0),className:"text-blue-700 hover:text-blue-800",children:"Show Nearby Listings"})]}),h&&u.length>0&&t.jsxs("div",{className:"p-4 bg-white rounded-md border",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:"Nearby Active Listings"}),t.jsx("p",{className:"text-sm text-gray-500",children:"All active listings within 1km radius"})]}),t.jsx(z,{variant:"ghost",size:"sm",onClick:()=>N(!1),children:"Hide"})]}),t.jsx("div",{className:"space-y-2",children:u.map((f,R)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-md hover:bg-gray-100",children:[t.jsxs("p",{className:"font-medium",children:[f.address.streetNumber," ",f.address.streetName," ",f.address.streetSuffix]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["$",f.listPrice.toLocaleString()]})]},R))})]})]})]})})}ur.__docgenInfo={description:"",methods:[],displayName:"MarketInsights",props:{by:{required:!0,tsType:{name:"union",raw:'"mls#" | "address"',elements:[{name:"literal",value:'"mls#"'},{name:"literal",value:'"address"'}]},description:""}}};const Qs={title:"POCS/Reports/Market Insights Report",component:ur,parameters:{layout:"centered"},tags:["autodocs"]},Ce={args:{by:"mls#"}},Re={args:{by:"address"}};var et,tt,rt;Ce.parameters={...Ce.parameters,docs:{...(et=Ce.parameters)==null?void 0:et.docs,source:{originalSource:`{
  args: {
    by: "mls#"
  }
}`,...(rt=(tt=Ce.parameters)==null?void 0:tt.docs)==null?void 0:rt.source}}};var st,nt,ot;Re.parameters={...Re.parameters,docs:{...(st=Re.parameters)==null?void 0:st.docs,source:{originalSource:`{
  args: {
    by: "address"
  }
}`,...(ot=(nt=Re.parameters)==null?void 0:nt.docs)==null?void 0:ot.source}}};const en=["MarketInsightsByMLS","MarketInsightsByAddress"];export{Re as MarketInsightsByAddress,Ce as MarketInsightsByMLS,en as __namedExportsOrder,Qs as default};
