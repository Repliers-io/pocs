import{j as c}from"./jsx-runtime-t4wn-SKn.js";import{r as v}from"./index-_WPRuD3u.js";import{X as Zt}from"./x-BzsUIsLd.js";import{c as J}from"./createLucideIcon-CgXS92CT.js";import{B as Co}from"./bath-Dz20rIpy.js";import{C as Ao}from"./chevron-down-CybO7yE-.js";import{U as jo}from"./user-BMpLEGYp.js";import{L as on}from"./loader-circle-B7cr2jL4.js";import"./jsx-runtime-B4cumj5F.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ko=J("arrow-up",No);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Vo=J("bed",Mo);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],an=J("bot",Do);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ro=J("chevron-left",Eo);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Io=J("chevron-right",Lo);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Fo=J("chevron-up",Bo);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Ei=J("house",Oo);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Uo=J("maximize-2",$o);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],qo=J("message-circle",_o);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Go=J("mic",Wo),Jt=v.createContext({});function Qt(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const es=typeof window<"u",Ri=es?v.useLayoutEffect:v.useEffect,at=v.createContext(null);function ts(e,t){e.indexOf(t)===-1&&e.push(t)}function ss(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Z=(e,t,s)=>s>t?t:s<e?e:s;let ns=()=>{};const te={},Li=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Ii(e){return typeof e=="object"&&e!==null}const Bi=e=>/^0[^.\s]+$/u.test(e);function is(e){let t;return()=>(t===void 0&&(t=e()),t)}const K=e=>e,Ko=(e,t)=>s=>t(e(s)),Ue=(...e)=>e.reduce(Ko),Le=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class rs{constructor(){this.subscriptions=[]}add(t){return ts(this.subscriptions,t),()=>ss(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ee=e=>e*1e3,G=e=>e/1e3;function Fi(e,t){return t?e*(1e3/t):0}const Oi=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Ho=1e-7,zo=12;function Yo(e,t,s,n,i){let o,r,a=0;do r=t+(s-t)/2,o=Oi(r,n,i)-e,o>0?s=r:t=r;while(Math.abs(o)>Ho&&++a<zo);return r}function _e(e,t,s,n){if(e===t&&s===n)return K;const i=o=>Yo(o,0,1,e,s);return o=>o===0||o===1?o:Oi(i(o),t,n)}const $i=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ui=e=>t=>1-e(1-t),_i=_e(.33,1.53,.69,.99),os=Ui(_i),qi=$i(os),Wi=e=>(e*=2)<1?.5*os(e):.5*(2-Math.pow(2,-10*(e-1))),as=e=>1-Math.sin(Math.acos(e)),Gi=Ui(as),Ki=$i(as),Xo=_e(.42,0,1,1),Zo=_e(0,0,.58,1),Hi=_e(.42,0,.58,1),Jo=e=>Array.isArray(e)&&typeof e[0]!="number",zi=e=>Array.isArray(e)&&typeof e[0]=="number",Qo={linear:K,easeIn:Xo,easeInOut:Hi,easeOut:Zo,circIn:as,circInOut:Ki,circOut:Gi,backIn:os,backInOut:qi,backOut:_i,anticipate:Wi},ea=e=>typeof e=="string",ln=e=>{if(zi(e)){ns(e.length===4);const[t,s,n,i]=e;return _e(t,s,n,i)}else if(ea(e))return Qo[e];return e},He=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ta(e,t){let s=new Set,n=new Set,i=!1,o=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){r.has(u)&&(d.schedule(u),e()),u(a)}const d={schedule:(u,h=!1,f=!1)=>{const x=f&&i?s:n;return h&&r.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),r.delete(u)},process:u=>{if(a=u,i){o=!0;return}i=!0,[s,n]=[n,s],s.forEach(l),s.clear(),i=!1,o&&(o=!1,d.process(u))}};return d}const sa=40;function Yi(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,r=He.reduce((y,C)=>(y[C]=ta(o),y),{}),{setup:a,read:l,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:p,postRender:x}=r,g=()=>{const y=te.useManualTiming?i.timestamp:performance.now();s=!1,te.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(y-i.timestamp,sa),1)),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),d.process(i),u.process(i),h.process(i),f.process(i),p.process(i),x.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(g))},w=()=>{s=!0,n=!0,i.isProcessing||e(g)};return{schedule:He.reduce((y,C)=>{const T=r[C];return y[C]=(A,j=!1,S=!1)=>(s||w(),T.schedule(A,j,S)),y},{}),cancel:y=>{for(let C=0;C<He.length;C++)r[He[C]].cancel(y)},state:i,steps:r}}const{schedule:k,cancel:re,state:B,steps:ht}=Yi(typeof requestAnimationFrame<"u"?requestAnimationFrame:K,!0);let Ze;function na(){Ze=void 0}const U={now:()=>(Ze===void 0&&U.set(B.isProcessing||te.useManualTiming?B.timestamp:performance.now()),Ze),set:e=>{Ze=e,queueMicrotask(na)}},Xi=e=>t=>typeof t=="string"&&t.startsWith(e),Zi=Xi("--"),ia=Xi("var(--"),ls=e=>ia(e)?ra.test(e.split("/*")[0].trim()):!1,ra=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function cn(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const we={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ie={...we,transform:e=>Z(0,1,e)},ze={...we,default:1},Ve=e=>Math.round(e*1e5)/1e5,cs=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oa(e){return e==null}const aa=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,us=(e,t)=>s=>!!(typeof s=="string"&&aa.test(s)&&s.startsWith(e)||t&&!oa(s)&&Object.prototype.hasOwnProperty.call(s,t)),Ji=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,o,r,a]=n.match(cs);return{[e]:parseFloat(i),[t]:parseFloat(o),[s]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},la=e=>Z(0,255,e),ft={...we,transform:e=>Math.round(la(e))},de={test:us("rgb","red"),parse:Ji("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+ft.transform(e)+", "+ft.transform(t)+", "+ft.transform(s)+", "+Ve(Ie.transform(n))+")"};function ca(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Nt={test:us("#"),parse:ca,transform:de.transform},qe=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),se=qe("deg"),X=qe("%"),P=qe("px"),ua=qe("vh"),da=qe("vw"),un={...X,parse:e=>X.parse(e)/100,transform:e=>X.transform(e*100)},pe={test:us("hsl","hue"),parse:Ji("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+X.transform(Ve(t))+", "+X.transform(Ve(s))+", "+Ve(Ie.transform(n))+")"},R={test:e=>de.test(e)||Nt.test(e)||pe.test(e),parse:e=>de.test(e)?de.parse(e):pe.test(e)?pe.parse(e):Nt.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?de.transform(e):pe.transform(e),getAnimatableNone:e=>{const t=R.parse(e);return t.alpha=0,R.transform(t)}},ha=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fa(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cs))==null?void 0:t.length)||0)+(((s=e.match(ha))==null?void 0:s.length)||0)>0}const Qi="number",er="color",pa="var",ma="var(",dn="${}",ga=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Be(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(ga,l=>(R.test(l)?(n.color.push(o),i.push(er),s.push(R.parse(l))):l.startsWith(ma)?(n.var.push(o),i.push(pa),s.push(l)):(n.number.push(o),i.push(Qi),s.push(parseFloat(l))),++o,dn)).split(dn);return{values:s,split:a,indexes:n,types:i}}function tr(e){return Be(e).values}function sr(e){const{split:t,types:s}=Be(e),n=t.length;return i=>{let o="";for(let r=0;r<n;r++)if(o+=t[r],i[r]!==void 0){const a=s[r];a===Qi?o+=Ve(i[r]):a===er?o+=R.transform(i[r]):o+=i[r]}return o}}const ya=e=>typeof e=="number"?0:R.test(e)?R.getAnimatableNone(e):e;function xa(e){const t=tr(e);return sr(e)(t.map(ya))}const oe={test:fa,parse:tr,createTransformer:sr,getAnimatableNone:xa};function pt(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function va({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,o=0,r=0;if(!t)i=o=r=s;else{const a=s<.5?s*(1+t):s+t-s*t,l=2*s-a;i=pt(l,a,e+1/3),o=pt(l,a,e),r=pt(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:n}}function tt(e,t){return s=>s>0?t:e}const V=(e,t,s)=>e+(t-e)*s,mt=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},ba=[Nt,de,pe],wa=e=>ba.find(t=>t.test(e));function hn(e){const t=wa(e);if(!t)return!1;let s=t.parse(e);return t===pe&&(s=va(s)),s}const fn=(e,t)=>{const s=hn(e),n=hn(t);if(!s||!n)return tt(e,t);const i={...s};return o=>(i.red=mt(s.red,n.red,o),i.green=mt(s.green,n.green,o),i.blue=mt(s.blue,n.blue,o),i.alpha=V(s.alpha,n.alpha,o),de.transform(i))},kt=new Set(["none","hidden"]);function Ta(e,t){return kt.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function Pa(e,t){return s=>V(e,t,s)}function ds(e){return typeof e=="number"?Pa:typeof e=="string"?ls(e)?tt:R.test(e)?fn:Aa:Array.isArray(e)?nr:typeof e=="object"?R.test(e)?fn:Sa:tt}function nr(e,t){const s=[...e],n=s.length,i=e.map((o,r)=>ds(o)(o,t[r]));return o=>{for(let r=0;r<n;r++)s[r]=i[r](o);return s}}function Sa(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=ds(e[i])(e[i],t[i]));return i=>{for(const o in n)s[o]=n[o](i);return s}}function Ca(e,t){const s=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],r=e.indexes[o][n[o]],a=e.values[r]??0;s[i]=a,n[o]++}return s}const Aa=(e,t)=>{const s=oe.createTransformer(t),n=Be(e),i=Be(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?kt.has(e)&&!i.values.length||kt.has(t)&&!n.values.length?Ta(e,t):Ue(nr(Ca(n,i),i.values),s):tt(e,t)};function ir(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?V(e,t,s):ds(e)(e,t)}const ja=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>k.update(t,s),stop:()=>re(t),now:()=>B.isProcessing?B.timestamp:U.now()}},rr=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let o=0;o<i;o++)n+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},st=2e4;function hs(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<st;)t+=s,n=e.next(t);return t>=st?1/0:t}function Na(e,t=100,s){const n=s({...e,keyframes:[0,t]}),i=Math.min(hs(n),st);return{type:"keyframes",ease:o=>n.next(i*o).value/t,duration:G(i)}}const ka=5;function or(e,t,s){const n=Math.max(t-ka,0);return Fi(s-e(n),t-n)}const D={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gt=.001;function Ma({duration:e=D.duration,bounce:t=D.bounce,velocity:s=D.velocity,mass:n=D.mass}){let i,o,r=1-t;r=Z(D.minDamping,D.maxDamping,r),e=Z(D.minDuration,D.maxDuration,G(e)),r<1?(i=d=>{const u=d*r,h=u*e,f=u-s,p=Mt(d,r),x=Math.exp(-h);return gt-f/p*x},o=d=>{const h=d*r*e,f=h*s+s,p=Math.pow(r,2)*Math.pow(d,2)*e,x=Math.exp(-h),g=Mt(Math.pow(d,2),r);return(-i(d)+gt>0?-1:1)*((f-p)*x)/g}):(i=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-gt+u*h},o=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const a=5/e,l=Da(i,o,a);if(e=ee(e),isNaN(l))return{stiffness:D.stiffness,damping:D.damping,duration:e};{const d=Math.pow(l,2)*n;return{stiffness:d,damping:r*2*Math.sqrt(n*d),duration:e}}}const Va=12;function Da(e,t,s){let n=s;for(let i=1;i<Va;i++)n=n-e(n)/t(n);return n}function Mt(e,t){return e*Math.sqrt(1-t*t)}const Ea=["duration","bounce"],Ra=["stiffness","damping","mass"];function pn(e,t){return t.some(s=>e[s]!==void 0)}function La(e){let t={velocity:D.velocity,stiffness:D.stiffness,damping:D.damping,mass:D.mass,isResolvedFromDuration:!1,...e};if(!pn(e,Ra)&&pn(e,Ea))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,o=2*Z(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:D.mass,stiffness:i,damping:o}}else{const s=Ma(e);t={...t,...s,mass:D.mass},t.isResolvedFromDuration=!0}return t}function nt(e=D.visualDuration,t=D.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const o=s.keyframes[0],r=s.keyframes[s.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=La({...s,velocity:-G(s.velocity||0)}),x=f||0,g=d/(2*Math.sqrt(l*u)),w=r-o,m=G(Math.sqrt(l/u)),b=Math.abs(w)<5;n||(n=b?D.restSpeed.granular:D.restSpeed.default),i||(i=b?D.restDelta.granular:D.restDelta.default);let y;if(g<1){const T=Mt(m,g);y=A=>{const j=Math.exp(-g*m*A);return r-j*((x+g*m*w)/T*Math.sin(T*A)+w*Math.cos(T*A))}}else if(g===1)y=T=>r-Math.exp(-m*T)*(w+(x+m*w)*T);else{const T=m*Math.sqrt(g*g-1);y=A=>{const j=Math.exp(-g*m*A),S=Math.min(T*A,300);return r-j*((x+g*m*w)*Math.sinh(S)+T*w*Math.cosh(S))/T}}const C={calculatedDuration:p&&h||null,next:T=>{const A=y(T);if(p)a.done=T>=h;else{let j=T===0?x:0;g<1&&(j=T===0?ee(x):or(y,T,A));const S=Math.abs(j)<=n,M=Math.abs(r-A)<=i;a.done=S&&M}return a.value=a.done?r:A,a},toString:()=>{const T=Math.min(hs(C),st),A=rr(j=>C.next(T*j).value,T,30);return T+"ms "+A},toTransition:()=>{}};return C}nt.applyToOptions=e=>{const t=Na(e,100,nt);return e.ease=t.ease,e.duration=ee(t.duration),e.type="keyframes",e};function Vt({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:l,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},p=S=>a!==void 0&&S<a||l!==void 0&&S>l,x=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let g=s*t;const w=h+g,m=r===void 0?w:r(w);m!==w&&(g=m-h);const b=S=>-g*Math.exp(-S/n),y=S=>m+b(S),C=S=>{const M=b(S),L=y(S);f.done=Math.abs(M)<=d,f.value=f.done?m:L};let T,A;const j=S=>{p(f.value)&&(T=S,A=nt({keyframes:[f.value,x(f.value)],velocity:or(y,S,f.value),damping:i,stiffness:o,restDelta:d,restSpeed:u}))};return j(0),{calculatedDuration:null,next:S=>{let M=!1;return!A&&T===void 0&&(M=!0,C(S),j(S)),T!==void 0&&S>=T?A.next(S-T):(!M&&C(S),f)}}}function Ia(e,t,s){const n=[],i=s||te.mix||ir,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const l=Array.isArray(t)?t[r]||K:t;a=Ue(l,a)}n.push(a)}return n}function Ba(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const o=e.length;if(ns(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Ia(t,n,i),l=a.length,d=u=>{if(r&&u<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const f=Le(e[h],e[h+1],u);return a[h](f)};return s?u=>d(Z(e[0],e[o-1],u)):d}function Fa(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=Le(0,t,n);e.push(V(s,1,i))}}function Oa(e){const t=[0];return Fa(t,e.length-1),t}function $a(e,t){return e.map(s=>s*t)}function Ua(e,t){return e.map(()=>t||Hi).splice(0,e.length-1)}function De({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=Jo(n)?n.map(ln):ln(n),o={done:!1,value:t[0]},r=$a(s&&s.length===t.length?s:Oa(t),e),a=Ba(r,t,{ease:Array.isArray(i)?i:Ua(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const _a=e=>e!==null;function fs(e,{repeat:t,repeatType:s="loop"},n,i=1){const o=e.filter(_a),a=i<0||t&&s!=="loop"&&t%2===1?0:o.length-1;return!a||n===void 0?o[a]:n}const qa={decay:Vt,inertia:Vt,tween:De,keyframes:De,spring:nt};function ar(e){typeof e.type=="string"&&(e.type=qa[e.type])}class ps{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Wa=e=>e/100;class ms extends ps{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:s}=this.options;s&&s.updatedAt!==U.now()&&this.tick(U.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ar(t);const{type:s=De,repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=t;let{keyframes:a}=t;const l=s||De;l!==De&&typeof a[0]!="number"&&(this.mixKeyframes=Ue(Wa,ir(a[0],a[1])),a=[0,100]);const d=l({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-r})),d.calculatedDuration===null&&(d.calculatedDuration=hs(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:i,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:p,type:x,onUpdate:g,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const m=this.currentTime-d*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?m<0:m>i;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,C=n;if(h){const S=Math.min(this.currentTime,i)/a;let M=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(f==="reverse"?(L=1-L,p&&(L-=p/a)):f==="mirror"&&(C=r)),y=Z(0,1,L)*a}const T=b?{done:!1,value:u[0]}:C.next(y);o&&(T.value=o(T.value));let{done:A}=T;!b&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return j&&x!==Vt&&(T.value=fs(u,this.options,w,this.speed)),g&&g(T.value),j&&this.finish(),T}then(t,s){return this.finished.then(t,s)}get duration(){return G(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+G(t)}get time(){return G(this.currentTime)}set time(t){var s;t=ee(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(U.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=G(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=ja,startTime:s}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(o=(i=this.options).onPlay)==null||o.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(U.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Ga(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const he=e=>e*180/Math.PI,Dt=e=>{const t=he(Math.atan2(e[1],e[0]));return Et(t)},Ka={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Dt,rotateZ:Dt,skewX:e=>he(Math.atan(e[1])),skewY:e=>he(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Et=e=>(e=e%360,e<0&&(e+=360),e),mn=Dt,gn=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),yn=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ha={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gn,scaleY:yn,scale:e=>(gn(e)+yn(e))/2,rotateX:e=>Et(he(Math.atan2(e[6],e[5]))),rotateY:e=>Et(he(Math.atan2(-e[2],e[0]))),rotateZ:mn,rotate:mn,skewX:e=>he(Math.atan(e[4])),skewY:e=>he(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Rt(e){return e.includes("scale")?1:0}function Lt(e,t){if(!e||e==="none")return Rt(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(s)n=Ha,i=s;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Ka,i=a}if(!i)return Rt(t);const o=n[t],r=i[1].split(",").map(Ya);return typeof o=="function"?o(r):r[o]}const za=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Lt(s,t)};function Ya(e){return parseFloat(e.trim())}const Te=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pe=new Set(Te),xn=e=>e===we||e===P,Xa=new Set(["x","y","z"]),Za=Te.filter(e=>!Xa.has(e));function Ja(e){const t=[];return Za.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const ne={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Lt(t,"x"),y:(e,{transform:t})=>Lt(t,"y")};ne.translateX=ne.x;ne.translateY=ne.y;const fe=new Set;let It=!1,Bt=!1,Ft=!1;function lr(){if(Bt){const e=Array.from(fe).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=Ja(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([o,r])=>{var a;(a=n.getValue(o))==null||a.set(r)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Bt=!1,It=!1,fe.forEach(e=>e.complete(Ft)),fe.clear()}function cr(){fe.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bt=!0)})}function Qa(){Ft=!0,cr(),lr(),Ft=!1}class gs{constructor(t,s,n,i,o,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(fe.add(this),It||(It=!0,k.read(cr),k.resolveKeyframes(lr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),r=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&s){const a=n.readValue(s,r);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=r),i&&o===void 0&&i.set(t[0])}Ga(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fe.delete(this)}cancel(){this.state==="scheduled"&&(fe.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const el=e=>e.startsWith("--");function tl(e,t,s){el(t)?e.style.setProperty(t,s):e.style[t]=s}const sl=is(()=>window.ScrollTimeline!==void 0),nl={};function il(e,t){const s=is(e);return()=>nl[t]??s()}const ur=il(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ke=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,vn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ke([0,.65,.55,1]),circOut:ke([.55,0,1,.45]),backIn:ke([.31,.01,.66,-.59]),backOut:ke([.33,1.53,.69,.99])};function dr(e,t){if(e)return typeof e=="function"?ur()?rr(e,t):"ease-out":zi(e)?ke(e):Array.isArray(e)?e.map(s=>dr(s,t)||vn.easeOut):vn[e]}function rl(e,t,s,{delay:n=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeOut",times:l}={},d=void 0){const u={[t]:s};l&&(u.offset=l);const h=dr(a,i);Array.isArray(h)&&(u.easing=h);const f={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),e.animate(u,f)}function hr(e){return typeof e=="function"&&"applyToOptions"in e}function ol({type:e,...t}){return hr(e)&&ur()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class al extends ps{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:s,name:n,keyframes:i,pseudoElement:o,allowFlatten:r=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!o,this.allowFlatten=r,this.options=t,ns(typeof t.type!="string");const d=ol(t);this.animation=rl(s,n,i,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=fs(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):tl(s,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return G(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+G(t)}get time(){return G(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ee(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&sl()?(this.animation.timeline=t,K):s(this)}}const fr={anticipate:Wi,backInOut:qi,circInOut:Ki};function ll(e){return e in fr}function cl(e){typeof e.ease=="string"&&ll(e.ease)&&(e.ease=fr[e.ease])}const yt=10;class ul extends al{constructor(t){cl(t),ar(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:i,element:o,...r}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const a=new ms({...r,autoplay:!1}),l=Math.max(yt,U.now()-this.startTime),d=Z(0,yt,l-yt);s.setWithVelocity(a.sample(Math.max(0,l-d)).value,a.sample(l).value,d),a.stop()}}const bn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(oe.test(e)||e==="0")&&!e.startsWith("url("));function dl(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function hl(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=bn(i,t),a=bn(o,t);return!r||!a?!1:dl(e)||(s==="spring"||hr(s))&&n}function Ot(e){e.duration=0,e.type="keyframes"}const fl=new Set(["opacity","clipPath","filter","transform"]),pl=is(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ml(e){var u;const{motionValue:t,name:s,repeatDelay:n,repeatType:i,damping:o,type:r}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=t.owner.getProps();return pl()&&s&&fl.has(s)&&(s!=="transform"||!d)&&!l&&!n&&i!=="mirror"&&o!==0&&r!=="inertia"}const gl=40;class yl extends ps{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",keyframes:a,name:l,motionValue:d,element:u,...h}){var x;super(),this.stop=()=>{var g,w;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=U.now();const f={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:o,repeatType:r,name:l,motionValue:d,element:u,...h},p=(u==null?void 0:u.KeyframeResolver)||gs;this.keyframeResolver=new p(a,(g,w,m)=>this.onKeyframesResolved(g,w,f,!m),l,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,s,n,i){this.keyframeResolver=void 0;const{name:o,type:r,velocity:a,delay:l,isHandoff:d,onUpdate:u}=n;this.resolvedAt=U.now(),hl(t,o,r,a)||((te.instantAnimations||!l)&&(u==null||u(fs(t,n,s))),t[0]=t[t.length-1],Ot(n),n.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>gl?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},p=!d&&ml(f)?new ul({...f,element:f.motionValue.owner.current}):new ms(f);p.finished.then(()=>this.notifyFinished()).catch(K),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Qa()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const xl=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vl(e){const t=xl.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function pr(e,t,s=1){const[n,i]=vl(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const r=o.trim();return Li(r)?parseFloat(r):r}return ls(i)?pr(i,t,s+1):i}function ys(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const mr=new Set(["width","height","top","left","right","bottom",...Te]),bl={test:e=>e==="auto",parse:e=>e},gr=e=>t=>t.test(e),yr=[we,P,X,se,da,ua,bl],wn=e=>yr.find(gr(e));function wl(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Bi(e):!0}const Tl=new Set(["brightness","contrast","saturate","opacity"]);function Pl(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(cs)||[];if(!n)return e;const i=s.replace(n,"");let o=Tl.has(t)?1:0;return n!==s&&(o*=100),t+"("+o+i+")"}const Sl=/\b([a-z-]*)\(.*?\)/gu,$t={...oe,getAnimatableNone:e=>{const t=e.match(Sl);return t?t.map(Pl).join(" "):e}},Tn={...we,transform:Math.round},Cl={rotate:se,rotateX:se,rotateY:se,rotateZ:se,scale:ze,scaleX:ze,scaleY:ze,scaleZ:ze,skew:se,skewX:se,skewY:se,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:Ie,originX:un,originY:un,originZ:P},xs={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,radius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,top:P,right:P,bottom:P,left:P,inset:P,insetBlock:P,insetBlockStart:P,insetBlockEnd:P,insetInline:P,insetInlineStart:P,insetInlineEnd:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,paddingBlock:P,paddingBlockStart:P,paddingBlockEnd:P,paddingInline:P,paddingInlineStart:P,paddingInlineEnd:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,marginBlock:P,marginBlockStart:P,marginBlockEnd:P,marginInline:P,marginInlineStart:P,marginInlineEnd:P,backgroundPositionX:P,backgroundPositionY:P,...Cl,zIndex:Tn,fillOpacity:Ie,strokeOpacity:Ie,numOctaves:Tn},Al={...xs,color:R,backgroundColor:R,outlineColor:R,fill:R,stroke:R,borderColor:R,borderTopColor:R,borderRightColor:R,borderBottomColor:R,borderLeftColor:R,filter:$t,WebkitFilter:$t},xr=e=>Al[e];function vr(e,t){let s=xr(e);return s!==$t&&(s=oe),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const jl=new Set(["auto","none","0"]);function Nl(e,t,s){let n=0,i;for(;n<e.length&&!i;){const o=e[n];typeof o=="string"&&!jl.has(o)&&Be(o).values.length&&(i=e[n]),n++}if(i&&s)for(const o of t)e[o]=vr(s,i)}class kl extends gs{constructor(t,s,n,i,o){super(t,s,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let h=t[u];if(typeof h=="string"&&(h=h.trim(),ls(h))){const f=pr(h,s.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!mr.has(n)||t.length!==2)return;const[i,o]=t,r=wn(i),a=wn(o),l=cn(i),d=cn(o);if(l!==d&&ne[n]){this.needsMeasurement=!0;return}if(r!==a)if(xn(r)&&xn(a))for(let u=0;u<t.length;u++){const h=t[u];typeof h=="string"&&(t[u]=parseFloat(h))}else ne[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||wl(t[i]))&&n.push(i);n.length&&Nl(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ne[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const o=n.length-1,r=n[o];n[o]=ne[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,d])=>{t.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function Ml(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(s==null?void 0:s[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const br=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function wr(e){return Ii(e)&&"offsetHeight"in e}const Pn=30,Vl=e=>!isNaN(parseFloat(e));class Dl{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var o;const i=U.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=U.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Vl(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new rs);const n=this.events[t].add(s);return t==="change"?()=>{n(),k.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=U.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Pn)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Pn);return Fi(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ve(e,t){return new Dl(e,t)}const{schedule:vs}=Yi(queueMicrotask,!1),z={x:!1,y:!1};function Tr(){return z.x||z.y}function El(e){return e==="x"||e==="y"?z[e]?null:(z[e]=!0,()=>{z[e]=!1}):z.x||z.y?null:(z.x=z.y=!0,()=>{z.x=z.y=!1})}function Pr(e,t){const s=Ml(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[s,i,()=>n.abort()]}function Sn(e){return!(e.pointerType==="touch"||Tr())}function Rl(e,t,s={}){const[n,i,o]=Pr(e,s),r=a=>{if(!Sn(a))return;const{target:l}=a,d=t(l,a);if(typeof d!="function"||!l)return;const u=h=>{Sn(h)&&(d(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return n.forEach(a=>{a.addEventListener("pointerenter",r,i)}),o}const Sr=(e,t)=>t?e===t?!0:Sr(e,t.parentElement):!1,bs=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ll=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Cr(e){return Ll.has(e.tagName)||e.isContentEditable===!0}const Je=new WeakSet;function Cn(e){return t=>{t.key==="Enter"&&e(t)}}function xt(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Il=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=Cn(()=>{if(Je.has(s))return;xt(s,"down");const i=Cn(()=>{xt(s,"up")}),o=()=>xt(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function An(e){return bs(e)&&!Tr()}function Bl(e,t,s={}){const[n,i,o]=Pr(e,s),r=a=>{const l=a.currentTarget;if(!An(a))return;Je.add(l);const d=t(l,a),u=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Je.has(l)&&Je.delete(l),An(p)&&typeof d=="function"&&d(p,{success:x})},h=p=>{u(p,l===window||l===document||s.useGlobalTarget||Sr(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",f,i)};return n.forEach(a=>{(s.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),wr(a)&&(a.addEventListener("focus",d=>Il(d,i)),!Cr(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function Ar(e){return Ii(e)&&"ownerSVGElement"in e}function Fl(e){return Ar(e)&&e.tagName==="svg"}const O=e=>!!(e&&e.getVelocity),Ol=[...yr,R,oe],$l=e=>Ol.find(gr(e)),ws=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function jn(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ul(...e){return t=>{let s=!1;const n=e.map(i=>{const o=jn(i,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():jn(e[i],null)}}}}function _l(...e){return v.useCallback(Ul(...e),e)}class ql extends v.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=s.offsetParent,i=wr(n)&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Wl({children:e,isPresent:t,anchorX:s,root:n}){var u;const i=v.useId(),o=v.useRef(null),r=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(ws),l=((u=e.props)==null?void 0:u.ref)??(e==null?void 0:e.ref),d=_l(o,l);return v.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:x,right:g}=r.current;if(t||!o.current||!h||!f)return;const w=s==="left"?`left: ${x}`:`right: ${g}`;o.current.dataset.motionPopId=i;const m=document.createElement("style");a&&(m.nonce=a);const b=n??document.head;return b.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{b.contains(m)&&b.removeChild(m)}},[t]),c.jsx(ql,{isPresent:t,childRef:o,sizeRef:r,children:v.cloneElement(e,{ref:d})})}const Gl=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:r,anchorX:a,root:l})=>{const d=Qt(Kl),u=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:s,custom:i,onExitComplete:p=>{d.set(p,!0);for(const x of d.values())if(!x)return;n&&n()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[s,d,n]);return o&&h&&(f={...f}),v.useMemo(()=>{d.forEach((p,x)=>d.set(x,!1))},[s]),v.useEffect(()=>{!s&&!d.size&&n&&n()},[s]),r==="popLayout"&&(e=c.jsx(Wl,{isPresent:s,anchorX:a,root:l,children:e})),c.jsx(at.Provider,{value:f,children:e})};function Kl(){return new Map}function jr(e=!0){const t=v.useContext(at);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:i}=t,o=v.useId();v.useEffect(()=>{if(e)return i(o)},[e]);const r=v.useCallback(()=>e&&n&&n(o),[o,n,e]);return!s&&n?[!1,r]:[!0]}const Ye=e=>e.key||"";function Nn(e){const t=[];return v.Children.forEach(e,s=>{v.isValidElement(s)&&t.push(s)}),t}const Fe=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:o="sync",propagate:r=!1,anchorX:a="left",root:l})=>{const[d,u]=jr(r),h=v.useMemo(()=>Nn(e),[e]),f=r&&!d?[]:h.map(Ye),p=v.useRef(!0),x=v.useRef(h),g=Qt(()=>new Map),w=v.useRef(new Set),[m,b]=v.useState(h),[y,C]=v.useState(h);Ri(()=>{p.current=!1,x.current=h;for(let j=0;j<y.length;j++){const S=Ye(y[j]);f.includes(S)?(g.delete(S),w.current.delete(S)):g.get(S)!==!0&&g.set(S,!1)}},[y,f.length,f.join("-")]);const T=[];if(h!==m){let j=[...h];for(let S=0;S<y.length;S++){const M=y[S],L=Ye(M);f.includes(L)||(j.splice(S,0,M),T.push(M))}return o==="wait"&&T.length&&(j=T),C(Nn(j)),b(h),null}const{forceRender:A}=v.useContext(Jt);return c.jsx(c.Fragment,{children:y.map(j=>{const S=Ye(j),M=r&&!d?!1:h===y||f.includes(S),L=()=>{if(w.current.has(S))return;if(w.current.add(S),g.has(S))g.set(S,!0);else return;let q=!0;g.forEach(le=>{le||(q=!1)}),q&&(A==null||A(),C(x.current),r&&(u==null||u()),n&&n())};return c.jsx(Gl,{isPresent:M,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:l,onExitComplete:M?void 0:L,anchorX:a,children:j},S)})})},Nr=v.createContext({strict:!1}),kn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},be={};for(const e in kn)be[e]={isEnabled:t=>kn[e].some(s=>!!t[s])};function Hl(e){for(const t in e)be[t]={...be[t],...e[t]}}const zl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function it(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zl.has(e)}let kr=e=>!it(e);function Yl(e){typeof e=="function"&&(kr=t=>t.startsWith("on")?!it(t):e(t))}try{Yl(require("@emotion/is-prop-valid").default)}catch{}function Xl(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(kr(i)||s===!0&&it(i)||!t&&!it(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const lt=v.createContext({});function ct(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Oe(e){return typeof e=="string"||Array.isArray(e)}const Ts=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ps=["initial",...Ts];function ut(e){return ct(e.animate)||Ps.some(t=>Oe(e[t]))}function Mr(e){return!!(ut(e)||e.variants)}function Zl(e,t){if(ut(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Oe(s)?s:void 0,animate:Oe(n)?n:void 0}}return e.inherit!==!1?t:{}}function Jl(e){const{initial:t,animate:s}=Zl(e,v.useContext(lt));return v.useMemo(()=>({initial:t,animate:s}),[Mn(t),Mn(s)])}function Mn(e){return Array.isArray(e)?e.join(" "):e}function Vn(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ae={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(P.test(e))e=parseFloat(e);else return e;const s=Vn(e,t.target.x),n=Vn(e,t.target.y);return`${s}% ${n}%`}},Ql={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=oe.parse(e);if(i.length>5)return n;const o=oe.createTransformer(e),r=typeof i[0]!="number"?1:0,a=s.x.scale*t.x,l=s.y.scale*t.y;i[0+r]/=a,i[1+r]/=l;const d=V(a,l,.5);return typeof i[2+r]=="number"&&(i[2+r]/=d),typeof i[3+r]=="number"&&(i[3+r]/=d),o(i)}},Ut={borderRadius:{...Ae,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomLeftRadius:Ae,borderBottomRightRadius:Ae,boxShadow:Ql};function Vr(e,{layout:t,layoutId:s}){return Pe.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Ut[e]||e==="opacity")}const ec={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tc=Te.length;function sc(e,t,s){let n="",i=!0;for(let o=0;o<tc;o++){const r=Te[o],a=e[r];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(r.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||s){const d=br(a,xs[r]);if(!l){i=!1;const u=ec[r]||r;n+=`${u}(${d}) `}s&&(t[r]=d)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function Ss(e,t,s){const{style:n,vars:i,transformOrigin:o}=e;let r=!1,a=!1;for(const l in t){const d=t[l];if(Pe.has(l)){r=!0;continue}else if(Zi(l)){i[l]=d;continue}else{const u=br(d,xs[l]);l.startsWith("origin")?(a=!0,o[l]=u):n[l]=u}}if(t.transform||(r||s?n.transform=sc(t,e.transform,s):n.transform&&(n.transform="none")),a){const{originX:l="50%",originY:d="50%",originZ:u=0}=o;n.transformOrigin=`${l} ${d} ${u}`}}const Cs=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dr(e,t,s){for(const n in t)!O(t[n])&&!Vr(n,s)&&(e[n]=t[n])}function nc({transformTemplate:e},t){return v.useMemo(()=>{const s=Cs();return Ss(s,t,e),Object.assign({},s.vars,s.style)},[t])}function ic(e,t){const s=e.style||{},n={};return Dr(n,s,e),Object.assign(n,nc(e,t)),n}function rc(e,t){const s={},n=ic(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const oc={offset:"stroke-dashoffset",array:"stroke-dasharray"},ac={offset:"strokeDashoffset",array:"strokeDasharray"};function lc(e,t,s=1,n=0,i=!0){e.pathLength=1;const o=i?oc:ac;e[o.offset]=P.transform(-n);const r=P.transform(t),a=P.transform(s);e[o.array]=`${r} ${a}`}const cc=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Er(e,{attrX:t,attrY:s,attrScale:n,pathLength:i,pathSpacing:o=1,pathOffset:r=0,...a},l,d,u){if(Ss(e,a,d),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox);for(const p of cc)h[p]!==void 0&&(f[p]=h[p],delete h[p]);t!==void 0&&(h.x=t),s!==void 0&&(h.y=s),n!==void 0&&(h.scale=n),i!==void 0&&lc(h,i,o,r,!1)}const Rr=()=>({...Cs(),attrs:{}}),Lr=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uc(e,t,s,n){const i=v.useMemo(()=>{const o=Rr();return Er(o,t,Lr(n),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Dr(o,e.style,e),i.style={...o,...i.style}}return i}const dc=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function As(e){return typeof e!="string"||e.includes("-")?!1:!!(dc.indexOf(e)>-1||/[A-Z]/u.test(e))}function hc(e,t,s,{latestValues:n},i,o=!1,r){const l=(r??As(e)?uc:rc)(t,n,i,e),d=Xl(t,typeof e=="string",o),u=e!==v.Fragment?{...d,...l,ref:s}:{},{children:h}=t,f=v.useMemo(()=>O(h)?h.get():h,[h]);return v.createElement(e,{...u,children:f})}function Dn(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function js(e,t,s,n){if(typeof t=="function"){const[i,o]=Dn(n);t=t(s!==void 0?s:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=Dn(n);t=t(s!==void 0?s:e.custom,i,o)}return t}function Qe(e){return O(e)?e.get():e}function fc({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,i){return{latestValues:pc(s,n,i,e),renderState:t()}}function pc(e,t,s,n){const i={},o=n(e,{});for(const f in o)i[f]=Qe(o[f]);let{initial:r,animate:a}=e;const l=ut(e),d=Mr(e);t&&d&&!l&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let u=s?s.initial===!1:!1;u=u||r===!1;const h=u?a:r;if(h&&typeof h!="boolean"&&!ct(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=js(e,f[p]);if(x){const{transitionEnd:g,transition:w,...m}=x;for(const b in m){let y=m[b];if(Array.isArray(y)){const C=u?y.length-1:0;y=y[C]}y!==null&&(i[b]=y)}for(const b in g)i[b]=g[b]}}}return i}const Ir=e=>(t,s)=>{const n=v.useContext(lt),i=v.useContext(at),o=()=>fc(e,t,n,i);return s?o():Qt(o)};function Ns(e,t,s){var o;const{style:n}=e,i={};for(const r in n)(O(n[r])||t.style&&O(t.style[r])||Vr(r,e)||((o=s==null?void 0:s.getValue(r))==null?void 0:o.liveStyle)!==void 0)&&(i[r]=n[r]);return i}const mc=Ir({scrapeMotionValuesFromProps:Ns,createRenderState:Cs});function Br(e,t,s){const n=Ns(e,t,s);for(const i in e)if(O(e[i])||O(t[i])){const o=Te.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=e[i]}return n}const gc=Ir({scrapeMotionValuesFromProps:Br,createRenderState:Rr}),yc=Symbol.for("motionComponentSymbol");function xc(e,t,s){const n=v.useRef(s);v.useInsertionEffect(()=>{n.current=s});const i=v.useRef(null);return v.useCallback(o=>{var a;o&&((a=e.onMount)==null||a.call(e,o)),t&&(o?t.mount(o):t.unmount());const r=n.current;if(typeof r=="function")if(o){const l=r(o);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):r(o);else r&&(r.current=o)},[t])}const ks=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vc="framerAppearId",Fr="data-"+ks(vc),Or=v.createContext({});function Me(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bc(e,t,s,n,i,o){var w,m;const{visualElement:r}=v.useContext(lt),a=v.useContext(Nr),l=v.useContext(at),d=v.useContext(ws).reducedMotion,u=v.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:r,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d,isSVG:o}));const h=u.current,f=v.useContext(Or);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&wc(u.current,s,i,f);const p=v.useRef(!1);v.useInsertionEffect(()=>{h&&p.current&&h.update(s,l)});const x=s[Fr],g=v.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((m=window.MotionHasOptimisedAnimation)==null?void 0:m.call(window,x)));return Ri(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,x)}),g.current=!1),h.enteringChildren=void 0)}),h}function wc(e,t,s,n){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:l,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:$r(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&Me(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:d})}function $r(e){if(e)return e.options.allowProjection!==!1?e.projection:$r(e.parent)}function vt(e,{forwardMotionProps:t=!1,type:s}={},n,i){n&&Hl(n);const o=s?s==="svg":As(e),r=o?gc:mc;function a(d,u){let h;const f={...v.useContext(ws),...d,layoutId:Tc(d)},{isStatic:p}=f,x=Jl(d),g=r(d,p);if(!p&&es){Pc();const w=Sc(f);h=w.MeasureLayout,x.visualElement=bc(e,g,f,i,w.ProjectionNode,o)}return c.jsxs(lt.Provider,{value:x,children:[h&&x.visualElement?c.jsx(h,{visualElement:x.visualElement,...f}):null,hc(e,d,xc(g,x.visualElement,u),g,p,t,o)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=v.forwardRef(a);return l[yc]=e,l}function Tc({layoutId:e}){const t=v.useContext(Jt).id;return t&&e!==void 0?t+"-"+e:e}function Pc(e,t){v.useContext(Nr).strict}function Sc(e){const{drag:t,layout:s}=be;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Cc(e,t){if(typeof Proxy>"u")return vt;const s=new Map,n=(o,r)=>vt(o,r,e,t),i=(o,r)=>n(o,r);return new Proxy(i,{get:(o,r)=>r==="create"?n:(s.has(r)||s.set(r,vt(r,void 0,e,t)),s.get(r))})}function Ur({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function Ac({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function jc(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function bt(e){return e===void 0||e===1}function _t({scale:e,scaleX:t,scaleY:s}){return!bt(e)||!bt(t)||!bt(s)}function ue(e){return _t(e)||_r(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _r(e){return En(e.x)||En(e.y)}function En(e){return e&&e!=="0%"}function rt(e,t,s){const n=e-s,i=t*n;return s+i}function Rn(e,t,s,n,i){return i!==void 0&&(e=rt(e,i,n)),rt(e,s,n)+t}function qt(e,t=0,s=1,n,i){e.min=Rn(e.min,t,s,n,i),e.max=Rn(e.max,t,s,n,i)}function qr(e,{x:t,y:s}){qt(e.x,t.translate,t.scale,t.originPoint),qt(e.y,s.translate,s.scale,s.originPoint)}const Ln=.999999999999,In=1.0000000000001;function Nc(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=s[a],r=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ge(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,qr(e,r)),n&&ue(o.latestValues)&&ge(e,o.latestValues))}t.x<In&&t.x>Ln&&(t.x=1),t.y<In&&t.y>Ln&&(t.y=1)}function me(e,t){e.min=e.min+t,e.max=e.max+t}function Bn(e,t,s,n,i=.5){const o=V(e.min,e.max,i);qt(e,t,s,o,n)}function ge(e,t){Bn(e.x,t.x,t.scaleX,t.scale,t.originX),Bn(e.y,t.y,t.scaleY,t.scale,t.originY)}function Wr(e,t){return Ur(jc(e.getBoundingClientRect(),t))}function kc(e,t,s){const n=Wr(e,s),{scroll:i}=t;return i&&(me(n.x,i.offset.x),me(n.y,i.offset.y)),n}const Fn=()=>({translate:0,scale:1,origin:0,originPoint:0}),ye=()=>({x:Fn(),y:Fn()}),On=()=>({min:0,max:0}),I=()=>({x:On(),y:On()}),Wt={current:null},Gr={current:!1};function Mc(){if(Gr.current=!0,!!es)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wt.current=e.matches;e.addEventListener("change",t),t()}else Wt.current=!1}const Vc=new WeakMap;function Dc(e,t,s){for(const n in t){const i=t[n],o=s[n];if(O(i))e.addValue(n,i);else if(O(o))e.addValue(n,ve(i,{owner:e}));else if(o!==i)if(e.hasValue(n)){const r=e.getValue(n);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(n);e.addValue(n,ve(r!==void 0?r:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const $n=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ec{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gs,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=U.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,k.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=r;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=ut(s),this.isVariantNode=Mr(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&O(p)&&p.set(l[f])}}mount(t){var s;this.current=t,Vc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Gr.current||Mc(),this.shouldReduceMotion=Wt.current),(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),re(this.notifyUpdate),re(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Pe.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",r=>{this.latestValues[t]=r,this.props.onUpdate&&k.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in be){const s=be[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):I()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<$n.length;n++){const i=$n[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=Dc(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=ve(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Li(n)||Bi(n))?n=parseFloat(n):!$l(n)&&oe.test(s)&&(n=vr(t,s)),this.setBaseTarget(t,O(n)?n.get():n)),O(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var o;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const r=js(this.props,s,(o=this.presenceContext)==null?void 0:o.custom);r&&(n=r[t])}if(s&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!O(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new rs),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){vs.render(this.render)}}class Kr extends Ec{constructor(){super(...arguments),this.KeyframeResolver=kl}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;O(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Hr(e,{style:t,vars:s},n,i){const o=e.style;let r;for(r in t)o[r]=t[r];i==null||i.applyProjectionStyles(o,n);for(r in s)o.setProperty(r,s[r])}function Rc(e){return window.getComputedStyle(e)}class Lc extends Kr{constructor(){super(...arguments),this.type="html",this.renderInstance=Hr}readValueFromInstance(t,s){var n;if(Pe.has(s))return(n=this.projection)!=null&&n.isProjecting?Rt(s):za(t,s);{const i=Rc(t),o=(Zi(s)?i.getPropertyValue(s):i[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Wr(t,s)}build(t,s,n){Ss(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return Ns(t,s,n)}}const zr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ic(e,t,s,n){Hr(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(zr.has(i)?i:ks(i),t.attrs[i])}class Bc extends Kr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=I}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Pe.has(s)){const n=xr(s);return n&&n.default||0}return s=zr.has(s)?s:ks(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return Br(t,s,n)}build(t,s,n){Er(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,i){Ic(t,s,n,i)}mount(t){this.isSVGTag=Lr(t.tagName),super.mount(t)}}const Fc=(e,t)=>t.isSVG??As(e)?new Bc(t):new Lc(t,{allowProjection:e!==v.Fragment});function xe(e,t,s){const n=e.getProps();return js(n,t,s!==void 0?s:n.custom,e)}const Gt=e=>Array.isArray(e);function Oc(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,ve(s))}function $c(e){return Gt(e)?e[e.length-1]||0:e}function Uc(e,t){const s=xe(e,t);let{transitionEnd:n={},transition:i={},...o}=s||{};o={...o,...n};for(const r in o){const a=$c(o[r]);Oc(e,r,a)}}function _c(e){return!!(O(e)&&e.add)}function Kt(e,t){const s=e.getValue("willChange");if(_c(s))return s.add(t);if(!s&&te.WillChange){const n=new te.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Yr(e){return e.props[Fr]}const qc=e=>e!==null;function Wc(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(qc),o=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[o]}const Gc={type:"spring",stiffness:500,damping:25,restSpeed:10},Kc=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Hc={type:"keyframes",duration:.8},zc={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yc=(e,{keyframes:t})=>t.length>2?Hc:Pe.has(e)?e.startsWith("scale")?Kc(t[1]):Gc:zc;function Xc({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:l,elapsed:d,...u}){return!!Object.keys(u).length}const Ms=(e,t,s,n={},i,o)=>r=>{const a=ys(n,e)||{},l=a.delay||n.delay||0;let{elapsed:d=0}=n;d=d-ee(l);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-d,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};Xc(a)||Object.assign(u,Yc(e,u)),u.duration&&(u.duration=ee(u.duration)),u.repeatDelay&&(u.repeatDelay=ee(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Ot(u),u.delay===0&&(h=!0)),(te.instantAnimations||te.skipAnimations)&&(h=!0,Ot(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!o&&t.get()!==void 0){const f=Wc(u.keyframes,a);if(f!==void 0){k.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new ms(u):new yl(u)};function Zc({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Xr(e,t,{delay:s=0,transitionOverride:n,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:r,...a}=t;n&&(o=n);const l=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const h=e.getValue(u,e.latestValues[u]??null),f=a[u];if(f===void 0||d&&Zc(d,u))continue;const p={delay:s,...ys(o||{},u)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const m=Yr(e);if(m){const b=window.MotionHandoffAnimation(m,u,k);b!==null&&(p.startTime=b,g=!0)}}Kt(e,u),h.start(Ms(u,h,f,e.shouldReduceMotion&&mr.has(u)?{type:!1}:p,e,g));const w=h.animation;w&&l.push(w)}return r&&Promise.all(l).then(()=>{k.update(()=>{r&&Uc(e,r)})}),l}function Zr(e,t,s,n=0,i=1){const o=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),r=e.size,a=(r-1)*n;return typeof s=="function"?s(o,r):i===1?o*n:a-o*n}function Ht(e,t,s={}){var l;const n=xe(e,t,s.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(i=s.transitionOverride);const o=n?()=>Promise.all(Xr(e,n,s)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return Jc(e,t,d,u,h,f,s)}:()=>Promise.resolve(),{when:a}=i;if(a){const[d,u]=a==="beforeChildren"?[o,r]:[r,o];return d().then(()=>u())}else return Promise.all([o(),r(s.delay)])}function Jc(e,t,s=0,n=0,i=0,o=1,r){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Ht(l,t,{...r,delay:s+(typeof n=="function"?0:n)+Zr(e.variantChildren,l,n,i,o)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Qc(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(o=>Ht(e,o,s));n=Promise.all(i)}else if(typeof t=="string")n=Ht(e,t,s);else{const i=typeof t=="function"?xe(e,t,s.custom):t;n=Promise.all(Xr(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Jr(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const eu=Ps.length;function Qr(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Qr(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<eu;s++){const n=Ps[s],i=e.props[n];(Oe(i)||i===!1)&&(t[n]=i)}return t}const tu=[...Ts].reverse(),su=Ts.length;function nu(e){return t=>Promise.all(t.map(({animation:s,options:n})=>Qc(e,s,n)))}function iu(e){let t=nu(e),s=Un(),n=!0;const i=l=>(d,u)=>{var f;const h=xe(e,u,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:x,...g}=h;d={...d,...g,...x}}return d};function o(l){t=l(e)}function r(l){const{props:d}=e,u=Qr(e.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let w=0;w<su;w++){const m=tu[w],b=s[m],y=d[m]!==void 0?d[m]:u[m],C=Oe(y),T=m===l?b.isActive:null;T===!1&&(x=w);let A=y===u[m]&&y!==d[m]&&C;if(A&&n&&e.manuallyAnimateOnMount&&(A=!1),b.protectedKeys={...p},!b.isActive&&T===null||!y&&!b.prevProp||ct(y)||typeof y=="boolean")continue;const j=ru(b.prevProp,y);let S=j||m===l&&b.isActive&&!A&&C||w>x&&C,M=!1;const L=Array.isArray(y)?y:[y];let q=L.reduce(i(m),{});T===!1&&(q={});const{prevResolvedValues:le={}}=b,Ge={...le,...q},Se=E=>{S=!0,f.has(E)&&(M=!0,f.delete(E)),b.needsAnimating[E]=!0;const $=e.getValue(E);$&&($.liveStyle=!1)};for(const E in Ge){const $=q[E],Y=le[E];if(p.hasOwnProperty(E))continue;let Q=!1;Gt($)&&Gt(Y)?Q=!Jr($,Y):Q=$!==Y,Q?$!=null?Se(E):f.add(E):$!==void 0&&f.has(E)?Se(E):b.protectedKeys[E]=!0}b.prevProp=y,b.prevResolvedValues=q,b.isActive&&(p={...p,...q}),n&&e.blockInitialAnimation&&(S=!1);const Ce=A&&j;S&&(!Ce||M)&&h.push(...L.map(E=>{const $={type:m};if(typeof E=="string"&&n&&!Ce&&e.manuallyAnimateOnMount&&e.parent){const{parent:Y}=e,Q=xe(Y,E);if(Y.enteringChildren&&Q){const{delayChildren:Ke}=Q.transition||{};$.delay=Zr(Y.enteringChildren,e,Ke)}}return{animation:E,options:$}}))}if(f.size){const w={};if(typeof d.initial!="boolean"){const m=xe(e,Array.isArray(d.initial)?d.initial[0]:d.initial);m&&m.transition&&(w.transition=m.transition)}f.forEach(m=>{const b=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),w[m]=b??null}),h.push({animation:w})}let g=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(h):Promise.resolve()}function a(l,d){var h;if(s[l].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,d)}),s[l].isActive=d;const u=r(l);for(const f in s)s[f].protectedKeys={};return u}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>s,reset:()=>{s=Un()}}}function ru(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Jr(t,e):!1}function ce(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Un(){return{animate:ce(!0),whileInView:ce(),whileHover:ce(),whileTap:ce(),whileDrag:ce(),whileFocus:ce(),exit:ce()}}class ae{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ou extends ae{constructor(t){super(t),t.animationState||(t.animationState=iu(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ct(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let au=0;class lu extends ae{constructor(){super(...arguments),this.id=au++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const cu={animation:{Feature:ou},exit:{Feature:lu}};function $e(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function We(e){return{point:{x:e.pageX,y:e.pageY}}}const uu=e=>t=>bs(t)&&e(t,We(t));function Ee(e,t,s,n){return $e(e,t,uu(s),n)}const eo=1e-4,du=1-eo,hu=1+eo,to=.01,fu=0-to,pu=0+to;function _(e){return e.max-e.min}function mu(e,t,s){return Math.abs(e-t)<=s}function _n(e,t,s,n=.5){e.origin=n,e.originPoint=V(t.min,t.max,e.origin),e.scale=_(s)/_(t),e.translate=V(s.min,s.max,e.origin)-e.originPoint,(e.scale>=du&&e.scale<=hu||isNaN(e.scale))&&(e.scale=1),(e.translate>=fu&&e.translate<=pu||isNaN(e.translate))&&(e.translate=0)}function Re(e,t,s,n){_n(e.x,t.x,s.x,n?n.originX:void 0),_n(e.y,t.y,s.y,n?n.originY:void 0)}function qn(e,t,s){e.min=s.min+t.min,e.max=e.min+_(t)}function gu(e,t,s){qn(e.x,t.x,s.x),qn(e.y,t.y,s.y)}function Wn(e,t,s){e.min=t.min-s.min,e.max=e.min+_(t)}function ot(e,t,s){Wn(e.x,t.x,s.x),Wn(e.y,t.y,s.y)}function W(e){return[e("x"),e("y")]}const so=({current:e})=>e?e.ownerDocument.defaultView:null,Gn=(e,t)=>Math.abs(e-t);function yu(e,t){const s=Gn(e.x,t.x),n=Gn(e.y,t.y);return Math.sqrt(s**2+n**2)}const Kn=new Set(["auto","scroll"]);class no{constructor(t,s,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:r=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Tt(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,g=yu(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!g)return;const{point:w}=p,{timestamp:m}=B;this.history.push({...w,timestamp:m});const{onStart:b,onMove:y}=this.handlers;x||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=wt(x,this.transformPagePoint),k.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:m}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Tt(p.type==="pointercancel"?this.lastMoveEventInfo:wt(x,this.transformPagePoint),this.history);this.startEvent&&g&&g(p,b),w&&w(p,b)},!bs(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=r,this.contextWindow=i||window;const l=We(t),d=wt(l,this.transformPagePoint),{point:u}=d,{timestamp:h}=B;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=s;f&&f(t,Tt(d,this.history)),this.removeListeners=Ue(Ee(this.contextWindow,"pointermove",this.handlePointerMove),Ee(this.contextWindow,"pointerup",this.handlePointerUp),Ee(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let s=t.parentElement;for(;s;){const n=getComputedStyle(s);(Kn.has(n.overflowX)||Kn.has(n.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const s=this.scrollPositions.get(t);if(!s)return;const n=t===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-s.x,y:i.y-s.y};o.x===0&&o.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),k.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),re(this.updatePoint)}}function wt(e,t){return t?{point:t(e.point)}:e}function Hn(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tt({point:e},t){return{point:e,delta:Hn(e,io(t)),offset:Hn(e,xu(t)),velocity:vu(t,.1)}}function xu(e){return e[0]}function io(e){return e[e.length-1]}function vu(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=io(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>ee(t)));)s--;if(!n)return{x:0,y:0};const o=G(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function bu(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?V(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?V(s,e,n.max):Math.min(e,s)),e}function zn(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function wu(e,{top:t,left:s,bottom:n,right:i}){return{x:zn(e.x,s,i),y:zn(e.y,t,n)}}function Yn(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function Tu(e,t){return{x:Yn(e.x,t.x),y:Yn(e.y,t.y)}}function Pu(e,t){let s=.5;const n=_(e),i=_(t);return i>n?s=Le(t.min,t.max-n,e.min):n>i&&(s=Le(e.min,e.max-i,t.min)),Z(0,1,s)}function Su(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const zt=.35;function Cu(e=zt){return e===!1?e=0:e===!0&&(e=zt),{x:Xn(e,"left","right"),y:Xn(e,"top","bottom")}}function Xn(e,t,s){return{min:Zn(e,t),max:Zn(e,s)}}function Zn(e,t){return typeof e=="number"?e:e[t]||0}const Au=new WeakMap;class ju{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=I(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=h=>{s?(this.stopAnimation(),this.snapToCursor(We(h).point)):this.pauseAnimation()},r=(h,f)=>{this.stopAnimation();const{drag:p,dragPropagation:x,onDragStart:g}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=El(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),W(m=>{let b=this.getAxisMotionValue(m).get()||0;if(X.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const C=y.layout.layoutBox[m];C&&(b=_(C)*(parseFloat(b)/100))}}this.originPoint[m]=b}),g&&k.postRender(()=>g(h,f)),Kt(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:g,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:m}=f;if(x&&this.currentDirection===null){this.currentDirection=Nu(m),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,m),this.updateAxis("y",f.point,m),this.visualElement.render(),w&&w(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>W(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new no(t,{onSessionStart:o,onStart:r,onMove:a,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:so(this.visualElement),element:this.visualElement.current})}stop(t,s){const n=t||this.latestPointerEvent,i=s||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!n)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&k.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!Xe(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(r=bu(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&Me(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=wu(n.layoutBox,t):this.constraints=!1,this.elastic=Cu(s),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&W(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=Su(n.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Me(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=kc(n,i.root,this.visualElement.getTransformPagePoint());let r=Tu(i.layout.layoutBox,o);if(s){const a=s(Ac(r));this.hasMutatedConstraints=!!a,a&&(r=Ur(a))}return r}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},d=W(u=>{if(!Xe(u,s,this.currentDirection))return;let h=l&&l[u]||{};r&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(a)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Kt(this.visualElement,t),n.start(Ms(t,n,0,s,this.visualElement,!1))}stopAnimation(){W(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){W(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){W(s=>{const{drag:n}=this.getProps();if(!Xe(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(s);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[s],l=o.get()||0;o.set(t[s]-V(r,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Me(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};W(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const l=a.get();i[r]=Pu({min:l,max:l},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),W(r=>{if(!Xe(r,t,null))return;const a=this.getAxisMotionValue(r),{min:l,max:d}=this.constraints[r];a.set(V(l,d,i[r]))})}addListeners(){if(!this.visualElement.current)return;Au.set(this.visualElement,this);const t=this.visualElement.current,s=Ee(t,"pointerdown",l=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&!Cr(l.target)&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Me(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),k.read(n);const r=$e(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(W(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())}));return()=>{r(),s(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=zt,dragMomentum:a=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function Xe(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Nu(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class ku extends ae{constructor(t){super(t),this.removeGroupControls=K,this.removeListeners=K,this.controls=new ju(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||K}update(){const{dragControls:t}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};t!==s&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jn=e=>(t,s)=>{e&&k.postRender(()=>e(t,s))};class Mu extends ae{constructor(){super(...arguments),this.removePointerDownListener=K}onPointerDown(t){this.session=new no(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:so(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Jn(t),onStart:Jn(s),onMove:n,onEnd:(o,r)=>{delete this.session,i&&k.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=Ee(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const et={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Pt=!1;class Vu extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;o&&(s.group&&s.group.add(o),n&&n.register&&i&&n.register(o),Pt&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),et.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:o}=this.props,{projection:r}=n;return r&&(r.isPresent=o,Pt=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==o?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||k.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;Pt=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ro(e){const[t,s]=jr(),n=v.useContext(Jt);return c.jsx(Vu,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(Or),isPresent:t,safeToRemove:s})}function Du(e,t,s){const n=O(e)?e:ve(e);return n.start(Ms("",n,t,s)),n.animation}const Eu=(e,t)=>e.depth-t.depth;class Ru{constructor(){this.children=[],this.isDirty=!1}add(t){ts(this.children,t),this.isDirty=!0}remove(t){ss(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Eu),this.isDirty=!1,this.children.forEach(t)}}function Lu(e,t){const s=U.now(),n=({timestamp:i})=>{const o=i-s;o>=t&&(re(n),e(o-t))};return k.setup(n,!0),()=>re(n)}const oo=["TopLeft","TopRight","BottomLeft","BottomRight"],Iu=oo.length,Qn=e=>typeof e=="string"?parseFloat(e):e,ei=e=>typeof e=="number"||P.test(e);function Bu(e,t,s,n,i,o){i?(e.opacity=V(0,s.opacity??1,Fu(n)),e.opacityExit=V(t.opacity??1,0,Ou(n))):o&&(e.opacity=V(t.opacity??1,s.opacity??1,n));for(let r=0;r<Iu;r++){const a=`border${oo[r]}Radius`;let l=ti(t,a),d=ti(s,a);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||ei(l)===ei(d)?(e[a]=Math.max(V(Qn(l),Qn(d),n),0),(X.test(d)||X.test(l))&&(e[a]+="%")):e[a]=d}(t.rotate||s.rotate)&&(e.rotate=V(t.rotate||0,s.rotate||0,n))}function ti(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Fu=ao(0,.5,Gi),Ou=ao(.5,.95,K);function ao(e,t,s){return n=>n<e?0:n>t?1:s(Le(e,t,n))}function si(e,t){e.min=t.min,e.max=t.max}function H(e,t){si(e.x,t.x),si(e.y,t.y)}function ni(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ii(e,t,s,n,i){return e-=t,e=rt(e,1/s,n),i!==void 0&&(e=rt(e,1/i,n)),e}function $u(e,t=0,s=1,n=.5,i,o=e,r=e){if(X.test(t)&&(t=parseFloat(t),t=V(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=V(o.min,o.max,n);e===o&&(a-=t),e.min=ii(e.min,t,s,a,i),e.max=ii(e.max,t,s,a,i)}function ri(e,t,[s,n,i],o,r){$u(e,t[s],t[n],t[i],t.scale,o,r)}const Uu=["x","scaleX","originX"],_u=["y","scaleY","originY"];function oi(e,t,s,n){ri(e.x,t,Uu,s?s.x:void 0,n?n.x:void 0),ri(e.y,t,_u,s?s.y:void 0,n?n.y:void 0)}function ai(e){return e.translate===0&&e.scale===1}function lo(e){return ai(e.x)&&ai(e.y)}function li(e,t){return e.min===t.min&&e.max===t.max}function qu(e,t){return li(e.x,t.x)&&li(e.y,t.y)}function ci(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function co(e,t){return ci(e.x,t.x)&&ci(e.y,t.y)}function ui(e){return _(e.x)/_(e.y)}function di(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Wu{constructor(){this.members=[]}add(t){ts(this.members,t),t.scheduleRender()}remove(t){if(ss(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gu(e,t,s){let n="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(s==null?void 0:s.z)||0;if((i||o||r)&&(n=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:x}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),x&&(n+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const St=["","X","Y","Z"],Ku=1e3;let Hu=0;function Ct(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function uo(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Yr(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",k,!(i||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&uo(n)}function ho({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(r={},a=t==null?void 0:t()){this.id=Hu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xu),this.nodes.forEach(ed),this.nodes.forEach(td),this.nodes.forEach(Zu)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ru)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new rs),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const l=this.eventHandlers.get(r);l&&l.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Ar(r)&&!Fl(r),this.instance=r;const{layoutId:a,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;k.read(()=>{h=window.innerWidth}),e(r,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=Lu(f,250),et.hasAnimatedSinceResize&&(et.hasAnimatedSinceResize=!1,this.nodes.forEach(pi)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&d&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||od,{onLayoutAnimationStart:g,onLayoutAnimationComplete:w}=d.getProps(),m=!this.targetLayout||!co(this.targetLayout,p),b=!h&&f;if(this.options.layoutRoot||this.resumeFrom||b||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...ys(x,"layout"),onPlay:g,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,b)}else h||pi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),re(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sd),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hi);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fi);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qu),this.nodes.forEach(zu),this.nodes.forEach(Yu)):this.nodes.forEach(fi),this.clearAllSnapshots();const a=U.now();B.delta=Z(0,1e3/60,a-B.timestamp),B.timestamp=a,B.isProcessing=!0,ht.update.process(B),ht.preRender.process(B),ht.render.process(B),B.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ju),this.sharedNodes.forEach(nd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,k.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){k.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_(this.snapshot.measuredBox.x)&&!_(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=I(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lo(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;r&&this.instance&&(a||ue(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return r&&(l=this.removeTransform(l)),ad(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:r}=this.options;if(!r)return I();const a=r.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(ld))){const{scroll:u}=this.root;u&&(me(a.x,u.offset.x),me(a.y,u.offset.y))}return a}removeElementScroll(r){var l;const a=I();if(H(a,r),(l=this.scroll)!=null&&l.wasRoot)return a;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&H(a,r),me(a.x,h.offset.x),me(a.y,h.offset.y))}return a}applyTransform(r,a=!1){const l=I();H(l,r);for(let d=0;d<this.path.length;d++){const u=this.path[d];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ge(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ue(u.latestValues)&&ge(l,u.latestValues)}return ue(this.latestValues)&&ge(l,this.latestValues),l}removeTransform(r){const a=I();H(a,r);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!ue(d.latestValues))continue;_t(d.latestValues)&&d.updateSnapshot();const u=I(),h=d.measurePageBox();H(u,h),oi(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return ue(this.latestValues)&&oi(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==B.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!this.layout||!(u||h))return;this.resolvedRelativeTargetAt=B.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=I(),this.targetWithTransforms=I()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gu(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):H(this.target,this.layout.layoutBox),qr(this.target,this.targetDelta)):H(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_t(this.parent.latestValues)||_r(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,a,l){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=I(),this.relativeTargetOrigin=I(),ot(this.relativeTargetOrigin,a,l),H(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const r=this.getLead(),a=!!this.resumingFrom||this!==r;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===B.timestamp&&(l=!1),l)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;H(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Nc(this.layoutCorrected,this.treeScale,this.path,a),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=I());const{target:p}=r;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ni(this.prevProjectionDelta.x,this.projectionDelta.x),ni(this.prevProjectionDelta.y,this.projectionDelta.y)),Re(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!di(this.projectionDelta.x,this.prevProjectionDelta.x)||!di(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ye(),this.projectionDelta=ye(),this.projectionDeltaWithTransform=ye()}setAnimationOrigin(r,a=!1){const l=this.snapshot,d=l?l.latestValues:{},u={...this.latestValues},h=ye();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=I(),p=l?l.source:void 0,x=this.layout?this.layout.source:void 0,g=p!==x,w=this.getStack(),m=!w||w.members.length<=1,b=!!(g&&!m&&this.options.crossfade===!0&&!this.path.some(rd));this.animationProgress=0;let y;this.mixTargetDelta=C=>{const T=C/1e3;mi(h.x,r.x,T),mi(h.y,r.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ot(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),id(this.relativeTarget,this.relativeTargetOrigin,f,T),y&&qu(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=I()),H(y,this.relativeTarget)),g&&(this.animationValues=u,Bu(u,d,this.latestValues,T,b,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var a,l,d;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(d=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||d.stop(),this.pendingAnimation&&(re(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=k.update(()=>{et.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ve(0)),this.currentAnimation=Du(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),r.onUpdate&&r.onUpdate(u)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ku),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:l,layout:d,latestValues:u}=r;if(!(!a||!l||!d)){if(this!==r&&this.layout&&d&&fo(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||I();const h=_(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+h;const f=_(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+f}H(a,l),ge(a,u),Re(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Wu),this.sharedNodes.get(r).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var a;const{layoutId:r}=this.options;return r?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:r}=this.options;return r?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const d={};l.z&&Ct("z",r,d,this.animationValues);for(let u=0;u<St.length;u++)Ct(`rotate${St[u]}`,r,d,this.animationValues),Ct(`skew${St[u]}`,r,d,this.animationValues);r.render();for(const u in d)r.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);r.scheduleRender()}applyProjectionStyles(r,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=Qe(a==null?void 0:a.pointerEvents)||"",r.transform=l?l(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=Qe(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ue(this.latestValues)&&(r.transform=l?l({},""):"none",this.hasProjected=!1);return}r.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=Gu(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),r.transform=h;const{x:f,y:p}=this.projectionDelta;r.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?r.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:r.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in Ut){if(u[x]===void 0)continue;const{correct:g,applyTo:w,isCSSVariable:m}=Ut[x],b=h==="none"?u[x]:g(u[x],d);if(w){const y=w.length;for(let C=0;C<y;C++)r[w[C]]=b}else m?this.options.visualElement.renderState.vars[x]=b:r[x]=b}this.options.layoutId&&(r.pointerEvents=d===this?Qe(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(hi),this.root.sharedNodes.clear()}}}function zu(e){e.updateLayout()}function Yu(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:o}=e.options,r=t.source!==e.layout.source;o==="size"?W(h=>{const f=r?t.measuredBox[h]:t.layoutBox[h],p=_(f);f.min=n[h].min,f.max=f.min+p}):fo(o,t.layoutBox,n)&&W(h=>{const f=r?t.measuredBox[h]:t.layoutBox[h],p=_(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=ye();Re(a,n,t.layoutBox);const l=ye();r?Re(l,e.applyTransform(i,!0),t.measuredBox):Re(l,n,t.layoutBox);const d=!lo(a);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=I();ot(x,t.layoutBox,f.layoutBox);const g=I();ot(g,n,p.layoutBox),co(x,g)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Xu(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Zu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ju(e){e.clearSnapshot()}function hi(e){e.clearMeasurements()}function fi(e){e.isLayoutDirty=!1}function Qu(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pi(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ed(e){e.resolveTargetDelta()}function td(e){e.calcProjection()}function sd(e){e.resetSkewAndRotation()}function nd(e){e.removeLeadSnapshot()}function mi(e,t,s){e.translate=V(t.translate,0,s),e.scale=V(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function gi(e,t,s,n){e.min=V(t.min,s.min,n),e.max=V(t.max,s.max,n)}function id(e,t,s,n){gi(e.x,t.x,s.x,n),gi(e.y,t.y,s.y,n)}function rd(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const od={duration:.45,ease:[.4,0,.1,1]},yi=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),xi=yi("applewebkit/")&&!yi("chrome/")?Math.round:K;function vi(e){e.min=xi(e.min),e.max=xi(e.max)}function ad(e){vi(e.x),vi(e.y)}function fo(e,t,s){return e==="position"||e==="preserve-aspect"&&!mu(ui(t),ui(s),.2)}function ld(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const cd=ho({attachResizeListener:(e,t)=>$e(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),At={current:void 0},po=ho({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!At.current){const e=new cd({});e.mount(window),e.setOptions({layoutScroll:!0}),At.current=e}return At.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ud={pan:{Feature:Mu},drag:{Feature:ku,ProjectionNode:po,MeasureLayout:ro}};function bi(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,o=n[i];o&&k.postRender(()=>o(t,We(t)))}class dd extends ae{mount(){const{current:t}=this.node;t&&(this.unmount=Rl(t,(s,n)=>(bi(this.node,n,"Start"),i=>bi(this.node,i,"End"))))}unmount(){}}class hd extends ae{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ue($e(this.node.current,"focus",()=>this.onFocus()),$e(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wi(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),o=n[i];o&&k.postRender(()=>o(t,We(t)))}class fd extends ae{mount(){const{current:t}=this.node;t&&(this.unmount=Bl(t,(s,n)=>(wi(this.node,n,"Start"),(i,{success:o})=>wi(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yt=new WeakMap,jt=new WeakMap,pd=e=>{const t=Yt.get(e.target);t&&t(e)},md=e=>{e.forEach(pd)};function gd({root:e,...t}){const s=e||document;jt.has(s)||jt.set(s,{});const n=jt.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(md,{root:e,...t})),n[i]}function yd(e,t,s){const n=gd(t);return Yt.set(e,s),n.observe(e),()=>{Yt.delete(e),n.unobserve(e)}}const xd={some:0,all:1};class vd extends ae{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:o}=t,r={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:xd[i]},a=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(l)};return yd(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(bd(t,s))&&this.startObserver()}unmount(){}}function bd({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const wd={inView:{Feature:vd},tap:{Feature:fd},focus:{Feature:hd},hover:{Feature:dd}},Td={layout:{ProjectionNode:po,MeasureLayout:ro}},Pd={...cu,...wd,...ud,...Td},ie=Cc(Pd,Fc);function mo({isOpen:e,onClick:t,position:s="bottom-right"}){const n=s==="bottom-right"?"right-6 bottom-6":"left-6 bottom-6";return c.jsx(ie.button,{onClick:t,className:`
        fixed ${n} z-50
        w-16 h-16
        bg-gradient-to-r from-blue-600 to-blue-700
        text-white
        rounded-full
        shadow-2xl
        hover:shadow-3xl
        flex items-center justify-center
        transition-shadow duration-300
        focus:outline-none focus:ring-4 focus:ring-blue-300
      `,whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":e?"Close chat":"Open chat","aria-expanded":e,children:c.jsx(Fe,{mode:"wait",children:e?c.jsx(ie.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:c.jsx(Zt,{className:"w-7 h-7"})},"close"):c.jsx(ie.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:c.jsx(qo,{className:"w-7 h-7"})},"message")})})}mo.__docgenInfo={description:`FloatingChatButton Component

A circular floating action button for opening/closing the chat.
Displays a message icon when closed, X icon when open.

Features:
- Smooth scale animations on hover
- Icon transition between MessageCircle and X
- Positioned at bottom right/left
- Gradient background
- Accessibility labels`,methods:[],displayName:"FloatingChatButton",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},position:{required:!1,tsType:{name:"union",raw:'"bottom-right" | "bottom-left"',elements:[{name:"literal",value:'"bottom-right"'},{name:"literal",value:'"bottom-left"'}]},description:"",defaultValue:{value:'"bottom-right"',computed:!1}}}};function Sd(e){if(e instanceof Error){if(e.message==="IRRELEVANT_QUERY")return"I can help you find properties! Try asking about homes, condos, or apartments for sale. For example: '3 bedroom condo in Toronto' or 'house under $800k'.";if(e.message.includes("API error"))return"Sorry, I'm having trouble connecting to the property search service. Please try again in a moment.";if(e.message.includes("401")||e.message.includes("403"))return"There's an issue with the API configuration. Please contact support.";if(e.message.includes("timeout"))return"The search is taking longer than expected. Please try again."}return"Sorry, something went wrong. Please try again or rephrase your search."}function Cd(e){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function Xt(e){const t=[e.streetNumber,e.streetName,e.streetSuffix].filter(Boolean).join(" "),s=[e.city,e.province].filter(Boolean).join(", ");return`${t}, ${s}`}function Ad(e){if(!e)return;let t=e;if(!e.startsWith("http://")&&!e.startsWith("https://")&&(t=`https://cdn.repliers.io/${e.startsWith("/")?e.slice(1):e}`),t.includes("class="))return t;const s=t.includes("?")?"&":"?";return`${t}${s}class=small`}function jd(e){const t=e.propertyType||"property",s=Xt(e.address);return`${e.bedrooms} bedroom, ${e.bathrooms} bathroom ${t} at ${s}`}function Vs({listing:e,onViewDetails:t}){var h;const[s,n]=v.useState(!1),[i,o]=v.useState(!1),r=Ad((h=e.images)==null?void 0:h[0]),a=r&&!i,l=jd(e),d=()=>{t?t(e):alert(`Property details:
MLS #${e.mlsNumber}

Full details view coming soon!`)},u=f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),d())};return c.jsxs("div",{className:" bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl hover:scale-[1.02] transition-all duration-300 ease-out cursor-pointer focus-within:ring-2 focus-within:ring-blue-500 ",onClick:d,onKeyPress:u,tabIndex:0,role:"button","aria-label":`View details for ${l}`,children:[c.jsxs("div",{className:"relative h-40 bg-gray-200 overflow-hidden",children:[a?c.jsxs(c.Fragment,{children:[!s&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-10 h-10 border-3 border-gray-300 border-t-blue-600 rounded-full animate-spin"})}),c.jsx("img",{src:r,alt:`Property at ${Xt(e.address)}`,className:`
                w-full h-full object-cover
                transition-opacity duration-300
                ${s?"opacity-100":"opacity-0"}
              `,onLoad:()=>n(!0),onError:()=>o(!0),loading:"lazy"})]}):c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:c.jsx(Ei,{className:"w-12 h-12 text-gray-400"})}),e.propertyType&&c.jsx("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm px-2 py-0.5 rounded-full text-[10px] font-semibold text-gray-700 shadow-md",children:e.propertyType}),e.status&&c.jsx("div",{className:"absolute top-2 right-2 bg-blue-600 text-white px-2 py-0.5 rounded-full text-[10px] font-semibold shadow-md",children:e.status})]}),c.jsxs("div",{className:"p-3 space-y-2",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("div",{className:"text-xl font-bold text-gray-900",children:Cd(e.listPrice)}),c.jsxs("div",{className:"text-[10px] text-gray-500",children:["MLS #",e.mlsNumber]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-1",title:"Bedrooms",children:[c.jsx(Vo,{className:"w-3.5 h-3.5"}),c.jsx("span",{className:"text-xs font-medium",children:e.bedrooms})]}),c.jsxs("div",{className:"flex items-center gap-1",title:"Bathrooms",children:[c.jsx(Co,{className:"w-3.5 h-3.5"}),c.jsx("span",{className:"text-xs font-medium",children:e.bathrooms})]}),e.sqft&&c.jsxs("div",{className:"flex items-center gap-1",title:"Square footage",children:[c.jsx(Uo,{className:"w-3.5 h-3.5"}),c.jsx("span",{className:"text-xs font-medium",children:e.sqft.toLocaleString()})]})]}),c.jsx("div",{className:"text-xs text-gray-700 pt-1 border-t border-gray-100",children:Xt(e.address)}),c.jsxs("button",{className:" w-full mt-1.5 py-1.5 px-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white text-xs font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 active:scale-95 transition-all duration-200 flex items-center justify-center gap-1.5 ",onClick:f=>{f.stopPropagation(),d()},"aria-label":`View full details for ${l}`,children:["View Details",c.jsx("span",{"aria-hidden":"true",children:""})]})]})]})}Vs.__docgenInfo={description:`PropertyCard Component

Displays a single property listing in a beautiful, responsive card format.
Includes image, price, specs (bed/bath/sqft), and address.

Features:
- Lazy-loaded images with placeholder
- Responsive design (full width mobile, fixed width desktop)
- Hover effects
- Accessible with ARIA labels`,methods:[],displayName:"PropertyCard",props:{listing:{required:!0,tsType:{name:"PropertyListing"},description:""},onViewDetails:{required:!1,tsType:{name:"signature",type:"function",raw:"(listing: PropertyListing) => void",signature:{arguments:[{type:{name:"PropertyListing"},name:"listing"}],return:{name:"void"}}},description:""}}};function go({listings:e,onViewDetails:t}){const[s,n]=v.useState(!1),i=5;if(!e||e.length===0)return c.jsxs("div",{className:"mt-4 p-6 bg-gray-50 rounded-xl border border-gray-200 text-center space-y-3",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm",children:c.jsx(Ei,{className:"w-8 h-8 text-gray-400"})})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-gray-700 font-medium",children:"No properties found"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search criteria or exploring different neighborhoods."})]})]});const o=s?e:e.slice(0,i),r=e.length>i;return c.jsxs("div",{className:"mt-4 space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between px-1",children:c.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Found ",e.length," ",e.length===1?"property":"properties"]})}),c.jsx("div",{className:" grid grid-cols-1 md:grid-cols-2 gap-4 animate-fadeIn ",children:o.map((a,l)=>c.jsx("div",{className:"animate-slideUp",style:{animationDelay:`${l*.1}s`},children:c.jsx(Vs,{listing:a,onViewDetails:t})},a.mlsNumber))}),r&&c.jsx("div",{className:"flex justify-center pt-2",children:c.jsx("button",{onClick:()=>n(!s),className:" flex items-center gap-2 px-6 py-2 bg-white border-2 border-gray-300 text-gray-700 font-medium text-sm rounded-lg hover:border-blue-500 hover:text-blue-600 active:scale-95 transition-all duration-200 ","aria-label":s?"Show fewer properties":"Show all properties",children:s?c.jsxs(c.Fragment,{children:["Show Less",c.jsx(Fo,{className:"w-4 h-4"})]}):c.jsxs(c.Fragment,{children:["Show ",e.length-i," More",c.jsx(Ao,{className:"w-4 h-4"})]})})})]})}if(typeof document<"u"){const e=document.createElement("style");e.textContent=`
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fadeIn {
      animation: fadeIn 0.5s ease-out;
    }

    .animate-slideUp {
      opacity: 0;
      animation: slideUp 0.4s ease-out forwards;
    }
  `,document.head.querySelector("style[data-property-animations]")||(e.setAttribute("data-property-animations","true"),document.head.appendChild(e))}go.__docgenInfo={description:`PropertyResults Component

Displays a grid of property cards with pagination controls.

Features:
- Responsive grid (1 col mobile, 2 col desktop)
- Show 5 properties initially, "Show more" for rest
- Empty state with helpful message
- Staggered fade-in animations
- Property count header`,methods:[],displayName:"PropertyResults",props:{listings:{required:!0,tsType:{name:"Array",elements:[{name:"PropertyListing"}],raw:"PropertyListing[]"},description:""},onViewDetails:{required:!1,tsType:{name:"signature",type:"function",raw:"(listing: PropertyListing) => void",signature:{arguments:[{type:{name:"PropertyListing"},name:"listing"}],return:{name:"void"}}},description:""}}};function yo({isOpen:e,onClose:t,messages:s,isLoading:n,onSendMessage:i,placeholder:o="Ask me anything about properties...",onPropertyClick:r,onShowAllListings:a,width:l="500px",mode:d="nlp"}){const[u,h]=v.useState(""),f=v.useRef(null),p=v.useRef(null);v.useEffect(()=>{var m;e&&((m=f.current)==null||m.scrollIntoView({behavior:"smooth"}))},[s,e]),v.useEffect(()=>{var m;e&&!n&&((m=p.current)==null||m.focus())},[e,n]),v.useEffect(()=>{p.current&&(p.current.style.height="auto",p.current.style.height=`${p.current.scrollHeight}px`)},[u]);const x=()=>{!u.trim()||n||(i(u),h(""))},g=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),x())},w=()=>{const m=window.SpeechRecognition||window.webkitSpeechRecognition;if(!m){alert("Speech recognition is not supported in your browser. Please try Chrome or Edge.");return}const b=new m;b.lang="en-US",b.interimResults=!1,b.maxAlternatives=1,b.onstart=()=>{console.log("Voice recognition started. Speak now...")},b.onresult=y=>{var T;const C=y.results[0][0].transcript;h(C),(T=p.current)==null||T.focus()},b.onerror=y=>{console.error("Speech recognition error:",y.error),y.error==="not-allowed"&&alert("Microphone access denied. Please allow microphone access.")},b.start()};return c.jsxs(c.Fragment,{children:[c.jsx(Fe,{children:e&&c.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:t})}),c.jsx(Fe,{children:e&&c.jsxs(ie.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed right-0 top-0 h-full z-50 bg-white shadow-2xl flex flex-col w-full",style:{width:`min(100vw, ${l})`},children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Chat"}),c.jsx("span",{className:"text-xs text-gray-400 font-normal",children:d==="copilot"?"(Copilot)":"(Repliers NLP)"})]}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close chat",children:c.jsx(Zt,{className:"w-5 h-5 text-gray-600"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:[s.map((m,b)=>c.jsxs(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`
                    flex gap-4 py-6 px-4
                    ${m.role==="user"?"bg-white flex-row-reverse":"bg-gray-50/50"}
                    ${b!==0?"border-t border-gray-100":""}
                  `,children:[c.jsx("div",{className:"shrink-0",children:m.role==="user"?c.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center",children:c.jsx(jo,{className:"w-5 h-5 text-white"})}):c.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-600 flex items-center justify-center",children:c.jsx(an,{className:"w-5 h-5 text-white"})})}),c.jsxs("div",{className:"flex-1 min-w-0 space-y-4",children:[c.jsxs("div",{className:"prose prose-sm max-w-none",children:[m.isLoading&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[c.jsx(on,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{className:"text-sm",children:"Thinking..."})]}),!m.isLoading&&c.jsx("p",{className:`
                            text-[15px] leading-7 whitespace-pre-wrap
                            ${m.error?"text-red-700":"text-gray-900"}
                          `,children:m.content})]}),m.role==="assistant"&&m.propertyResults&&m.propertyResults.length>0&&c.jsxs("div",{className:"mt-4",children:[c.jsx(go,{listings:m.propertyResults,onViewDetails:r}),m.propertyResults.length>5&&c.jsx("div",{className:"mt-3",children:c.jsxs("button",{onClick:()=>a==null?void 0:a(m.propertyResults),className:" w-full px-4 py-2.5 bg-white hover:bg-gray-50 border border-gray-200 hover:border-gray-300 text-gray-700 text-sm font-medium rounded-lg transition-all ",children:["View all ",m.propertyResults.length," listings"]})})]})]})]},m.id)),n&&!s.some(m=>m.isLoading)&&c.jsxs("div",{className:"flex gap-4 py-6 px-4 bg-gray-50/50 border-t border-gray-100",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-600 flex items-center justify-center shrink-0",children:c.jsx(an,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[c.jsx(on,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{className:"text-sm",children:"Thinking..."})]})]}),c.jsx("div",{ref:f})]}),c.jsxs("div",{className:"p-4 bg-white",children:[c.jsxs("div",{className:"relative flex items-end bg-gray-100 rounded-3xl px-4 py-3 shadow-sm",children:[c.jsx("textarea",{ref:p,value:u,onChange:m=>h(m.target.value),onKeyDown:g,placeholder:o,disabled:n,rows:1,className:" flex-1 px-4 py-2 bg-transparent focus:outline-none text-[15px] leading-6 text-gray-900 placeholder:text-gray-500 resize-none max-h-40 ",style:{minHeight:"28px",lineHeight:"1.5"},"aria-label":"Message input"}),c.jsxs("div",{className:"flex items-center gap-1 shrink-0 mb-0.5",children:[!u.trim()&&c.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-full transition-colors","aria-label":"Voice input",onClick:w,children:c.jsx(Go,{className:"w-5 h-5 text-gray-600"})}),u.trim()&&c.jsx("button",{onClick:x,disabled:n,className:" p-2 bg-gray-900 text-white rounded-full hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all flex items-center justify-center ","aria-label":"Send message",children:c.jsx(ko,{className:"w-5 h-5"})})]})]}),c.jsx("p",{className:"text-[11px] text-gray-400 mt-2 text-center",children:"Press Enter to send  Shift+Enter for new line"})]})]})})]})}yo.__docgenInfo={description:`ChatPanel Component - Claude-style Chat UI

A modern, clean chat interface inspired by Claude/ChatGPT.
Slides in from the right side of the screen.

Features:
- Minimal, clean design
- Slides in/out with framer-motion
- Auto-scrolling messages
- Property results inline with messages
- Larger, auto-resizing text input
- Desktop: ~400px width, full height
- Mobile: Full screen`,methods:[],displayName:"ChatPanel",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},messages:{required:!0,tsType:{name:"Array",elements:[{name:"ChatMessage"}],raw:"ChatMessage[]"},description:""},isLoading:{required:!0,tsType:{name:"boolean"},description:""},onSendMessage:{required:!0,tsType:{name:"signature",type:"function",raw:"(message: string) => void",signature:{arguments:[{type:{name:"string"},name:"message"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Ask me anything about properties..."',computed:!1}},onPropertyClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(property: PropertyListing) => void",signature:{arguments:[{type:{name:"PropertyListing"},name:"property"}],return:{name:"void"}}},description:""},onShowAllListings:{required:!1,tsType:{name:"signature",type:"function",raw:"(listings: PropertyListing[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"PropertyListing"}],raw:"PropertyListing[]"},name:"listings"}],return:{name:"void"}}},description:""},width:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"500px"',computed:!1}},mode:{required:!1,tsType:{name:"union",raw:"'copilot' | 'nlp'",elements:[{name:"literal",value:"'copilot'"},{name:"literal",value:"'nlp'"}]},description:"",defaultValue:{value:'"nlp"',computed:!1}}}};function xo({listing:e}){var m,b,y,C,T,A,j,S,M,L,q,le,Ge,Se,Ce,dt,E,$,Y,Q,Ke,Ds,Es,Rs,Ls,Is,Bs,Fs,Os,$s,Us,_s,qs,Ws,Gs,Ks,Hs,zs,Ys,Xs,Zs,Js,Qs,en,tn;const[t,s]=v.useState(0),n=N=>`$${N.toLocaleString()}`,i=N=>{if(typeof N=="string")return N;if(!N||typeof N!="object")return"Address not available";const F=[];N.unitNumber&&F.push(`#${N.unitNumber}`),N.streetNumber&&F.push(N.streetNumber),N.streetName&&F.push(N.streetName),N.streetSuffix&&F.push(N.streetSuffix);const So=F.join(" "),sn=N.city||"",nn=N.state||N.province||"",rn=N.zip||N.postalCode||"";return`${So}${sn?`, ${sn}`:""}${nn?`, ${nn}`:""}${rn?` ${rn}`:""}`},o=(N,F="medium")=>N.includes("cdn.repliers.io")?N:`https://cdn.repliers.io/${N}?class=${F}`,r=e.images||[],a=()=>s(N=>(N+1)%r.length),l=()=>s(N=>(N-1+r.length)%r.length),d=e.listPrice||e.price,u=((m=e.details)==null?void 0:m.numBedrooms)||e.bedrooms||e.beds,h=((b=e.details)==null?void 0:b.numBathrooms)||e.bathrooms||e.baths,f=e.sqft||((y=e.details)==null?void 0:y.sqft),p=((C=e.details)==null?void 0:C.yearBuilt)||e.yearBuilt,x=e.simpleDaysOnMarket||e.daysOnMarket,g=e.standardStatus||e.status,w=((T=e.details)==null?void 0:T.description)||e.description;return c.jsxs("div",{className:"flex flex-col h-full bg-white",children:[r.length>0&&c.jsxs("div",{className:"relative bg-gray-900 flex",style:{height:"400px"},children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("img",{src:o(r[t],"large"),alt:`Property photo ${t+1}`,className:"w-full h-full object-cover"}),r.length>1&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:l,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all","aria-label":"Previous image",children:c.jsx(Ro,{className:"w-6 h-6 text-gray-800"})}),c.jsx("button",{onClick:a,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all","aria-label":"Next image",children:c.jsx(Io,{className:"w-6 h-6 text-gray-800"})})]}),c.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm",children:[t+1," / ",r.length]})]}),c.jsx("div",{className:"w-32 bg-gray-900 overflow-y-auto",children:r.slice(0,12).map((N,F)=>c.jsx("div",{onClick:()=>s(F),className:`cursor-pointer border-2 ${F===t?"border-blue-500":"border-transparent"} hover:border-blue-300 transition-all`,children:c.jsx("img",{src:o(N,"small"),alt:`Thumbnail ${F+1}`,className:"w-full aspect-square object-cover"})},F))})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"p-6 max-w-4xl",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:d?n(d):"Price on request"}),g&&c.jsx("span",{className:"px-3 py-1 text-sm font-medium bg-green-100 text-green-800 rounded-full",children:g})]}),c.jsx("p",{className:"text-xl text-gray-700",children:i(e.address)}),c.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-6",children:[u!==void 0&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-xl",children:u}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Bedrooms"})]}),h!==void 0&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-xl",children:h}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Bathrooms"})]}),f&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-xl",children:f}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Square Feet"})]}),p&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-xl",children:p}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Year Built"})]}),((A=e.taxes)==null?void 0:A.annualAmount)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-xl",children:n(e.taxes.annualAmount)}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Annual Tax"})]}),((S=(j=e.condominium)==null?void 0:j.fees)==null?void 0:S.maintenance)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"text-gray-900 font-semibold text-xl",children:[n(e.condominium.fees.maintenance),"/mo"]}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Condo Fees"})]}),x&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-xl",children:x}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Days on Market"})]})]})]}),w&&c.jsxs("div",{className:"mb-10",children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 pb-3 border-b-2 border-gray-200",children:"About This Property"}),c.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:w})]}),c.jsxs("div",{className:"mb-10",children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 pb-3 border-b-2 border-gray-200",children:"Property Details"}),c.jsxs("div",{className:"bg-gray-50 rounded-xl overflow-hidden",children:[c.jsxs("details",{className:"border-b border-gray-200",open:!0,children:[c.jsxs("summary",{className:"px-7 py-6 bg-white text-lg font-semibold text-gray-800 cursor-pointer hover:bg-gray-50 transition-colors flex justify-between items-center",children:[c.jsx("span",{children:"Overview"}),c.jsx("span",{className:"text-xs text-gray-500",children:""})]}),c.jsx("div",{className:"px-7 py-6 bg-white",children:c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:g}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Status"})]}),(((M=e.details)==null?void 0:M.propertyType)||e.propertyType)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:((L=e.details)==null?void 0:L.propertyType)||e.propertyType}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Property Type"})]}),((q=e.details)==null?void 0:q.style)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.details.style}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Style"})]}),e.listDate&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:new Date(e.listDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"List Date"})]}),(((le=e.timestamps)==null?void 0:le.listingUpdated)||e.updatedOn)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:new Date(((Ge=e.timestamps)==null?void 0:Ge.listingUpdated)||e.updatedOn).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Last Updated"})]})]})})]}),c.jsxs("details",{className:"border-b border-gray-200",open:!0,children:[c.jsxs("summary",{className:"px-7 py-6 bg-white text-lg font-semibold text-gray-800 cursor-pointer hover:bg-gray-50 transition-colors flex justify-between items-center",children:[c.jsx("span",{children:"Interior Features"}),c.jsx("span",{className:"text-xs text-gray-500",children:""})]}),c.jsx("div",{className:"px-7 py-6 bg-white",children:c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u!==void 0&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:u}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Total Bedrooms"})]}),h!==void 0&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:h}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Total Bathrooms"})]}),((Se=e.details)==null?void 0:Se.numBedroomsPlus)!==void 0&&e.details.numBedroomsPlus>0&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.details.numBedroomsPlus}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Additional Rooms"})]}),((Ce=e.details)==null?void 0:Ce.numFireplaces)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.details.numFireplaces==="N"?"No":e.details.numFireplaces}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Fireplaces"})]}),((dt=e.details)==null?void 0:dt.basement1)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.details.basement1}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Basement"})]})]})})]}),(((E=e.details)==null?void 0:E.heating)||(($=e.details)==null?void 0:$.airConditioning))&&c.jsxs("details",{className:"border-b border-gray-200",open:!0,children:[c.jsxs("summary",{className:"px-7 py-6 bg-white text-lg font-semibold text-gray-800 cursor-pointer hover:bg-gray-50 transition-colors flex justify-between items-center",children:[c.jsx("span",{children:"Heating & Cooling"}),c.jsx("span",{className:"text-xs text-gray-500",children:""})]}),c.jsx("div",{className:"px-7 py-6 bg-white",children:c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[((Y=e.details)==null?void 0:Y.heating)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.details.heating}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Heating Type"})]}),((Q=e.details)==null?void 0:Q.airConditioning)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.details.airConditioning}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Air Conditioning"})]})]})})]}),(((Ke=e.details)==null?void 0:Ke.numGarageSpaces)||((Ds=e.details)==null?void 0:Ds.numParkingSpaces))&&c.jsxs("details",{className:"border-b border-gray-200",open:!0,children:[c.jsxs("summary",{className:"px-7 py-6 bg-white text-lg font-semibold text-gray-800 cursor-pointer hover:bg-gray-50 transition-colors flex justify-between items-center",children:[c.jsx("span",{children:"Parking & Garage"}),c.jsx("span",{className:"text-xs text-gray-500",children:""})]}),c.jsx("div",{className:"px-7 py-6 bg-white",children:c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[((Es=e.details)==null?void 0:Es.numParkingSpaces)!==void 0&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.details.numParkingSpaces}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Total Parking Spaces"})]}),((Rs=e.details)==null?void 0:Rs.numGarageSpaces)!==void 0&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.details.numGarageSpaces}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Garage Spaces"})]})]})})]}),c.jsxs("details",{className:"border-b border-gray-200",open:!0,children:[c.jsxs("summary",{className:"px-7 py-6 bg-white text-lg font-semibold text-gray-800 cursor-pointer hover:bg-gray-50 transition-colors flex justify-between items-center",children:[c.jsx("span",{children:"Exterior & Lot"}),c.jsx("span",{className:"text-xs text-gray-500",children:""})]}),c.jsxs("div",{className:"px-7 py-6 bg-white",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:p}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Year Built"})]}),((Ls=e.details)==null?void 0:Ls.roofMaterial)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.details.roofMaterial}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Roof Material"})]}),(((Is=e.details)==null?void 0:Is.exteriorConstruction1)||((Bs=e.details)==null?void 0:Bs.exteriorConstruction2))&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:[(Fs=e.details)==null?void 0:Fs.exteriorConstruction1,(Os=e.details)==null?void 0:Os.exteriorConstruction2].filter(Boolean).join(", ")}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Exterior"})]}),(($s=e.lot)==null?void 0:$s.size)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.lot.size}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Lot Size"})]})]}),(((_s=(Us=e.condominium)==null?void 0:Us.amenities)==null?void 0:_s.length)>0||((Ws=(qs=e.nearby)==null?void 0:qs.amenities)==null?void 0:Ws.length)>0)&&c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[((Ks=(Gs=e.condominium)==null?void 0:Gs.amenities)==null?void 0:Ks.length)>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"BUILDING AMENITIES"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:e.condominium.amenities.map((N,F)=>c.jsx("span",{className:"px-3 py-1.5 bg-blue-50 border border-blue-200 rounded-full text-sm text-blue-700 font-medium",children:N},F))})]}),((zs=(Hs=e.nearby)==null?void 0:Hs.amenities)==null?void 0:zs.length)>0&&c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"NEARBY"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:e.nearby.amenities.map((N,F)=>c.jsx("span",{className:"px-3 py-1.5 bg-green-50 border border-green-200 rounded-full text-sm text-green-700 font-medium",children:N},F))})]})]})]})]}),c.jsxs("details",{className:"border-b-0",open:!0,children:[c.jsxs("summary",{className:"px-7 py-6 bg-white text-lg font-semibold text-gray-800 cursor-pointer hover:bg-gray-50 transition-colors flex justify-between items-center",children:[c.jsx("span",{children:"Listing Information"}),c.jsx("span",{className:"text-xs text-gray-500",children:""})]}),c.jsx("div",{className:"px-7 py-6 bg-white",children:c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[((Ys=e.office)==null?void 0:Ys.brokerageName)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.office.brokerageName}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Brokerage"})]}),e.mlsNumber&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.mlsNumber}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"MLS Number"})]}),((Xs=e.taxes)==null?void 0:Xs.annualAmount)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:n(e.taxes.annualAmount)}),c.jsxs("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:["Annual Property Tax (",e.taxes.assessmentYear,")"]})]}),((Js=(Zs=e.condominium)==null?void 0:Zs.fees)==null?void 0:Js.maintenance)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"text-gray-900 font-semibold text-base",children:[n(e.condominium.fees.maintenance),"/mo"]}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Condo Fees"})]}),((Qs=e.condominium)==null?void 0:Qs.propertyMgr)&&c.jsxs("div",{className:"flex flex-col",children:[c.jsx("div",{className:"text-gray-900 font-semibold text-base",children:e.condominium.propertyMgr}),c.jsx("div",{className:"text-gray-600 text-xs tracking-wide uppercase",children:"Property Manager"})]})]})})]})]})]}),(e.listDate||x)&&c.jsxs("div",{className:"mb-10",children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 pb-3 border-b-2 border-gray-200",children:"Sale & Tax History"}),c.jsxs("div",{className:"relative pl-10",children:[c.jsx("div",{className:"absolute left-2 top-2 bottom-2 w-0.5 bg-gray-200"}),x&&c.jsxs("div",{className:"relative pb-8",children:[c.jsx("div",{className:"absolute left-[-30px] top-[10px] w-[18px] h-[18px] bg-green-500 border-[3px] border-white rounded-full shadow-[0_0_0_3px_#c6f6d5]"}),c.jsxs("div",{className:"pl-5",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1 font-medium",children:"Currently"}),c.jsx("div",{className:"text-base text-gray-900 font-semibold mb-1",children:"Active Listing"}),c.jsxs("div",{className:"text-sm text-gray-600",children:[x," days on market"]})]})]}),(((en=e.timestamps)==null?void 0:en.listingUpdated)||e.updatedOn)&&c.jsxs("div",{className:"relative pb-8",children:[c.jsx("div",{className:"absolute left-[-30px] top-[10px] w-[18px] h-[18px] bg-blue-500 border-[3px] border-white rounded-full shadow-[0_0_0_3px_#e2e8f0]"}),c.jsxs("div",{className:"pl-5",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1 font-medium",children:new Date(((tn=e.timestamps)==null?void 0:tn.listingUpdated)||e.updatedOn).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),c.jsx("div",{className:"text-base text-gray-900 font-semibold mb-1",children:"Status Update"}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Listed as ",g||"Active"]})]})]}),e.listDate&&c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-[-30px] top-[10px] w-[18px] h-[18px] bg-blue-500 border-[3px] border-white rounded-full shadow-[0_0_0_3px_#e2e8f0]"}),c.jsxs("div",{className:"pl-5",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1 font-medium",children:new Date(e.listDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),c.jsx("div",{className:"text-base text-gray-900 font-semibold mb-1",children:"Listed For Sale"}),d&&c.jsx("div",{className:"text-sm text-gray-600",children:n(d)})]})]})]})]})]})})]})}xo.__docgenInfo={description:`PropertyDetailsView Component

Beautiful property details display with hero gallery, organized sections,
and comprehensive property information following Repliers best practices.`,methods:[],displayName:"PropertyDetailsView",props:{listing:{required:!0,tsType:{name:"PropertyListing"},description:""}}};function vo({listings:e,onPropertyClick:t}){return!e||e.length===0?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("p",{className:"text-gray-500",children:"No properties to display"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.length," ",e.length===1?"Property":"Properties"]})}),c.jsx("div",{className:" grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 ",children:e.map(s=>c.jsx(Vs,{listing:s,onViewDetails:t},s.mlsNumber))})]})}vo.__docgenInfo={description:`PropertyListingsGrid Component

Displays all property listings in a responsive grid layout.
Used in the PropertyPanel when showing "all listings" view.

Features:
- Responsive grid (1-3 columns based on screen size)
- Clickable property cards
- Empty state handling
- Property count header`,methods:[],displayName:"PropertyListingsGrid",props:{listings:{required:!0,tsType:{name:"Array",elements:[{name:"PropertyListing"}],raw:"PropertyListing[]"},description:""},onPropertyClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(property: PropertyListing) => void",signature:{arguments:[{type:{name:"PropertyListing"},name:"property"}],return:{name:"void"}}},description:""}}};function bo({isOpen:e,onClose:t,mode:s,selectedProperty:n,allListings:i,onPropertyClick:o,chatPanelWidth:r="500px"}){return c.jsxs(c.Fragment,{children:[c.jsx(Fe,{children:e&&c.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:t})}),c.jsx(Fe,{children:e&&c.jsxs(ie.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed left-0 top-0 h-full z-40 bg-white shadow-2xl flex flex-col overflow-hidden w-full md:w-auto",style:{right:`max(0px, min(100vw, ${r}))`},children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:s==="detail"?"Property Details":"All Listings"}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close property panel",children:c.jsx(Zt,{className:"w-5 h-5 text-gray-600"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s==="detail"&&n&&c.jsx("div",{className:"p-6",children:c.jsx(xo,{listing:n})}),s==="grid"&&i.length>0&&c.jsx("div",{className:"p-6",children:c.jsx(vo,{listings:i,onPropertyClick:o})}),!s&&c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("p",{className:"text-gray-400",children:"No property selected"})})]})]})})]})}bo.__docgenInfo={description:`PropertyPanel Component

Displays property information in two modes:
- "detail": Show detailed information for a single property
- "grid": Show grid of all available properties

Slides in from the left, fills remaining space beside chat panel.

Features:
- Independent close button (doesn't close chat)
- Two display modes
- Responsive: overlay on mobile, side-by-side on desktop`,methods:[],displayName:"PropertyPanel",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},mode:{required:!0,tsType:{name:"union",raw:'"detail" | "grid" | null',elements:[{name:"literal",value:'"detail"'},{name:"literal",value:'"grid"'},{name:"null"}]},description:""},selectedProperty:{required:!0,tsType:{name:"union",raw:"PropertyListing | null",elements:[{name:"PropertyListing"},{name:"null"}]},description:""},allListings:{required:!0,tsType:{name:"Array",elements:[{name:"PropertyListing"}],raw:"PropertyListing[]"},description:""},onPropertyClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(property: PropertyListing) => void",signature:{arguments:[{type:{name:"PropertyListing"},name:"property"}],return:{name:"void"}}},description:""},chatPanelWidth:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"500px"',computed:!1}}}};function Nd(){const[e,t]=v.useState(!1),[s,n]=v.useState(!1),[i,o]=v.useState(null),[r,a]=v.useState(null),[l,d]=v.useState([]),u=v.useCallback(()=>{t(!0)},[]),h=v.useCallback(()=>{t(!1),n(!1),o(null),a(null)},[]),f=v.useCallback(()=>{t(b=>{const y=!b;return y||(n(!1),o(null),a(null)),y})},[]),p=v.useCallback(b=>{a(b),o("detail"),n(!0)},[]),x=v.useCallback(b=>{d(b),o("grid"),n(!0),a(null)},[]),g=v.useCallback(()=>{n(!1),o(null),a(null)},[]);return[{chatOpen:e,propertyPanelOpen:s,propertyPanelMode:i,selectedProperty:r,allListings:l},{openChat:u,closeChat:h,toggleChat:f,openPropertyDetail:p,openPropertyGrid:x,closePropertyPanel:g,setAllListings:d}]}function Ti(e){var n,i,o,r,a;let t;if((n=e.details)!=null&&n.sqft){const l=e.details.sqft.replace(/[^0-9-]/g,"");if(l.includes("-")){const[d,u]=l.split("-").map(Number);t=Math.round((d+u)/2)}else t=parseInt(l,10)}const s=e.images;return{...e,images:s,bedrooms:((i=e.details)==null?void 0:i.numBedrooms)||0,bathrooms:((o=e.details)==null?void 0:o.numBathrooms)||0,sqft:t,propertyType:(r=e.details)==null?void 0:r.propertyType,status:e.standardStatus,description:(a=e.details)==null?void 0:a.description,daysOnMarket:e.simpleDaysOnMarket||e.daysOnMarket}}class kd{constructor(t){this.baseUrl="https://api.repliers.io",this.currentNlpId=null,this.apiKey=t}async processQuery(t){console.group(" Repliers NLP API Call"),console.log("Prompt:",t),console.log("Current nlpId:",this.currentNlpId||"none (new conversation)");try{const s={prompt:t,...this.currentNlpId&&{nlpId:this.currentNlpId}};console.log("Request body:",JSON.stringify(s,null,2));const n=await fetch(`${this.baseUrl}/nlp`,{method:"POST",headers:{"Content-Type":"application/json","repliers-api-key":this.apiKey},body:JSON.stringify(s)});if(console.log("Response status:",n.status),!n.ok)throw n.status===406?(console.error(" Query not relevant to property search (406)"),console.groupEnd(),new Error("IRRELEVANT_QUERY")):(console.error(` NLP API error: ${n.status}`),console.groupEnd(),new Error(`NLP API error: ${n.status}`));const i=await n.json();return this.currentNlpId=i.nlpId,console.log(" NLP Response:"),console.log("Full response:",JSON.stringify(i,null,2)),console.log("  - nlpId:",i.nlpId),console.log("  - summary:",i.summary),console.log("  - url:",i.request.url),i.request.body?(console.log("  - body:",JSON.stringify(i.request.body,null,2)),i.request.body.imageSearchItems&&console.log("  - imageSearchItems:",i.request.body.imageSearchItems)):console.log("  - body: none"),console.groupEnd(),i}catch(s){throw console.error(" NLP processing error:",s),console.groupEnd(),s}}async searchListings(t,s){var i;const n=t.includes("?")?`${t}&select=*`:`${t}?select=*`;console.group(" Repliers Listings API Call"),console.log("URL:",n),console.log("Body:",s?JSON.stringify(s,null,2):"none");try{const o=await fetch(n,{method:s?"POST":"GET",headers:{"Content-Type":"application/json","repliers-api-key":this.apiKey},...s&&{body:JSON.stringify(s)}});if(console.log("Response status:",o.status),!o.ok)throw console.error(` Listings API error: ${o.status}`),console.groupEnd(),new Error(`Listings API error: ${o.status}`);const a=(await o.json()).listings||[];if(console.log(` Found ${a.length} properties`),a.length>0){const l=Ti(a[0]);console.log("First listing:",{mlsNumber:l.mlsNumber,price:l.listPrice,bedrooms:l.bedrooms,address:`${l.address.streetNumber} ${l.address.streetName}, ${l.address.city}`,imageCount:((i=l.images)==null?void 0:i.length)||0})}return console.groupEnd(),a.map(Ti)}catch(o){throw console.error(" Listings search error:",o),console.groupEnd(),o}}resetContext(){console.log(" Resetting conversation context (clearing nlpId)"),this.currentNlpId=null}getCurrentNlpId(){return this.currentNlpId}}class Md{constructor(t,s="Real Estate Assistant"){this.baseUrl="https://api.openai.com/v1",this.conversationHistory=[],this.apiKey=t,this.systemPrompt=this.createSystemPrompt(s),this.initializeConversation()}createSystemPrompt(t){return`You are a helpful and friendly real estate assistant for ${t}.

Your role:
- Help users find their ideal property through natural conversation
- Ask clarifying questions about their needs (bedrooms, budget, location, features, amenities)
- **IMPORTANT**: Early on, determine if they want to BUY or RENT
- Gather as much relevant information as you can without being pushy (2-3 questions max)
- When you have enough information, use the search_properties tool with a natural language query
- After showing results, help users refine their search or discuss specific properties
- When users want to refine (add filters, change criteria), trigger a NEW search with updated query
- Be warm, professional, and focused on helping them find a home

Search Strategy:
- DON'T extract structured parameters - let the AI search engine handle that
- DO create a natural, conversational search query with all the details
- **CRITICAL**: ALWAYS include "for sale" OR "for rent"/"for lease" in EVERY query - NEVER omit this
- Include: buy/rent intent, location, bedrooms, bathrooms, price, property type, features, amenities
- Example good query: "horse farm for sale outside Toronto with a barn or stable"
- Example good query: "3 bedroom condo for sale in Toronto under $800k"
- Example good query: "house for rent with a pool and wine cellar in Orlando"
- Example BAD query: "3 bedroom condo in Toronto" (missing "for sale" or "for rent")

Refinement Strategy:
- When user wants to refine (e.g., "under $800k", "with a pool", "in different area"), IMMEDIATELY trigger a new search
- Combine the original search criteria with the new refinement
- **CRITICAL**: Always maintain "for sale" or "for rent" in refined queries
- Example: Previous search was "3 bedroom condo for sale in Toronto", user says "under $800k"  Search: "3 bedroom condo for sale in Toronto under $800k"
- Don't just discuss - actually search again with the refined criteria

Conversation Flow:
1. Greet and ask: buy or rent?
2. Ask about location and basic needs (bedrooms, price range)
3. Ask if there are any special features or amenities they want
4. When you have enough info (usually 2-3 exchanges), search with a natural language query
5. After results, if user refines criteria  immediately search again with updated query
6. Keep responses concise (2-3 sentences max) - this is a chat interface

Example conversations:
User: "Hi"
You: "Hello! I'm here to help you find your perfect property. Are you looking to buy or rent?"

User: "I want to buy a 3 bedroom condo"
You: "Great! Where would you like to search, and do you have a budget in mind?"

User: "Toronto"
You: [Call search_properties with query: "3 bedroom condo for sale in Toronto"]
     "Perfect! Let me find 3 bedroom condos for sale in Toronto."

[After results are shown]
User: "Under $800k"
You: [Call search_properties with query: "3 bedroom condo for sale in Toronto under $800k"]
     "Let me refine that search to condos under $800k."

User: "I'm looking for a horse farm"
You: "Wonderful! Are you looking to buy or rent, and where would you like to search?"

User: "Buy, outside Toronto. Need a barn or stable"
You: [Call search_properties with query: "horse farm for sale outside Toronto with barn or stable"]
     "Great! Let me search for horse farms for sale outside Toronto with barns or stables."`}initializeConversation(){this.conversationHistory=[{role:"system",content:this.systemPrompt}]}addPropertyContext(t,s){const n=`[Property Search Results]
Query: "${s}"
Found ${t.length} properties.

${t.slice(0,3).map((i,o)=>`
${o+1}. MLS #${i.mlsNumber}
   Price: $${i.listPrice.toLocaleString()}
   ${i.bedrooms} bed, ${i.bathrooms} bath${i.sqft?`, ${i.sqft} sqft`:""}
   ${i.address.streetNumber} ${i.address.streetName}, ${i.address.city}
   Type: ${i.propertyType||"N/A"}
`).join("")}

${t.length>3?`
... and ${t.length-3} more properties`:""}

The user can see these property cards in the chat. Acknowledge the results and offer to help them refine or discuss specific properties.`;this.conversationHistory.push({role:"system",content:n})}async chat(t){console.group(" OpenAI ChatGPT API Call"),console.log("User message:",t);try{this.conversationHistory.push({role:"user",content:t}),console.log("Conversation history length:",this.conversationHistory.length),console.log("Sending to OpenAI...");const s=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:"gpt-4o-mini",messages:this.conversationHistory,temperature:.7,max_tokens:150,tools:[{type:"function",function:{name:"search_properties",description:"Search for real estate listings using natural language. Use this when you have gathered enough information from the user (buy/rent, location, and any preferences). Create a complete, natural language query that includes ALL the details the user has provided.",parameters:{type:"object",properties:{query:{type:"string",description:"A complete natural language search query that includes all user requirements. Examples: '3 bedroom condo for sale in Toronto under $800k', 'horse farm for sale outside Toronto with barn or stable', 'house to rent with pool and wine cellar in Orlando'. Always include buy/rent, location, and all features/amenities mentioned."}},required:["query"]}}}]})});if(console.log("Response status:",s.status),!s.ok)throw console.error(` OpenAI API error: ${s.status}`),console.groupEnd(),new Error(`OpenAI API error: ${s.status}`);const i=(await s.json()).choices[0],o=i.message.content||"",r=i.message.tool_calls;if(r&&r.length>0){const a=r.find(l=>l.function.name==="search_properties");if(a){console.log(" ChatGPT requested tool call: search_properties");const l=JSON.parse(a.function.arguments);return console.log("Search parameters:",l),this.conversationHistory.push({role:"assistant",content:o,tool_calls:r}),console.log(" ChatGPT response with search request"),console.groupEnd(),{message:o||"Let me search for properties...",searchParams:l,needsSearch:!0,toolCallId:a.id}}}return this.conversationHistory.push({role:"assistant",content:o}),console.log(" ChatGPT response:",o),console.groupEnd(),{message:o,needsSearch:!1}}catch(s){throw console.error(" ChatGPT error:",s),console.groupEnd(),s}}addSearchResults(t,s){const n={found:s.length,sample:s.slice(0,3).map(i=>({mlsNumber:i.mlsNumber,price:i.listPrice,bedrooms:i.bedrooms,bathrooms:i.bathrooms,address:`${i.address.city}, ${i.address.province||""}`}))};this.conversationHistory.push({role:"tool",content:JSON.stringify(n),tool_call_id:t,name:"search_properties"}),console.log(" Added search results to ChatGPT context:",n)}resetConversation(){console.log(" Resetting ChatGPT conversation"),this.initializeConversation()}getConversationHistory(){return this.conversationHistory}trimHistory(t=10){if(this.conversationHistory.length>t+1){const s=this.conversationHistory[0],n=this.conversationHistory.slice(-t);this.conversationHistory=[s,...n],console.log(` Trimmed conversation history to ${this.conversationHistory.length} messages`)}}}const wo="Hi! I'm your AI real estate assistant. Tell me what you're looking for and I'll help you find the perfect home.",Vd="Real Estate Assistant";function Dd(e,t,s="Real Estate Assistant",n=wo){const i=v.useMemo(()=>new kd(e),[e]),o=v.useMemo(()=>t?new Md(t,s):null,[t,s]),[r,a]=v.useState([{id:"welcome",role:"assistant",content:n,timestamp:new Date}]),[l,d]=v.useState(!1),u=v.useCallback(async g=>{console.group(" Executing Property Search"),console.log("Natural language query:",g),console.log("Has ChatGPT:",!!o);try{const w=await i.processQuery(g),m=await i.searchListings(w.request.url,w.request.body);return console.log(` NLP search completed: ${m.length} listings`),console.groupEnd(),m}catch(w){throw console.error(" Search failed:",w),console.error("Error details:",w),console.groupEnd(),w}},[i,o]),h=g=>{const w=g.toLowerCase().trim();if(w.length<5||["hello","hi","hey","help","thanks","thank you","a house","a condo","a home","property","properties","looking","want","need","search","find"].some(T=>w===T))return!1;const b=/\d+/.test(g),y=/\$|dollar|k\b|million/.test(w),C=w.split(" ").length>=3;return b||y||C},f=v.useCallback(async g=>{if(!o)throw new Error("ChatGPT not initialized - should use direct NLP flow");return await o.chat(g)},[o]),p=v.useCallback(async g=>{if(!g.trim()||l)return;const w={id:`user-${Date.now()}`,role:"user",content:g.trim(),timestamp:new Date};a(m=>[...m,w]),d(!0);try{if(o){const m=await f(g);if(m.needsSearch&&m.searchParams){if(console.log(" ChatGPT requested search with query:",m.searchParams.query),m.message){const T={id:`gpt-${Date.now()}`,role:"assistant",content:m.message,timestamp:new Date};a(A=>[...A,T])}const b={id:`searching-${Date.now()}`,role:"assistant",content:"Searching for properties...",timestamp:new Date,isLoading:!0};a(T=>[...T,b]);const y=await u(m.searchParams.query);a(T=>T.filter(A=>A.id!==b.id)),m.toolCallId&&(o.addSearchResults(m.toolCallId,y),o.addPropertyContext(y,m.searchParams.query));const C={id:`result-${Date.now()}`,role:"assistant",content:`I found ${y.length} ${y.length===1?"property":"properties"} matching your criteria!`,propertyResults:y.length>0?y:void 0,timestamp:new Date};a(T=>[...T,C])}else{const b={id:`response-${Date.now()}`,role:"assistant",content:m.message,timestamp:new Date};a(y=>[...y,b])}o.trimHistory(20)}else{console.log(""),console.log(" DIRECT NLP MODE (No OpenAI Key)"),console.log("User query:",g),console.log("");const m=h(g);if(console.log("Query specific enough?",m),!m){console.log(" Showing guidance message");const T={id:`guidance-${Date.now()}`,role:"assistant",content:`Please provide more details for your search. Include location and criteria like:

 '3 bedroom condo in Toronto'
 'House under $800k in Orlando'
 '2 bedroom apartment in downtown Miami'
 'Waterfront property with dock in Tampa'`,timestamp:new Date};a(A=>[...A,T]),d(!1);return}console.log(" Executing NLP search...");const b={id:`searching-${Date.now()}`,role:"assistant",content:"Searching for properties...",timestamp:new Date,isLoading:!0};a(T=>[...T,b]),console.log(" Calling executeSearch with query:",g);const y=await u(g);console.log(" Search returned",y.length,"listings"),a(T=>T.filter(A=>A.id!==b.id));const C={id:`result-${Date.now()}`,role:"assistant",content:`I found ${y.length} ${y.length===1?"property":"properties"} matching your criteria!`,propertyResults:y.length>0?y:void 0,timestamp:new Date};a(T=>[...T,C]),console.log("")}}catch(m){console.error("Error processing message:",m),a(y=>y.filter(C=>!C.isLoading));const b={id:`error-${Date.now()}`,role:"assistant",content:Sd(m),timestamp:new Date,error:!0};a(y=>[...y,b])}finally{d(!1)}},[l,f,u,o]),x=v.useCallback(()=>{i.resetContext(),o&&o.resetConversation(),a([{id:"welcome",role:"assistant",content:n,timestamp:new Date}]),d(!1)},[i,o,n]);return{messages:r,isLoading:l,sendMessage:p,resetConversation:x}}function To({repliersApiKey:e,openaiApiKey:t,brokerageName:s=Vd,brokerageLogo:n,primaryColor:i,position:o="bottom-right",width:r="500px"}){const[a,l]=Nd(),d=t?wo:`Please provide your search criteria. Include location and details like:

 '3 bedroom condo in Toronto'
 'House under $800k in Orlando'
 '2 bedroom apartment in downtown Miami'
 'Waterfront property with dock in Tampa'`,u=t?"Ask me about properties...":"e.g., 3 bedroom condo in Toronto",{messages:h,isLoading:f,sendMessage:p}=Dd(e,t,s,d);return c.jsxs(c.Fragment,{children:[c.jsx(mo,{isOpen:a.chatOpen,onClick:l.toggleChat,position:o}),c.jsx(yo,{isOpen:a.chatOpen,onClose:l.closeChat,messages:h,isLoading:f,onSendMessage:p,placeholder:u,onPropertyClick:l.openPropertyDetail,onShowAllListings:l.openPropertyGrid,width:r,mode:t?"copilot":"nlp"}),c.jsx(bo,{isOpen:a.propertyPanelOpen,onClose:l.closePropertyPanel,mode:a.propertyPanelMode,selectedProperty:a.selectedProperty,allListings:a.allListings,onPropertyClick:l.openPropertyDetail,chatPanelWidth:r})]})}To.__docgenInfo={description:`Real Estate Chatbot Component - Dual Panel UI

A conversational AI chatbot with modern Claude/ChatGPT-style interface.

Architecture:
- FloatingChatButton: Circular button in bottom right
- ChatPanel: Slides in from right (configurable width, default 500px)
- PropertyPanel: Slides in from left (fills remaining space)
- Dual-panel system for chat + property details/listings

Features:
- Claude-style chat UI with smooth animations
- Property details panel for selected properties
- All listings grid view
- Responsive: full screen mobile, side-by-side desktop
- Independent panel close/open states
- Configurable chat panel width

@param props - The component props
@returns JSX.Element

@example
\`\`\`tsx
<Chatbot
  repliersApiKey="your_repliers_api_key"
  openaiApiKey="your_openai_api_key"
  brokerageName="Acme Realty"
  width="600px"
/>
\`\`\``,methods:[],displayName:"Chatbot",props:{repliersApiKey:{required:!0,tsType:{name:"string"},description:"Repliers API key (required for property search)"},openaiApiKey:{required:!1,tsType:{name:"string"},description:"OpenAI API key (optional - for enhanced conversation)"},brokerageName:{required:!1,tsType:{name:"string"},description:"Name of the brokerage to display in header",defaultValue:{value:'"Real Estate Assistant"',computed:!1}},brokerageLogo:{required:!1,tsType:{name:"string"},description:"URL to brokerage logo image"},primaryColor:{required:!1,tsType:{name:"string"},description:"Primary brand color (hex or Tailwind color)"},position:{required:!1,tsType:{name:"union",raw:'"bottom-right" | "bottom-left"',elements:[{name:"literal",value:'"bottom-right"'},{name:"literal",value:'"bottom-left"'}]},description:"Position of the floating button",defaultValue:{value:'"bottom-right"',computed:!1}},width:{required:!1,tsType:{name:"string"},description:'Width of the chat panel (e.g., "500px", "50%") - defaults to "500px"',defaultValue:{value:'"500px"',computed:!1}}}};const Po="pxI19UMy9zfw9vz5lRxoGpjJWXrMnm",qd={title:"pocs/Chatbot/Real Estate Chatbot",component:To,tags:["autodocs"],parameters:{layout:"fullscreen",docs:{description:{component:`
# Real Estate Chatbot

An intelligent, conversational AI chatbot for real estate websites powered by Repliers NLP API
and optional ChatGPT integration.

##  Features

-  **Natural Language Search** - "3 bedroom condo in Toronto under $800k"
-  **ChatGPT Integration** - Natural conversation (optional, add OpenAI key)
-  **Context-Aware** - Multi-turn refinement maintains conversation context
-  **Visual Search** - Search by aesthetics: "modern white kitchen"
-  **Beautiful UI** - Responsive property cards with images
-  **White-Label Ready** - Customizable branding, logo, and colors
-  **Mobile Optimized** - Full-screen on mobile, panel on desktop

##  Quick Start

1. **Try the Working Demo** story below
2. **(Optional)** Add your OpenAI API key for ChatGPT conversation
3. Search: "3 bedroom condo in Toronto"
4. Refine: "Under $800k"

##  Example Queries

- "3 bedroom condo in Toronto"
- "House under $800k with a backyard"
- "Modern apartment with white kitchen"
- "Show me properties in the Annex"

##  API Keys

- **Repliers API**: Sample key provided - [get yours here](https://repliers.com)
- **OpenAI API** (optional): For ChatGPT conversation - [get key](https://platform.openai.com)

##  Integration

Copy the entire \`src/components/chatbot\` directory into your project. All dependencies
are self-contained for easy integration.

\`\`\`tsx
import { Chatbot } from '@/components/chatbot';

<Chatbot
  repliersApiKey="your-key"
  brokerageName="Your Realty"
  brokerageLogo="https://your-site.com/logo.png"
/>
\`\`\`
        `}}},argTypes:{repliersApiKey:{control:"text",description:"Repliers API key (required for property search)",table:{type:{summary:"string"},defaultValue:{summary:"Sample key provided"}}},openaiApiKey:{control:"text",description:"OpenAI API key (optional - enables ChatGPT for natural conversation). Get yours at platform.openai.com",table:{type:{summary:"string"},defaultValue:{summary:"undefined (uses fallback responses)"}}},brokerageName:{control:"text",description:"Name of the brokerage to display in chat header",table:{type:{summary:"string"},defaultValue:{summary:"Real Estate Assistant"}}},brokerageLogo:{control:"text",description:"URL to brokerage logo image",table:{type:{summary:"string"}}},primaryColor:{control:"color",description:"Primary brand color (future feature)",table:{type:{summary:"string"},defaultValue:{summary:"#3B82F6"}}},position:{control:"radio",options:["bottom-right","bottom-left"],description:"Position of the floating button",table:{type:{summary:"bottom-right | bottom-left"},defaultValue:{summary:"bottom-right"}}}}},je={args:{repliersApiKey:Po,openaiApiKey:void 0,brokerageName:"Smart Homes Realty"},parameters:{docs:{description:{story:`
This is a complete, working demonstration of the chatbot with all features:

- **Natural Language Search**: Ask in plain English
- **Multi-Turn Conversations**: Refine searches with context
- **Visual Search**: Search by aesthetics (e.g., "modern kitchen")
- **ChatGPT Integration**: Add your OpenAI key for intelligent conversation
- **Beautiful UI**: Responsive property cards with images

**Getting Started:**
1. Try a search query like "3 bedroom condo in Toronto"
2. (Optional) Add your OpenAI API key for ChatGPT conversation
3. Watch the console to see API calls in action
        `}}}},Ne={args:{repliersApiKey:Po,brokerageName:"Luxury Homes Toronto",brokerageLogo:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=100&h=100&fit=crop",primaryColor:"#1e40af",position:"bottom-right"},parameters:{docs:{description:{story:`
Customize every aspect of the chatbot to match your brand:

**Branding Options:**
- \`brokerageName\`: Your company name in the header
- \`brokerageLogo\`: URL to your logo image
- \`welcomeMessage\`: Custom greeting message
- \`placeholder\`: Custom input placeholder text
- \`primaryColor\`: Brand color (future feature)
- \`position\`: "bottom-right" or "bottom-left"

**Example Integration:**
\`\`\`tsx
<Chatbot
  repliersApiKey="your-key"
  openaiApiKey="your-openai-key"
  brokerageName="Your Realty"
  brokerageLogo="https://your-site.com/logo.png"
  welcomeMessage="Welcome! How can I help you find your dream home?"
  position="bottom-right"
/>
\`\`\`
        `}}}};var Pi,Si,Ci,Ai,ji;je.parameters={...je.parameters,docs:{...(Pi=je.parameters)==null?void 0:Pi.docs,source:{originalSource:`{
  args: {
    repliersApiKey: SAMPLE_REPLIERS_API_KEY,
    openaiApiKey: undefined,
    //  Paste your OpenAI API key here to enable ChatGPT!
    brokerageName: "Smart Homes Realty"
  },
  parameters: {
    docs: {
      description: {
        story: \`
This is a complete, working demonstration of the chatbot with all features:

- **Natural Language Search**: Ask in plain English
- **Multi-Turn Conversations**: Refine searches with context
- **Visual Search**: Search by aesthetics (e.g., "modern kitchen")
- **ChatGPT Integration**: Add your OpenAI key for intelligent conversation
- **Beautiful UI**: Responsive property cards with images

**Getting Started:**
1. Try a search query like "3 bedroom condo in Toronto"
2. (Optional) Add your OpenAI API key for ChatGPT conversation
3. Watch the console to see API calls in action
        \`
      }
    }
  }
}`,...(Ci=(Si=je.parameters)==null?void 0:Si.docs)==null?void 0:Ci.source},description:{story:`**Working Demo**

A fully functional chatbot with NLP-powered property search.
This demonstrates the core functionality with all features enabled.

**Try these queries:**
- "Hello!" (if you add an OpenAI API key)
- "3 bedroom condo in Toronto"
- "House under $800k with a backyard"
- "Modern apartment with white kitchen"
- "Show me properties in the Annex"

**NEW: Unique Keyword Searches:**
- "I'm looking for a horse farm in Orlando"
- "House with pool and wine cellar"
- "Property with home theater"
- "Waterfront property with dock"

**To enable ChatGPT conversation:**
Add your OpenAI API key in the controls below for natural, intelligent dialogue.

**Check the browser console** to see API calls and keyword extraction!`,...(ji=(Ai=je.parameters)==null?void 0:Ai.docs)==null?void 0:ji.description}}};var Ni,ki,Mi,Vi,Di;Ne.parameters={...Ne.parameters,docs:{...(Ni=Ne.parameters)==null?void 0:Ni.docs,source:{originalSource:`{
  args: {
    repliersApiKey: SAMPLE_REPLIERS_API_KEY,
    brokerageName: "Luxury Homes Toronto",
    brokerageLogo: "https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=100&h=100&fit=crop",
    primaryColor: "#1e40af",
    position: "bottom-right"
  },
  parameters: {
    docs: {
      description: {
        story: \`
Customize every aspect of the chatbot to match your brand:

**Branding Options:**
- \\\`brokerageName\\\`: Your company name in the header
- \\\`brokerageLogo\\\`: URL to your logo image
- \\\`welcomeMessage\\\`: Custom greeting message
- \\\`placeholder\\\`: Custom input placeholder text
- \\\`primaryColor\\\`: Brand color (future feature)
- \\\`position\\\`: "bottom-right" or "bottom-left"

**Example Integration:**
\\\`\\\`\\\`tsx
<Chatbot
  repliersApiKey="your-key"
  openaiApiKey="your-openai-key"
  brokerageName="Your Realty"
  brokerageLogo="https://your-site.com/logo.png"
  welcomeMessage="Welcome! How can I help you find your dream home?"
  position="bottom-right"
/>
\\\`\\\`\\\`
        \`
      }
    }
  }
}`,...(Mi=(ki=Ne.parameters)==null?void 0:ki.docs)==null?void 0:Mi.source},description:{story:`**Custom Branding**

This story shows how to white-label the chatbot with your brokerage's branding.
Customize the name, logo, colors, welcome message, and button position.

**Perfect for:**
- Adding to your real estate website
- White-labeling for clients
- Matching your brand identity`,...(Di=(Vi=Ne.parameters)==null?void 0:Vi.docs)==null?void 0:Di.description}}};const Wd=["WorkingDemo","CustomBranding"];export{Ne as CustomBranding,je as WorkingDemo,Wd as __namedExportsOrder,qd as default};
