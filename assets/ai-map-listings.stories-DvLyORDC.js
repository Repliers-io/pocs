import{j as t}from"./jsx-runtime-xF634gn_.js";import{r as c}from"./index-C-7etoUd.js";import{m as ke}from"./mapbox-gl-vCdO7wfF.js";import{B as kt,C as Nt}from"./car-CJRJwKAe.js";import{B as Be}from"./bath-D_6pRDEi.js";import{X as pt}from"./x-C6fJ-1bL.js";import{L as It}from"./loader-circle-x9Fu845P.js";import{S as Et,C as Dt,M as ot}from"./search-CpmvFUy8.js";import{c as Fe}from"./createLucideIcon-BmJP7rG3.js";import{H as ze,B as at}from"./house-C1D6uJK2.js";import{C as mt}from"./chevron-down-BzbnjZNy.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rt=Fe("circle-check",At);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],$t=Fe("dollar-sign",qt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Bt=Fe("sparkles",zt),Ft=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Wt=e=>{if(!e)return"N/A";const n=e.numBedrooms,i=e.numBedroomsPlus;return n&&i&&i>0?`${n} + ${i}`:(n==null?void 0:n.toString())||"N/A"},Ot=e=>{if(!e)return"N/A";const n=e.numBathrooms,i=e.numBathroomsPlus;return n&&i&&i>0?`${n} + ${i}`:(n==null?void 0:n.toString())||"N/A"},_t=e=>{var n;return e&&((n=e.numGarageSpaces)==null?void 0:n.toString())||"N/A"},Ht=(e,n)=>n==="New"||n==="Pc"||n==="Ext"?e==="Sale"?"For Sale":e==="Lease"?"For Lease":e||null:n?{Sus:"Suspended",Exp:"Expired",Sld:"Sold",Ter:"Terminated",Dft:"Deal Fell Through",Lsd:"Leased",Sc:"Sold Conditionally",Sce:"Sold Conditionally (Escape Clause)",Lc:"Leased Conditionally",Cs:"Coming Soon"}[n]||n:null,Yt=e=>{if(!e)return"Address not available";const i=[e.streetNumber,e.streetDirection,e.streetName,e.streetSuffix].filter(Boolean).join(" "),r=[e.city,e.state].filter(Boolean).join(", ");return[i,r].filter(Boolean).join(", ")},gt=({type:e,lastStatus:n,size:i="sm"})=>{const r=Ht(e,n);if(!r)return null;let u="bg-green-100 text-green-600";switch(r){case"For Sale":u="bg-green-100 text-green-600";break;case"For Lease":u="bg-purple-100 text-purple-600";break;case"Sold":u="bg-blue-100 text-blue-600";break;case"Leased":u="bg-purple-100 text-purple-600";break;case"Sold Conditionally":case"Sold Conditionally (Escape Clause)":case"Leased Conditionally":u="bg-amber-100 text-amber-600";break;case"Coming Soon":u="bg-indigo-100 text-indigo-600";break;case"Suspended":u="bg-orange-100 text-orange-600";break;case"Expired":u="bg-gray-100 text-gray-500";break;case"Terminated":case"Deal Fell Through":u="bg-red-100 text-red-600";break;default:u="bg-gray-100 text-gray-500"}const h=i==="xs"?"text-xs":"text-sm";return t.jsx("span",{className:`${h} px-2 py-1 rounded-md font-medium ${u}`,children:r})};gt.__docgenInfo={description:"",methods:[],displayName:"StatusTag",props:{type:{required:!1,tsType:{name:"string"},description:""},lastStatus:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:'"xs" | "sm"',elements:[{name:"literal",value:'"xs"'},{name:"literal",value:'"sm"'}]},description:"",defaultValue:{value:'"sm"',computed:!1}}}};function We({listing:e,onClick:n}){var i,r;return t.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:n,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"bg-gray-100 rounded-md overflow-hidden flex-shrink-0 h-20 aspect-[4/3]",children:(i=e.images)!=null&&i[0]?t.jsx("img",{src:`https://cdn.repliers.io/${e.images[0]}?class=small`,alt:"Property",className:"object-cover w-full h-full"}):t.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"No Image"})}),t.jsxs("div",{className:"flex-grow min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("h4",{className:"font-semibold text-gray-800 truncate text-base",children:e.listPrice?Ft(e.listPrice):"Price N/A"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"|"}),t.jsx("span",{className:"text-gray-600 truncate text-sm",children:e.mlsNumber})]}),t.jsx("div",{className:"flex-shrink-0 ml-2",children:t.jsx(gt,{type:e.type,lastStatus:e.lastStatus,size:"sm"})})]}),t.jsx("p",{className:"text-gray-600 leading-relaxed text-sm mb-2",children:Yt(e.address)}),t.jsxs("div",{className:"flex items-center text-gray-500 space-x-3 flex-wrap text-sm",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(kt,{className:"w-4 h-4"}),Wt(e.details)]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Be,{className:"w-4 h-4"}),Ot(e.details)]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Nt,{className:"w-4 h-4"}),_t(e.details)]}),((r=e.details)==null?void 0:r.propertyType)&&t.jsxs("span",{className:"text-gray-400",children:["| ",e.details.propertyType]})]})]})]})})}We.__docgenInfo={description:"",methods:[],displayName:"ListingPreview",props:{listing:{required:!0,tsType:{name:"ListingResult"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};function ft({open:e,onClose:n,listing:i,position:r,mapContainer:u}){const h=c.useRef(null),[s,b]=c.useState({x:0,y:0}),[S,k]=c.useState("bottom"),[g,m]=c.useState(!1);if(c.useEffect(()=>{m(!1)},[e]),c.useEffect(()=>{if(!e||!h.current||!u)return;const w=h.current.getBoundingClientRect(),v=r.x,x=r.y,y=450,N=w.height||200,z=16,D=window.innerWidth,a=window.innerHeight;let o=v-y/2,d=x-N-16,C="bottom";o<z?o=z:o+y>D-z&&(o=D-y-z),d<z&&(d=x+32,C="top"),d+N>a-z&&(v>D/2?(o=v-y-16,d=x-N/2,C="right"):(o=v+16,d=x-N/2,C="left"),d<z&&(d=z),d+N>a-z&&(d=a-N-z)),b({x:o,y:d}),k(C),m(!0)},[e,r,u]),c.useEffect(()=>{const f=w=>{h.current&&!h.current.contains(w.target)&&n()};return e&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[e,n]),!e||!i)return null;const P=()=>{const f="absolute w-3 h-3 bg-white transform rotate-45 border";switch(S){case"bottom":return`${f} -bottom-1.5 left-1/2 -translate-x-1/2 border-r border-b border-gray-200`;case"top":return`${f} -top-1.5 left-1/2 -translate-x-1/2 border-l border-t border-gray-200`;case"left":return`${f} -left-1.5 top-1/2 -translate-y-1/2 border-l border-b border-gray-200`;case"right":return`${f} -right-1.5 top-1/2 -translate-y-1/2 border-r border-t border-gray-200`;default:return`${f} -bottom-1.5 left-1/2 -translate-x-1/2 border-r border-b border-gray-200`}};return t.jsx("div",{ref:h,className:"fixed w-[450px]",style:{zIndex:9999,left:`${s.x}px`,top:`${s.y}px`,visibility:g?"visible":"hidden",opacity:g?1:0,transition:"opacity 150ms ease-in-out"},children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden relative",children:[t.jsx("div",{className:P()}),t.jsx("button",{onClick:n,className:"absolute top-2 right-2 z-10 p-1 rounded-full bg-white hover:bg-gray-100 transition-colors shadow-sm border border-gray-200","aria-label":"Close",children:t.jsx(pt,{size:16,className:"text-gray-600"})}),t.jsx(We,{listing:i,onClick:()=>{}})]})})}ft.__docgenInfo={description:"",methods:[],displayName:"PropertyTooltip",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},listing:{required:!0,tsType:{name:"union",raw:"ListingResult | null",elements:[{name:"ListingResult"},{name:"null"}]},description:""},position:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},description:""},mapContainer:{required:!0,tsType:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]},description:""}}};function ht({open:e,onClose:n,properties:i,position:r,mapContainer:u}){const h=c.useRef(null),[s,b]=c.useState({x:0,y:0}),[S,k]=c.useState("bottom"),[g,m]=c.useState(!1);if(c.useEffect(()=>{if(!e){m(!1);return}},[e]),c.useEffect(()=>{if(!e||!u)return;const f=r.x,w=r.y,v=480,x=Math.min(i.length*120+80,400),y=16,N=window.innerWidth,z=window.innerHeight;let D=f-v/2,a=w-x-16,o="bottom";D<y?D=y:D+v>N-y&&(D=N-v-y),a<y&&(a=w+32,o="top"),a+x>z-y&&(f>N/2?(D=f-v-16,a=w-x/2,o="right"):(D=f+16,a=w-x/2,o="left"),a<y&&(a=y),a+x>z-y&&(a=z-x-y)),b({x:D,y:a}),k(o),m(!0)},[e,r,u,i.length]),c.useEffect(()=>{const f=w=>{h.current&&!h.current.contains(w.target)&&n()};return e&&document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[e,n]),!e||i.length===0)return null;const P=()=>{const f="absolute w-3 h-3 bg-white transform rotate-45 border";switch(S){case"bottom":return`${f} -bottom-1.5 left-1/2 -translate-x-1/2 border-r border-b border-gray-200`;case"top":return`${f} -top-1.5 left-1/2 -translate-x-1/2 border-l border-t border-gray-200`;case"left":return`${f} -left-1.5 top-1/2 -translate-y-1/2 border-l border-b border-gray-200`;case"right":return`${f} -right-1.5 top-1/2 -translate-y-1/2 border-r border-t border-gray-200`;default:return`${f} -bottom-1.5 left-1/2 -translate-x-1/2 border-r border-b border-gray-200`}};return t.jsx("div",{ref:h,className:"fixed w-[480px]",style:{zIndex:9999,left:`${s.x}px`,top:`${s.y}px`,visibility:g?"visible":"hidden",opacity:g?1:0,transition:"opacity 150ms ease-in-out"},children:t.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden relative",children:[t.jsx("div",{className:P()}),t.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50 relative",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:i.length===1?"1 Property":`${i.length} Properties`}),t.jsx("button",{onClick:n,className:"absolute top-2 right-2 p-1 rounded-full bg-white hover:bg-gray-100 transition-colors shadow-sm border border-gray-200","aria-label":"Close",children:t.jsx(pt,{size:16,className:"text-gray-600"})})]}),t.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:i.map((f,w)=>t.jsx("div",{className:"border-b border-gray-100 last:border-b-0",children:t.jsx(We,{listing:f,onClick:()=>{}})},`${f.mlsNumber}-${w}`))})]})})}ht.__docgenInfo={description:"",methods:[],displayName:"ClusterTooltip",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},properties:{required:!0,tsType:{name:"Array",elements:[{name:"ListingResult"}],raw:"ListingResult[]"},description:""},position:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},description:""},mapContainer:{required:!0,tsType:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]},description:""}}};const it="i'm looking for a 2 bedroom 2 bathroom condo to rent in rosedale",Ut=50;function yt({value:e,onChange:n,onFocus:i,onSearch:r,isSearching:u,placeholder:h}){const[s,b]=c.useState(""),[S,k]=c.useState(!0);c.useEffect(()=>{e.length>0&&k(!1)},[e]),c.useEffect(()=>{if(S)if(s.length<it.length){const m=setTimeout(()=>{b(it.slice(0,s.length+1))},Ut);return()=>clearTimeout(m)}else{const m=setTimeout(()=>{b("")},2e3);return()=>clearTimeout(m)}},[s,S]);const g=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),r())};return t.jsxs("div",{style:{position:"relative"},children:[t.jsx("textarea",{value:e,onChange:m=>n(m.target.value),onKeyDown:g,placeholder:s,rows:1,style:{width:"100%",height:"120px",padding:"20px 60px 20px 20px",fontSize:"16px",border:"2px solid #e5e7eb",borderRadius:"12px",background:"#f9fafb",outline:"none",transition:"all 200ms ease",resize:"none",fontFamily:"inherit",lineHeight:"1.5",verticalAlign:"top"},onFocus:m=>{m.currentTarget.style.borderColor="#6366f1",m.currentTarget.style.background="white",m.currentTarget.style.boxShadow="0 0 0 3px rgba(99, 102, 241, 0.1)",i()},onBlur:m=>{m.currentTarget.style.borderColor="#e5e7eb",m.currentTarget.style.background="#f9fafb",m.currentTarget.style.boxShadow="none"}}),t.jsx("button",{onClick:r,disabled:u||!e.trim(),style:{position:"absolute",right:"16px",bottom:"16px",width:"32px",height:"32px",background:u||!e.trim()?"#d1d5db":"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",border:"none",borderRadius:"6px",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.3)",cursor:u||!e.trim()?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 200ms ease",color:"white"},onMouseEnter:m=>{!u&&e.trim()&&(m.currentTarget.style.transform="scale(1.05)",m.currentTarget.style.boxShadow="0 4px 12px rgba(79, 70, 229, 0.4)")},onMouseLeave:m=>{m.currentTarget.style.transform="scale(1)",m.currentTarget.style.boxShadow="0 2px 8px rgba(79, 70, 229, 0.3)"},children:u?t.jsx(It,{size:14,className:"animate-spin"}):t.jsx(Et,{size:14})})]})}yt.__docgenInfo={description:"",methods:[],displayName:"SearchInput",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onFocus:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSearch:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isSearching:{required:!0,tsType:{name:"boolean"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""}}};function xt({prompt:e,url:n,summary:i,filters:r}){const h=(()=>{const s=[],S=new URL(n).searchParams;if(r.neighborhood&&s.push({label:"Neighborhood",value:r.neighborhood,icon:t.jsx(ot,{size:14})}),r.city&&s.push({label:"City",value:r.city,icon:t.jsx(ot,{size:14})}),r.propertyTypes&&r.propertyTypes.length>0?s.push({label:"Property Type",value:r.propertyTypes.join(", "),icon:t.jsx(ze,{size:14})}):S.get("class")&&s.push({label:"Property Type",value:S.get("class")||"",icon:t.jsx(ze,{size:14})}),r.bedrooms?s.push({label:"Bedrooms",value:r.bedrooms==="5+"?"5+":r.bedrooms,icon:t.jsx(at,{size:14})}):S.get("minBeds")&&s.push({label:"Bedrooms",value:`${S.get("minBeds")}+`,icon:t.jsx(at,{size:14})}),r.bathrooms?s.push({label:"Bathrooms",value:r.bathrooms,icon:t.jsx(Be,{size:14})}):S.get("minBaths")&&s.push({label:"Bathrooms",value:`${S.get("minBaths")}+`,icon:t.jsx(Be,{size:14})}),r.minPrice||r.maxPrice){const k=[];r.minPrice&&k.push(`$${r.minPrice.toLocaleString()}+`),r.maxPrice&&k.push(`up to $${r.maxPrice.toLocaleString()}`),s.push({label:"Price Range",value:k.join(" "),icon:t.jsx($t,{size:14})})}return r.listingType&&s.push({label:"Listing Type",value:r.listingType==="sale"?"For Sale":"For Rent",icon:t.jsx(ze,{size:14})}),s})();return t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[t.jsxs("div",{style:{background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"12px",padding:"12px 16px",border:"1px solid #d1d5db"},children:[t.jsx("div",{style:{fontSize:"10px",fontWeight:"700",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Your Search"}),t.jsxs("div",{style:{fontSize:"14px",color:"#1f2937",fontWeight:"500"},children:['"',e,'"']})]}),t.jsxs("div",{style:{background:"linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%)",borderRadius:"12px",padding:"12px 16px",border:"1px solid #c7d2fe"},children:[t.jsxs("div",{style:{fontSize:"10px",fontWeight:"700",color:"#6366f1",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx(Rt,{size:12}),"Understood As"]}),t.jsx("div",{style:{fontSize:"13px",color:"#4338ca",marginBottom:"12px",fontWeight:"500"},children:i}),h.length>0&&t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:h.map((s,b)=>t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",background:"white",borderRadius:"6px",fontSize:"11px",fontWeight:"600",color:"#4338ca",border:"1px solid #c7d2fe"},children:[s.icon,t.jsxs("span",{style:{color:"#6b7280"},children:[s.label,":"]}),t.jsx("span",{children:s.value})]},b))})]}),t.jsxs("div",{style:{fontSize:"11px",color:"#6b7280",display:"flex",alignItems:"center",gap:"4px",padding:"4px 0"},children:[t.jsx(Dt,{size:12}),"Use advanced filters below to refine your search further"]})]})}xt.__docgenInfo={description:"",methods:[],displayName:"SearchFeedback",props:{prompt:{required:!0,tsType:{name:"string"},description:""},url:{required:!0,tsType:{name:"string"},description:""},summary:{required:!0,tsType:{name:"string"},description:""},filters:{required:!0,tsType:{name:"any"},description:""}}};function Gt(e){const[n,i]=c.useState(!1),[r,u]=c.useState(null),[h,s]=c.useState(null);return{processSearch:async k=>{var g;if(!k.trim())return u("Please enter a search query"),null;i(!0),u(null);try{const m={prompt:k.trim(),...h&&{nlpId:h}};console.log("ðŸ” NLP Request:",m);const P=await fetch("https://api.repliers.io/nlp",{method:"POST",headers:{"REPLIERS-API-KEY":e,"Content-Type":"application/json"},body:JSON.stringify(m)});if(P.status===406)throw new Error(`That doesn't seem to be a property search. Try something like "2 bedroom condo in Toronto"`);if(P.status===401)throw new Error("Invalid API key. Please check your Repliers API key.");if(P.status===429)throw new Error("Too many requests. Please wait a moment and try again.");if(!P.ok)throw new Error(`Search failed: ${P.status} ${P.statusText}`);const f=await P.json();return console.log("âœ… FULL NLP RESPONSE:",JSON.stringify(f,null,2)),console.log("ðŸ“Š NLP Response Breakdown:",{nlpId:f.nlpId,url:f.request.url,summary:f.request.summary,body:f.request.body,imageSearchItems:(g=f.request.body)==null?void 0:g.imageSearchItems,locations:f.request.locations,fullResponse:f}),s(f.nlpId),f}catch(m){const P=m instanceof Error?m.message:"Search failed";return u(P),null}finally{i(!1)}},isProcessing:n,error:r,nlpId:h,resetNlpId:()=>{s(null)}}}function Kt(e){const i=new URL(e).searchParams,r={},u=i.get("propertyType");u&&(r.propertyTypes=u.split(",").map(y=>y.trim()));const h=i.get("minBeds");if(h){const y=parseInt(h);y===0?r.bedrooms="0":y===1?r.bedrooms="1":y===2?r.bedrooms="2":y===3?r.bedrooms="3":y===4?r.bedrooms="4":y>=5&&(r.bedrooms="5+")}const s=i.get("minBaths");if(s){const y=parseInt(s);y===1?r.bathrooms="1+":y===2?r.bathrooms="2+":y===3?r.bathrooms="3+":y===4?r.bathrooms="4+":y>=5&&(r.bathrooms="5+")}const b=i.get("minPrice");b&&(r.minPrice=parseInt(b));const S=i.get("maxPrice");S&&(r.maxPrice=parseInt(S));const k=i.get("minSqft");k&&(r.minSqft=parseInt(k));const g=i.get("maxSqft");g&&(r.maxSqft=parseInt(g));const m=i.get("minParkingSpaces");m&&(r.garageSpaces=`${m}+`);const P=i.get("type");P==="sale"||P==="Sale"?r.listingType="sale":(P==="lease"||P==="Lease")&&(r.listingType="lease");const f=i.get("status");f==="A"?r.activeListingDays="all":f==="U"?r.unavailableListingDays="all":f==="S"&&(r.soldListingDays="all");const w=i.get("city");w&&(r.city=w);const v=i.get("neighborhood");v&&(r.neighborhood=v);const x=i.get("map");if(x)try{const y=JSON.parse(x);Array.isArray(y)&&(r.map=y)}catch{}return r}function Xt(e){return e.request.summary||""}function Jt(e){const n=e.request.locations;if(!n||n.length===0)return console.log("No locations in NLP response"),null;const i=n[0],r=i.map;if(!r)return console.log("No map data in NLP location"),null;const u=[parseFloat(r.longitude),parseFloat(r.latitude)];let h;r.boundary&&Array.isArray(r.boundary)&&(h=r.boundary);const s=i.type==="neighborhood"?14:i.type==="city"?11:i.type==="area"?10:12;return console.log("ðŸ“ Extracted location from NLP response:",{name:i.name,type:i.type,center:u,zoom:s,hasBounds:!!h}),{center:u,bounds:h,zoom:s}}function bt({bedrooms:e,bathrooms:n,onBedroomsChange:i,onBathroomsChange:r}){const u=["all","0","1","2","3","4","5+"],h=["all","1+","2+","3+","4+","5+"];return t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Bedrooms"}),t.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:u.map(s=>t.jsx("button",{onClick:()=>i(s),style:{padding:"6px 12px",background:e===s?"#6366f1":"white",color:e===s?"white":"#374151",border:`1px solid ${e===s?"#6366f1":"#d1d5db"}`,borderRadius:"6px",fontSize:"13px",fontWeight:e===s?"600":"400",cursor:"pointer",transition:"all 200ms ease"},onMouseEnter:b=>{e!==s&&(b.currentTarget.style.background="#f9fafb")},onMouseLeave:b=>{e!==s&&(b.currentTarget.style.background="white")},children:s==="all"?"Any":s},s))})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Bathrooms"}),t.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:h.map(s=>t.jsx("button",{onClick:()=>r(s),style:{padding:"6px 12px",background:n===s?"#6366f1":"white",color:n===s?"white":"#374151",border:`1px solid ${n===s?"#6366f1":"#d1d5db"}`,borderRadius:"6px",fontSize:"13px",fontWeight:n===s?"600":"400",cursor:"pointer",transition:"all 200ms ease"},onMouseEnter:b=>{n!==s&&(b.currentTarget.style.background="#f9fafb")},onMouseLeave:b=>{n!==s&&(b.currentTarget.style.background="white")},children:s==="all"?"Any":s},s))})]})]})}bt.__docgenInfo={description:"",methods:[],displayName:"BedroomBathroomFilter",props:{bedrooms:{required:!0,tsType:{name:"string"},description:""},bathrooms:{required:!0,tsType:{name:"string"},description:""},onBedroomsChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onBathroomsChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}};function vt({filters:e,onFiltersChange:n,apiKey:i}){const[r,u]=c.useState([]),[h,s]=c.useState(!0),[b,S]=c.useState(!1);c.useEffect(()=>{(async()=>{var w,v;try{const x=new URL("https://api.repliers.io/listings");x.searchParams.set("aggregates","details.propertyType"),x.searchParams.set("listings","false"),x.searchParams.set("status","A");const y=await fetch(x.toString(),{headers:{"REPLIERS-API-KEY":i,"Content-Type":"application/json"}});if(!y.ok)throw new Error(`Failed to fetch property types: ${y.status}`);const z=((v=(w=(await y.json()).aggregates)==null?void 0:w.details)==null?void 0:v.propertyType)||{},D=Object.entries(z).sort(([,a],[,o])=>o-a).map(([a])=>a);u(D)}catch{}finally{s(!1)}})()},[i]);const k=f=>{const v=e.propertyTypes.includes(f)?e.propertyTypes.filter(x=>x!==f):[...e.propertyTypes,f];n({...e,propertyTypes:v})},g=()=>{const f=e.propertyTypes.length===r.length;n({...e,propertyTypes:f?[]:[...r]})};if(h)return t.jsx("div",{style:{position:"relative",marginBottom:"12px"},children:t.jsx("div",{style:{padding:"8px 12px",fontSize:"12px",color:"#6b7280",fontStyle:"italic"},children:"Loading property types..."})});const m=e.propertyTypes.length===0||e.propertyTypes.length===r.length,P=e.propertyTypes.length>0&&e.propertyTypes.length<r.length;return t.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[t.jsxs("button",{onClick:()=>S(!b),style:{width:"100%",padding:"8px 12px",backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left"},children:[t.jsx("span",{children:m?"All property types":P?`${e.propertyTypes.length} selected`:"Select property types"}),t.jsx(mt,{size:16,style:{transform:b?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),b&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #d1d5db",borderRadius:"6px",marginTop:"4px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1002,maxHeight:"300px",overflowY:"auto"},children:[t.jsxs("div",{onClick:g,style:{padding:"8px 12px",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",backgroundColor:m?"#f3f4f6":"white",borderBottom:"1px solid #f3f4f6"},onMouseEnter:f=>{m||(f.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:f=>{m||(f.currentTarget.style.backgroundColor="white")},children:[t.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #d1d5db",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:m?"#10b981":"white",borderColor:m?"#10b981":"#d1d5db"},children:m&&t.jsx("svg",{width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8.5 1L3.5 6L1.5 4",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),"All property types"]}),r.map(f=>{const w=e.propertyTypes.includes(f);return t.jsxs("div",{onClick:()=>k(f),style:{padding:"8px 12px",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",backgroundColor:w?"#f3f4f6":"white"},onMouseEnter:v=>{w||(v.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:v=>{w||(v.currentTarget.style.backgroundColor="white")},children:[t.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #d1d5db",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:w?"#10b981":"white",borderColor:w?"#10b981":"#d1d5db"},children:w&&t.jsx("svg",{width:"10",height:"8",viewBox:"0 0 10 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M8.5 1L3.5 6L1.5 4",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),f]},f)})]})]})}vt.__docgenInfo={description:"",methods:[],displayName:"PropertyTypeFilter",props:{filters:{required:!0,tsType:{name:"MapFilters"},description:""},onFiltersChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(filters: MapFilters) => void",signature:{arguments:[{type:{name:"MapFilters"},name:"filters"}],return:{name:"void"}}},description:""},apiKey:{required:!0,tsType:{name:"string"},description:""}}};function St({initialMin:e,initialMax:n,onApply:i,priceBreakpoints:r=[0,5e5,1e6,2e6,4e6,1/0]}){const[u,h]=c.useState(e),[s,b]=c.useState(n),[S,k]=c.useState(null),g=c.useRef(null),m=c.useRef(null);c.useEffect(()=>{h(e),b(n)},[e,n]);const P=c.useCallback((o,d)=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{i(o,d)},300)},[i]);c.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const f=c.useCallback(o=>{if(o===null||o===1/0)return"Max";if(o===0)return"$0";if(o>=1e6){const d=o/1e6;return d>=10?`$${Math.round(d)}M`:`$${Math.round(d*10)/10}M`}if(o>=1e3){const d=o/1e3;return`$${Math.round(d)}K`}return`$${Math.round(o)}`},[]),w=c.useCallback(o=>{if(o===null||o===1/0)return 100;const d=r[r.length-2];if(o>=d)return 100;if(o<=0)return 0;for(let C=0;C<r.length-1;C++){const B=r[C],R=r[C+1];if(o>=B&&o<=R){const $=100/(r.length-1),_=C*$,X=R===1/0?0:(o-B)/(R-B);return _+X*$}}return 0},[r]),v=c.useCallback(o=>{if(o>=100)return null;if(o<=0)return 0;const d=100/(r.length-1),C=Math.floor(o/d),B=o%d/d;if(C>=r.length-2)return null;const R=r[C],$=r[C+1];return $===1/0?null:Math.round(R+B*($-R))},[r]),x=c.useCallback(o=>d=>{d.preventDefault(),k(o)},[]),y=c.useCallback(o=>{if(!S||!g.current)return;const d=g.current.getBoundingClientRect(),C=Math.max(0,Math.min(100,(o.clientX-d.left)/d.width*100)),B=v(C);if(S==="min"){const R=s===null?1/0:s,$=B===null?R:Math.min(B,R),_=$===1/0?0:$;h(_),P(_,s)}else if(S==="max"){const R=B===null?null:Math.max(B,u);b(R),P(u,R)}},[S,u,s,v,P]),N=c.useCallback(()=>{k(null)},[]);c.useEffect(()=>{if(S)return document.addEventListener("mousemove",y),document.addEventListener("mouseup",N),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",N)}},[S,y,N]);const z=c.useCallback(o=>d=>{if(d.key==="ArrowLeft"||d.key==="ArrowRight"){d.preventDefault();const C=d.key==="ArrowLeft"?-1:1,R=w(o==="min"?u:s),$=Math.max(0,Math.min(100,R+C*2)),_=v($);if(o==="min"){const X=s===null?1/0:s,ae=_===null?X:Math.min(_,X),ue=ae===1/0?0:ae;h(ue),P(ue,s)}else{const X=_===null?null:Math.max(_||0,u);b(X),P(u,X)}}},[u,s,w,v,P]),D=w(u),a=w(s);return t.jsxs("div",{style:{marginTop:"6px",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[t.jsxs("div",{style:{textAlign:"center",fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"12px"},children:[f(u)," - ",f(s)]}),t.jsxs("div",{children:[t.jsxs("div",{ref:g,style:{position:"relative",height:"6px",backgroundColor:"#e5e7eb",borderRadius:"3px",marginBottom:"10px"},children:[t.jsx("div",{style:{position:"absolute",top:0,left:`${D}%`,width:`${a-D}%`,height:"100%",backgroundColor:"#3b82f6",borderRadius:"4px"}}),t.jsx("div",{style:{position:"absolute",left:`${D}%`,top:"50%",transform:"translate(-50%, -50%)",width:"16px",height:"16px",backgroundColor:"white",border:"2px solid #3b82f6",borderRadius:"50%",cursor:S==="min"?"grabbing":"grab",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseDown:x("min"),onKeyDown:z("min"),tabIndex:0,role:"slider","aria-label":"Minimum price","aria-valuemin":0,"aria-valuemax":s===null?r[r.length-2]:s,"aria-valuenow":u,"aria-valuetext":f(u)}),t.jsx("div",{style:{position:"absolute",left:`${a}%`,top:"50%",transform:"translate(-50%, -50%)",width:"16px",height:"16px",backgroundColor:"white",border:"2px solid #3b82f6",borderRadius:"50%",cursor:S==="max"?"grabbing":"grab",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseDown:x("max"),onKeyDown:z("max"),tabIndex:0,role:"slider","aria-label":"Maximum price","aria-valuemin":u,"aria-valuemax":r[r.length-2],"aria-valuenow":s===null?r[r.length-2]:s,"aria-valuetext":f(s)})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#6b7280"},children:[r.slice(0,-1).map((o,d)=>t.jsx("span",{children:f(o)},d)),t.jsx("span",{children:"Max"})]})]})]})}St.__docgenInfo={description:"",methods:[],displayName:"PriceRangeFilter",props:{initialMin:{required:!0,tsType:{name:"number"},description:""},initialMax:{required:!0,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},onApply:{required:!0,tsType:{name:"signature",type:"function",raw:"(min: number, max: number | null) => void",signature:{arguments:[{type:{name:"number"},name:"min"},{type:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},name:"max"}],return:{name:"void"}}},description:""},priceBreakpoints:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"",defaultValue:{value:"[0, 500000, 1000000, 2000000, 4000000, Infinity]",computed:!1}}}};function wt({initialMin:e,initialMax:n,onApply:i,sqftBreakpoints:r=[0,1e3,2e3,3e3,5e3,1/0]}){const[u,h]=c.useState(e),[s,b]=c.useState(n),[S,k]=c.useState(null),g=c.useRef(null),m=c.useRef(null);c.useEffect(()=>{h(e),b(n)},[e,n]);const P=c.useCallback((o,d)=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{i(o,d)},300)},[i]);c.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const f=c.useCallback(o=>{if(o===null||o===1/0)return"Max";if(o===0)return"0";if(o>=1e3){const d=o/1e3;return`${Math.round(d*10)/10}K`}return`${Math.round(o)}`},[]),w=c.useCallback(o=>{if(o===null||o===1/0)return 100;const d=r[r.length-2];if(o>=d)return 100;if(o<=0)return 0;for(let C=0;C<r.length-1;C++){const B=r[C],R=r[C+1];if(o>=B&&o<=R){const $=100/(r.length-1),_=C*$,X=R===1/0?0:(o-B)/(R-B);return _+X*$}}return 0},[r]),v=c.useCallback(o=>{if(o>=100)return null;if(o<=0)return 0;const d=100/(r.length-1),C=Math.floor(o/d),B=o%d/d;if(C>=r.length-2)return null;const R=r[C],$=r[C+1];return $===1/0?null:Math.round(R+B*($-R))},[r]),x=c.useCallback(o=>d=>{d.preventDefault(),k(o)},[]),y=c.useCallback(o=>{if(!S||!g.current)return;const d=g.current.getBoundingClientRect(),C=Math.max(0,Math.min(100,(o.clientX-d.left)/d.width*100)),B=v(C);if(S==="min"){const R=s===null?1/0:s,$=B===null?R:Math.min(B,R),_=$===1/0?0:$;h(_),P(_,s)}else if(S==="max"){const R=B===null?null:Math.max(B,u);b(R),P(u,R)}},[S,u,s,v,P]),N=c.useCallback(()=>{k(null)},[]);c.useEffect(()=>{if(S)return document.addEventListener("mousemove",y),document.addEventListener("mouseup",N),()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",N)}},[S,y,N]);const z=c.useCallback(o=>d=>{if(d.key==="ArrowLeft"||d.key==="ArrowRight"){d.preventDefault();const C=d.key==="ArrowLeft"?-1:1,R=w(o==="min"?u:s),$=Math.max(0,Math.min(100,R+C*2)),_=v($);if(o==="min"){const X=s===null?1/0:s,ae=_===null?X:Math.min(_,X),ue=ae===1/0?0:ae;h(ue),P(ue,s)}else{const X=_===null?null:Math.max(_||0,u);b(X),P(u,X)}}},[u,s,w,v,P]),D=w(u),a=w(s);return t.jsxs("div",{style:{marginTop:"6px",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[t.jsxs("div",{style:{textAlign:"center",fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"12px"},children:[f(u)," - ",f(s)," sq ft"]}),t.jsxs("div",{children:[t.jsxs("div",{ref:g,style:{position:"relative",height:"6px",backgroundColor:"#e5e7eb",borderRadius:"3px",marginBottom:"10px"},children:[t.jsx("div",{style:{position:"absolute",top:0,left:`${D}%`,width:`${a-D}%`,height:"100%",backgroundColor:"#3b82f6",borderRadius:"3px"}}),t.jsx("div",{style:{position:"absolute",left:`${D}%`,top:"50%",transform:"translate(-50%, -50%)",width:"16px",height:"16px",backgroundColor:"white",border:"2px solid #3b82f6",borderRadius:"50%",cursor:S==="min"?"grabbing":"grab",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseDown:x("min"),onKeyDown:z("min"),tabIndex:0,role:"slider","aria-label":"Minimum square footage","aria-valuemin":0,"aria-valuemax":s===null?r[r.length-2]:s,"aria-valuenow":u,"aria-valuetext":f(u)}),t.jsx("div",{style:{position:"absolute",left:`${a}%`,top:"50%",transform:"translate(-50%, -50%)",width:"16px",height:"16px",backgroundColor:"white",border:"2px solid #3b82f6",borderRadius:"50%",cursor:S==="max"?"grabbing":"grab",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseDown:x("max"),onKeyDown:z("max"),tabIndex:0,role:"slider","aria-label":"Maximum square footage","aria-valuemin":u,"aria-valuemax":r[r.length-2],"aria-valuenow":s===null?r[r.length-2]:s,"aria-valuetext":f(s)})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#6b7280"},children:[r.slice(0,-1).map((o,d)=>t.jsx("span",{children:f(o)},d)),t.jsx("span",{children:"Max"})]})]})]})}wt.__docgenInfo={description:"",methods:[],displayName:"SquareFootageFilter",props:{initialMin:{required:!0,tsType:{name:"number"},description:""},initialMax:{required:!0,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},onApply:{required:!0,tsType:{name:"signature",type:"function",raw:"(min: number, max: number | null) => void",signature:{arguments:[{type:{name:"number"},name:"min"},{type:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},name:"max"}],return:{name:"void"}}},description:""},sqftBreakpoints:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:"",defaultValue:{value:"[0, 1000, 2000, 3000, 5000, Infinity]",computed:!1}}}};const Vt=["2 bedroom 2 bath condo in rosedale","3+ bed house in north york close to the highway","waterfront properties for rent in downtown toronto"];function Pt({filters:e,onFiltersChange:n,onSearch:i,apiKey:r,onMapUpdate:u}){const[h,s]=c.useState(!1),[b,S]=c.useState(!1),[k,g]=c.useState(""),[m,P]=c.useState(null),f=c.useRef(null),{processSearch:w,isProcessing:v,error:x,resetNlpId:y}=Gt(r),N=a=>{g(a),a!==k&&(y(),m&&a!==m.summary&&P(null))};c.useEffect(()=>{const a=o=>{f.current&&!f.current.contains(o.target)&&s(!1)};return h&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[h]),c.useEffect(()=>{const a=o=>{o.key==="Escape"&&h&&s(!1)};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[h]);const z=()=>{s(!0)},D=async a=>{const o=a||k;if(!o.trim())return;a&&g(a);const d=await w(o);if(d){const C=Kt(d.request.url),B={...e,...C};if(n(B),u)if(C.map){const $=C.map[0];if($&&$.length>0){const _=$.map(xe=>xe[0]),X=$.map(xe=>xe[1]),ae=Math.min(..._),ue=Math.max(..._),we=Math.min(...X),ye=Math.max(...X),de=(ae+ue)/2,T=(we+ye)/2;u({center:[de,T],bounds:C.map,zoom:12})}}else{const $=Jt(d);$&&u({center:$.center,bounds:$.bounds,zoom:$.zoom})}const R=Xt(d);R&&g(R),P({prompt:o,url:d.request.url,summary:R,filters:C}),await(i==null?void 0:i(k))}};return t.jsxs("div",{ref:f,style:{position:"absolute",top:"16px",left:"16px",width:"600px",maxWidth:"calc(100vw - 32px)",background:"white",borderRadius:"16px",padding:"0",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.08)",zIndex:1e3,transition:"all 300ms ease-out",maxHeight:h?"calc(100vh - 32px)":"auto",overflow:h?"hidden":"visible"},children:[t.jsx(yt,{value:k,onChange:N,onFocus:z,onSearch:D,isSearching:v,placeholder:"Search properties..."}),x&&t.jsx("div",{style:{margin:"12px 16px",padding:"12px 16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"14px"},children:x}),t.jsxs("div",{style:{maxHeight:h?"calc(100vh - 160px)":"0",opacity:h?1:0,overflow:h?"auto":"hidden",transition:"max-height 300ms ease-out, opacity 300ms ease-out",marginTop:h?"20px":"0",padding:h?"0 16px 16px 16px":"0"},children:[!b&&!m&&t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",marginBottom:"12px",textTransform:"uppercase",letterSpacing:"1px",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx(Bt,{size:14}),"Try These Searches"]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Vt.map((a,o)=>t.jsx("button",{onClick:()=>D(a),disabled:v,style:{padding:"12px 16px",background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",border:"1px solid #e5e7eb",borderRadius:"12px",fontSize:"14px",color:"#374151",textAlign:"left",cursor:v?"not-allowed":"pointer",transition:"all 200ms ease",fontWeight:"500"},onMouseEnter:d=>{v||(d.currentTarget.style.background="linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%)",d.currentTarget.style.borderColor="#c7d2fe",d.currentTarget.style.transform="translateX(4px)")},onMouseLeave:d=>{d.currentTarget.style.background="linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",d.currentTarget.style.borderColor="#e5e7eb",d.currentTarget.style.transform="translateX(0)"},children:a},o))}),t.jsx("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, #e5e7eb 50%, transparent)",margin:"16px 0"}})]}),!b&&m&&t.jsxs("div",{children:[t.jsx(xt,{prompt:m.prompt,url:m.url,summary:m.summary,filters:m.filters}),t.jsx("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, #e5e7eb 50%, transparent)",margin:"16px 0"}})]}),t.jsxs("button",{onClick:()=>S(!b),style:{width:"100%",padding:"12px 16px",background:"transparent",border:"1px solid #e5e7eb",borderRadius:"10px",fontSize:"14px",fontWeight:"600",color:"#6366f1",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 200ms ease"},onMouseEnter:a=>{a.currentTarget.style.background="#f9fafb",a.currentTarget.style.borderColor="#6366f1"},onMouseLeave:a=>{a.currentTarget.style.background="transparent",a.currentTarget.style.borderColor="#e5e7eb"},children:[t.jsxs("span",{children:[b?"Hide":"Show"," Advanced Filters"]}),t.jsx(mt,{size:18,style:{transform:b?"rotate(180deg)":"rotate(0deg)",transition:"transform 200ms ease"}})]}),b&&t.jsxs("div",{style:{marginTop:"12px"},children:[t.jsx("div",{style:{marginBottom:"12px"},children:t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[t.jsx("button",{onClick:()=>n({...e,listingType:"sale"}),style:{flex:1,padding:"6px 12px",backgroundColor:(e.listingType||"sale")==="sale"?"#6366f1":"white",color:(e.listingType||"sale")==="sale"?"white":"#374151",border:`1px solid ${(e.listingType||"sale")==="sale"?"#6366f1":"#d1d5db"}`,borderRadius:"6px",fontSize:"13px",fontWeight:(e.listingType||"sale")==="sale"?"600":"400",cursor:"pointer",transition:"all 200ms ease"},onMouseEnter:a=>{(e.listingType||"sale")!=="sale"&&(a.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:a=>{(e.listingType||"sale")!=="sale"&&(a.currentTarget.style.backgroundColor="white")},children:"For Sale"}),t.jsx("button",{onClick:()=>n({...e,listingType:"lease"}),style:{flex:1,padding:"6px 12px",backgroundColor:e.listingType==="lease"?"#6366f1":"white",color:e.listingType==="lease"?"white":"#374151",border:`1px solid ${e.listingType==="lease"?"#6366f1":"#d1d5db"}`,borderRadius:"6px",fontSize:"13px",fontWeight:e.listingType==="lease"?"600":"400",cursor:"pointer",transition:"all 200ms ease"},onMouseEnter:a=>{e.listingType!=="lease"&&(a.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:a=>{e.listingType!=="lease"&&(a.currentTarget.style.backgroundColor="white")},children:"For Lease"})]})}),t.jsx("div",{style:{marginBottom:"12px"},children:t.jsx(vt,{filters:e,onFiltersChange:n,apiKey:r})}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Price Range"}),t.jsx(St,{initialMin:e.minPrice||0,initialMax:e.maxPrice||null,onApply:(a,o)=>{n({...e,minPrice:a||void 0,maxPrice:o||void 0})}})]}),t.jsx("div",{style:{marginBottom:"12px"},children:t.jsx(bt,{bedrooms:e.bedrooms||"all",bathrooms:e.bathrooms||"all",onBedroomsChange:a=>n({...e,bedrooms:a}),onBathroomsChange:a=>n({...e,bathrooms:a})})}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Garage / Parking"}),t.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:["all","1+","2+","3+","4+","5+"].map(a=>t.jsx("button",{onClick:()=>n({...e,garageSpaces:a}),style:{padding:"6px 12px",backgroundColor:e.garageSpaces===a?"#6366f1":"white",color:e.garageSpaces===a?"white":"#374151",border:`1px solid ${e.garageSpaces===a?"#6366f1":"#d1d5db"}`,borderRadius:"6px",fontSize:"13px",fontWeight:e.garageSpaces===a?"600":"400",cursor:"pointer",transition:"all 200ms ease"},onMouseEnter:o=>{e.garageSpaces!==a&&(o.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:o=>{e.garageSpaces!==a&&(o.currentTarget.style.backgroundColor="white")},children:a==="all"?"All":a},a))})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Square Footage"}),t.jsx(wt,{initialMin:e.minSqft||0,initialMax:e.maxSqft||null,onApply:(a,o)=>{n({...e,minSqft:a||void 0,maxSqft:o||void 0})}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Open House"}),t.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[{value:"all",label:"All"},{value:"today",label:"Today"},{value:"thisWeekend",label:"This Weekend"},{value:"thisWeek",label:"This Week"},{value:"anytime",label:"Anytime"}].map(({value:a,label:o})=>t.jsx("button",{onClick:()=>n({...e,openHouse:a}),style:{padding:"6px 12px",backgroundColor:e.openHouse===a?"#6366f1":"white",color:e.openHouse===a?"white":"#374151",border:`1px solid ${e.openHouse===a?"#6366f1":"#d1d5db"}`,borderRadius:"6px",fontSize:"13px",fontWeight:e.openHouse===a?"600":"400",cursor:"pointer",transition:"all 200ms ease"},onMouseEnter:d=>{e.openHouse!==a&&(d.currentTarget.style.backgroundColor="#f9fafb")},onMouseLeave:d=>{e.openHouse!==a&&(d.currentTarget.style.backgroundColor="white")},children:o},a))})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Max Maintenance Fee"}),t.jsx("input",{type:"number",placeholder:"Enter max fee",value:e.maxMaintenanceFee||"",onChange:a=>n({...e,maxMaintenanceFee:a.target.value?parseInt(a.target.value):void 0}),style:{width:"100%",padding:"8px 10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px",outline:"none"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Active Listings"}),t.jsxs("select",{value:e.activeListingDays||"all",onChange:a=>n({...e,activeListingDays:a.target.value==="off"?void 0:a.target.value}),style:{width:"100%",padding:"8px 10px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px",color:"#374151",cursor:"pointer"},children:[t.jsx("option",{value:"off",children:"Off"}),t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"1",children:"Last 24 hours"}),t.jsx("option",{value:"3",children:"Last 3 days"}),t.jsx("option",{value:"7",children:"Last 7 days"}),t.jsx("option",{value:"30",children:"Last 30 days"}),t.jsx("option",{value:"90",children:"Last 90 days"}),t.jsx("option",{value:"15+",children:"More than 15 days"}),t.jsx("option",{value:"30+",children:"More than 30 days"}),t.jsx("option",{value:"60+",children:"More than 60 days"}),t.jsx("option",{value:"90+",children:"More than 90 days"})]})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Sold Listings"}),t.jsxs("select",{value:e.soldListingDays||"off",onChange:a=>n({...e,soldListingDays:a.target.value==="off"?void 0:a.target.value}),style:{width:"100%",padding:"8px 10px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px",color:"#374151",cursor:"pointer"},children:[t.jsx("option",{value:"off",children:"Off"}),t.jsx("option",{value:"1",children:"Last 24 hours"}),t.jsx("option",{value:"3",children:"Last 3 days"}),t.jsx("option",{value:"7",children:"Last 7 days"}),t.jsx("option",{value:"30",children:"Last 30 days"}),t.jsx("option",{value:"90",children:"Last 90 days"}),t.jsx("option",{value:"180",children:"Last 180 days"}),t.jsx("option",{value:"360",children:"Last 360 days"}),t.jsx("option",{value:"2025",children:"Year 2025"}),t.jsx("option",{value:"2024",children:"Year 2024"}),t.jsx("option",{value:"2023",children:"Year 2023"}),t.jsx("option",{value:"2022",children:"Year 2022"}),t.jsx("option",{value:"2021",children:"Year 2021"}),t.jsx("option",{value:"2020",children:"Year 2020"})]})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6b7280",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"De-listed Listings"}),t.jsxs("select",{value:e.unavailableListingDays||"off",onChange:a=>n({...e,unavailableListingDays:a.target.value==="off"?void 0:a.target.value}),style:{width:"100%",padding:"8px 10px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px",color:"#374151",cursor:"pointer"},children:[t.jsx("option",{value:"off",children:"Off"}),t.jsx("option",{value:"1",children:"Last 24 hours"}),t.jsx("option",{value:"3",children:"Last 3 days"}),t.jsx("option",{value:"7",children:"Last 7 days"}),t.jsx("option",{value:"30",children:"Last 30 days"}),t.jsx("option",{value:"90",children:"Last 90 days"}),t.jsx("option",{value:"180",children:"Last 180 days"}),t.jsx("option",{value:"360",children:"Last 360 days"}),t.jsx("option",{value:"2025",children:"Year 2025"}),t.jsx("option",{value:"2024",children:"Year 2024"}),t.jsx("option",{value:"2023",children:"Year 2023"}),t.jsx("option",{value:"2022",children:"Year 2022"}),t.jsx("option",{value:"2021",children:"Year 2021"}),t.jsx("option",{value:"2020",children:"Year 2020"})]})]})]})]})]})}Pt.__docgenInfo={description:"",methods:[],displayName:"SearchPanel",props:{filters:{required:!0,tsType:{name:"MapFilters"},description:""},onFiltersChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(filters: MapFilters) => void",signature:{arguments:[{type:{name:"MapFilters"},name:"filters"}],return:{name:"void"}}},description:""},apiKey:{required:!0,tsType:{name:"string"},description:""},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"(query: string) => void",signature:{arguments:[{type:{name:"string"},name:"query"}],return:{name:"void"}}},description:""},onMapUpdate:{required:!1,tsType:{name:"signature",type:"function",raw:"(update: { center?: [number, number]; bounds?: number[][][]; zoom?: number }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ center?: [number, number]; bounds?: number[][][]; zoom?: number }",signature:{properties:[{key:"center",value:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}],required:!1}},{key:"bounds",value:{name:"Array",elements:[{name:"Array",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"}],raw:"number[][]"}],raw:"number[][][]",required:!1}},{key:"zoom",value:{name:"number",required:!1}}]}},name:"update"}],return:{name:"void"}}},description:""}}};const Qt=(e,n)=>{const i=(r,u)=>r>=100?`${Math.round(r)}${u}`:r>=10?`${Math.round(r*10)/10}${u}`:`${Math.round(r*100)/100}${u}`;if(n==="Lease"){if(e>=1e3){const r=e/1e3;return i(r,"K")}return Math.round(e).toString()}else{if(e>=999500){const r=e/1e6;return i(r,"M")}else if(e>=1e3){const r=e/1e3;return i(r,"K")}return Math.round(e).toString()}},Zt=(e,n,i)=>e==="U"&&(n==="Sld"||n==="Sc")?"#8b7fa8":e==="U"?"#f59e0b":i==="Lease"?"#a855f7":"#22c55e",er=(e,n,i,r)=>{const u=Qt(e,n),h=Zt(i,r,n),s=document.createElement("div");return s.style.cssText=`
    background-color: ${h};
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    white-space: nowrap;
    pointer-events: auto;
    cursor: pointer;
  `,s.textContent=u,s},Oe=e=>{var n,i,r,u,h,s,b,S;return(n=e.coordinates)!=null&&n.lat&&((i=e.coordinates)!=null&&i.lng)?{lat:e.coordinates.lat,lng:e.coordinates.lng}:e.latitude&&e.longitude?{lat:e.latitude,lng:e.longitude}:(r=e.map)!=null&&r.latitude&&((u=e.map)!=null&&u.longitude)?{lat:e.map.latitude,lng:e.map.longitude}:(h=e.location)!=null&&h.latitude&&((s=e.location)!=null&&s.longitude)?{lat:e.location.latitude,lng:e.location.longitude}:(b=e.center)!=null&&b.lat&&((S=e.center)!=null&&S.lng)?{lat:e.center.lat,lng:e.center.lng}:null},_e=e=>{if(e.length===0)return null;let n=e[0].lat,i=e[0].lat,r=e[0].lng,u=e[0].lng;return e.forEach(h=>{n=Math.max(n,h.lat),i=Math.min(i,h.lat),r=Math.max(r,h.lng),u=Math.min(u,h.lng)}),{north:n,south:i,east:r,west:u}},He=(e,n)=>{const{north:i,south:r,east:u,west:h}=n,s=20,b=(i-r)/s,S=(u-h)/s,k=Array(s).fill(0).map(()=>Array(s).fill(0));e.forEach(w=>{const v=Math.floor((w.lat-r)/b),x=Math.floor((w.lng-h)/S),y=Math.max(0,Math.min(s-1,v)),N=Math.max(0,Math.min(s-1,x));k[y][N]++});let g=0,m=0,P=0;for(let w=0;w<s;w++)for(let v=0;v<s;v++)k[w][v]>g&&(g=k[w][v],m=r+(w+.5)*b,P=h+(v+.5)*S);return g>0?[P,m]:[(u+h)/2,(i+r)/2]},tr=e=>{try{const n=localStorage.getItem(`mapListings-autoCenter-${e}`);if(n){const i=JSON.parse(n);if(Date.now()-i.timestamp<1440*60*1e3)return{center:i.center}}}catch{}return null},Ie=(e,n)=>{try{const i={...n,timestamp:Date.now()};localStorage.setItem(`mapListings-autoCenter-${e}`,JSON.stringify(i))}catch{}},rr=async(e,n="average")=>{var i,r,u,h,s,b,S,k;try{const m=await fetch("https://api.repliers.io/listings",{method:"POST",headers:{"REPLIERS-API-KEY":e,"Content-Type":"application/json"},body:JSON.stringify({queries:[{cluster:!0,clusterPrecision:8,clusterLimit:50,status:"A"},{cluster:!1,listings:!0,pageSize:500,status:"A"}]})});if(m.status===400)return lt(e,n);if(!m.ok)throw new Error(`Bundled auto-center API Error: ${m.status} ${m.statusText}`);const P=await m.json(),f=P[0]||{},w=P[1]||{},v=((r=(i=f.aggregates)==null?void 0:i.map)==null?void 0:r.clusters)||f.clusters||[],x=w.listings||w.results||[];if(n==="city"&&v.length>0){let a=null,o=0;if(v.forEach(d=>{const C=d.count||0;C>o&&(o=C,a=d)}),a){const d=[((u=a.location)==null?void 0:u.longitude)||((h=a.coordinates)==null?void 0:h.lng)||a.longitude||((s=a.center)==null?void 0:s.lng),((b=a.location)==null?void 0:b.latitude)||((S=a.coordinates)==null?void 0:S.lat)||a.latitude||((k=a.center)==null?void 0:k.lat)];if(d[0]&&d[1]){const B={center:[d[0],d[1]]};return Ie(`${e}-${n}`,B),B}}}if(x.length===0)return null;const y=[];if(x.forEach(a=>{const o=Oe(a);o&&y.push(o)}),y.length===0)return null;const N=_e(y);if(!N)return null;const D={center:He(y,N)};return Ie(`${e}-${n}`,D),D}catch{return lt(e,n)}},lt=async(e,n="average")=>{var i,r,u,h,s,b,S,k;try{let g=[],m=[];if(n==="city")try{const x=new URL("https://api.repliers.io/listings");x.searchParams.set("cluster","true"),x.searchParams.set("clusterPrecision","8"),x.searchParams.set("clusterLimit","50"),x.searchParams.set("status","A");const y=await fetch(x.toString(),{headers:{"REPLIERS-API-KEY":e,"Content-Type":"application/json"}});if(y.ok){const N=await y.json();g=((r=(i=N.aggregates)==null?void 0:i.map)==null?void 0:r.clusters)||N.clusters||[]}}catch{}try{const x=new URL("https://api.repliers.io/listings");x.searchParams.set("pageSize","500"),x.searchParams.set("status","A");const y=await fetch(x.toString(),{headers:{"REPLIERS-API-KEY":e,"Content-Type":"application/json"}});if(y.ok){const N=await y.json();m=N.listings||N.results||[]}}catch{}if(n==="city"&&g.length>0){let x=null,y=0;if(g.forEach(N=>{const z=N.count||0;z>y&&(y=z,x=N)}),x){const N=[((u=x.location)==null?void 0:u.longitude)||((h=x.coordinates)==null?void 0:h.lng)||x.longitude||((s=x.center)==null?void 0:s.lng),((b=x.location)==null?void 0:b.latitude)||((S=x.coordinates)==null?void 0:S.lat)||x.latitude||((k=x.center)==null?void 0:k.lat)];if(N[0]&&N[1]){const D={center:[N[0],N[1]]};return Ie(`${e}-${n}`,D),D}}}if(m.length===0)return null;const P=[];if(m.forEach(x=>{const y=Oe(x);y&&P.push(y)}),P.length===0)return null;const f=_e(P);if(!f)return null;const v={center:He(P,f)};return Ie(`${e}-${n}`,v),v}catch{return null}};function Tt({apiKey:e,mapboxToken:n,initialCenter:i,initialZoom:r,height:u="100%",width:h="100%",mapStyle:s="mapbox://styles/mapbox/streets-v12",centerCalculation:b="average",showPropertyCount:S=!0}){const k=c.useRef(null),g=c.useRef(null),[m,P]=c.useState(null),[f,w]=c.useState(0),[v,x]=c.useState(i||null),[y,N]=c.useState(r||null),z=c.useRef(null),D=c.useRef(null),[a,o]=c.useState(!1),[d,C]=c.useState(null),[B,R]=c.useState({x:0,y:0}),[$,_]=c.useState(!1),[X,ae]=c.useState([]),[ue,we]=c.useState({x:0,y:0}),ye=c.useRef([]),de=c.useRef(null),[T,xe]=c.useState({listingType:"sale",propertyTypes:[],bedrooms:"all",bathrooms:"all",garageSpaces:"all",openHouse:"all"}),jt=c.useCallback(M=>{xe(M)},[]),Ct=c.useCallback(M=>{g.current&&M.center&&g.current.easeTo({center:M.center,zoom:M.zoom||g.current.getZoom(),duration:1e3})},[]),Pe=c.useCallback(()=>{ye.current.forEach(M=>M.remove()),ye.current=[]},[]),Ee=c.useCallback(M=>{g.current&&(Pe(),M.forEach(p=>{if("isProperty"in p.properties&&p.properties.isProperty&&p.properties.listPrice){const{listPrice:F,status:j,lastStatus:E}=p.properties,q=p.properties.type||"Sale",[A,U]=p.geometry.coordinates;if(isNaN(A)||isNaN(U)||A===null||U===null)return;const L=typeof F=="string"?parseFloat(F):F;if(isNaN(L))return;const G=er(L,q,j,E),J=new ke.Marker({element:G,anchor:"bottom",offset:[0,-5]}).setLngLat([A,U]).addTo(g.current);G.addEventListener("click",async ie=>{var fe;const Q=ie.clientX,K=ie.clientY;if(R({x:Q,y:K}),p.properties.address&&p.properties.images){const le={mlsNumber:p.properties.mlsNumber||"N/A",listPrice:L,address:p.properties.address,details:p.properties.details,images:p.properties.images,type:p.properties.type,lastStatus:p.properties.lastStatus,status:p.properties.status};C(le),o(!0);return}try{const le=await fetch(`https://api.repliers.io/listings?mlsNumber=${p.properties.mlsNumber}&fields=address.*,details.*,images,type,lastStatus,status,class`,{headers:{"REPLIERS-API-KEY":e,"Content-Type":"application/json"}});if(!le.ok)throw new Error(`Failed to fetch property details: ${le.status}`);const ce=(fe=(await le.json()).listings)==null?void 0:fe[0];if(ce){const pe={mlsNumber:p.properties.mlsNumber||"N/A",listPrice:L,address:ce.address,details:ce.details,images:ce.images,type:ce.type||p.properties.type,lastStatus:ce.lastStatus,status:ce.status};C(pe),o(!0)}else{const pe={mlsNumber:p.properties.mlsNumber||"N/A",listPrice:L,address:p.properties.address,details:p.properties.details,images:p.properties.images,type:p.properties.type,lastStatus:p.properties.lastStatus,status:p.properties.status};C(pe),o(!0)}}catch{const be={mlsNumber:p.properties.mlsNumber||"N/A",listPrice:L,address:p.properties.address,details:p.properties.details,images:p.properties.images,type:p.properties.type,lastStatus:p.properties.lastStatus,status:p.properties.status};C(be),o(!0)}}),ye.current.push(J)}}))},[Pe,e]);c.useEffect(()=>{(async()=>{if(v&&y)return;const p=tr(`${e}-${b}`);if(p){x(p.center),N(r||10);return}const F=await rr(e,b);F?(x(F.center),N(r||10)):(x([-98.5795,39.8283]),N(r||10))})()},[e,v,y,b,r]);const Ye=c.useCallback(M=>M<=6?5:M<=8?8:M<=10?12:M<=12?16:M<=14?20:M<=17?25:29,[]),Te=c.useCallback(M=>{const p=M.getSouthWest(),F=M.getNorthEast();return[[[p.lng,p.lat],[F.lng,p.lat],[F.lng,F.lat],[p.lng,F.lat],[p.lng,p.lat]]]},[]),De=c.useCallback((M,p,F)=>{const j={};if(M==="active"){if(j.status="A",p!=="all"){const E=new Date;if(p.endsWith("+")){const q=parseInt(p.replace("+","")),A=new Date(E);A.setDate(A.getDate()-q),j.maxListDate=A.toISOString().split("T")[0]}else{const q=parseInt(p),A=new Date(E);A.setDate(A.getDate()-q),j.minListDate=A.toISOString().split("T")[0]}}}else if(M==="sold"){j.status="U",j.lastStatus="Sld";const E=parseInt(p);if(E>=2007&&E<=2025)j.minSoldDate=`${p}-01-01`,j.maxSoldDate=`${p}-12-31`;else{const q=new Date,A=new Date(q);A.setDate(A.getDate()-E),j.minSoldDate=A.toISOString().split("T")[0],j.maxSoldDate=q.toISOString().split("T")[0]}}else if(M==="unavailable"){j.status="U";const E=parseInt(p);if(E>=2007&&E<=2025)j.minUnavailableDate=`${p}-01-01`,j.maxUnavailableDate=`${p}-12-31`;else{const q=new Date,A=new Date(q);A.setDate(A.getDate()-E),j.minUnavailableDate=A.toISOString().split("T")[0],j.maxUnavailableDate=q.toISOString().split("T")[0]}}if(T.listingType==="sale"?j.type="Sale":T.listingType==="lease"&&(j.type="Lease"),T.propertyTypes.length===1&&(j["details.propertyType"]=T.propertyTypes[0]),T.minPrice&&T.minPrice>0&&(j.minPrice=T.minPrice),T.maxPrice&&T.maxPrice>0&&(j.maxPrice=T.maxPrice),T.bedrooms&&T.bedrooms!=="all"&&(T.bedrooms==="5+"?j.minBedrooms=5:(j.minBedrooms=parseInt(T.bedrooms),j.maxBedrooms=parseInt(T.bedrooms))),T.bathrooms&&T.bathrooms!=="all"&&(j.minBaths=parseInt(T.bathrooms.replace("+",""))),T.garageSpaces&&T.garageSpaces!=="all"&&(j.minGarageSpaces=parseInt(T.garageSpaces.replace("+",""))),T.minSqft&&T.minSqft>0&&(j.minSqft=T.minSqft),T.maxSqft&&T.maxSqft>0&&(j.maxSqft=T.maxSqft),T.openHouse&&T.openHouse!=="all"){const E=new Date;E.setHours(0,0,0,0);let q=null,A=null;if(T.openHouse==="today")q=E,A=E;else if(T.openHouse==="thisWeekend"){const U=E.getDay(),L=U===0?6:6-U,G=new Date(E);G.setDate(E.getDate()+L);const J=new Date(G);J.setDate(G.getDate()+1),q=G,A=J}else if(T.openHouse==="thisWeek"){q=E;const U=new Date(E);U.setDate(E.getDate()+(7-E.getDay())),A=U}else T.openHouse==="anytime"&&(q=E);q&&(j.minOpenHouseDate=q.toISOString().split("T")[0],A&&(j.maxOpenHouseDate=A.toISOString().split("T")[0]))}return j},[T]),Ae=c.useCallback((M,p)=>{const[F,j]=M,[E,q]=p,A=6371e3,U=(q-j)*Math.PI/180,L=(E-F)*Math.PI/180,G=Math.sin(U/2)*Math.sin(U/2)+Math.cos(j*Math.PI/180)*Math.cos(q*Math.PI/180)*Math.sin(L/2)*Math.sin(L/2),J=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return A*J},[]),je=c.useCallback((M,p)=>{const F=[],j=new Set;return M.forEach((E,q)=>{if(j.has(q))return;const A=[E];j.add(q);const U=E.geometry.coordinates;M.forEach((L,G)=>{if(j.has(G)||q===G)return;const J=L.geometry.coordinates;Ae(U,J)<=p&&(A.push(L),j.add(G))}),F.push(A)}),F},[Ae]),Ue=c.useCallback((M,p)=>{const F=p<=10?30:p<=12?60:p<=13?100:30,j=p<=10?500:p<=12?300:p<=13?200:100,E=M.filter(L=>L.properties.count<=F),q=M.filter(L=>L.properties.count>F);if(E.length===0)return M;const U=je(E,j).map(L=>{if(L.length===1)return L[0];const G=L.reduce((Q,K)=>Q+K.properties.count,0),J=L.reduce((Q,K)=>Q+K.geometry.coordinates[0],0)/L.length,ie=L.reduce((Q,K)=>Q+K.geometry.coordinates[1],0)/L.length;return{type:"Feature",properties:{count:G,precision:L[0].properties.precision,id:`merged-${L.map(Q=>Q.properties.id).join("-")}`,members:[]},geometry:{type:"Point",coordinates:[J,ie]}}});return[...q,...U]},[je]),Ce=c.useCallback(async M=>{var A,U;if(!g.current)return;const p=g.current.getZoom(),F=Ye(p),j=JSON.stringify(Te(M)),E=Math.round(p*2)/2,q=JSON.stringify(T);if(!(D.current&&D.current.bounds===j&&Math.abs(D.current.zoom-E)<.5&&D.current.filters===q)){D.current={bounds:j,zoom:E,filters:q},z.current=p,P(null);try{const L=[];T.activeListingDays!==void 0&&L.push({type:"active",value:T.activeListingDays}),T.soldListingDays!==void 0&&L.push({type:"sold",value:T.soldListingDays}),T.unavailableListingDays!==void 0&&L.push({type:"unavailable",value:T.unavailableListingDays}),L.length===0&&L.push({type:"active",value:"all"});const G=L.length>1;let J;if(G){const l=L.map(({type:O,value:ee})=>{const V=De(O,ee,p);return V.map=Te(M),V}),W=new URL("https://api.repliers.io/listings");p>=18?(W.searchParams.set("cluster","false"),W.searchParams.set("listings","true"),W.searchParams.set("fields","address.*,mlsNumber,listPrice,details.numBedrooms,details.numBedroomsPlus,details.numBathrooms,details.numBathroomsPlus,details.numGarageSpaces,details.propertyType,type,lastStatus,images,status,class,coordinates,latitude,longitude,geo,location,map"),W.searchParams.set("pageSize","500")):(W.searchParams.set("cluster","true"),W.searchParams.set("clusterPrecision",F.toString()),W.searchParams.set("clusterLimit","500"),W.searchParams.set("clusterFields","mlsNumber,listPrice,coordinates,type,address.*,details.numBedrooms,details.numBedroomsPlus,details.numBathrooms,details.numBathroomsPlus,details.numGarageSpaces,details.propertyType,lastStatus,images,status,class"),p>=14?(W.searchParams.set("listings","true"),W.searchParams.set("fields","address.*,mlsNumber,listPrice,details.numBedrooms,details.numBedroomsPlus,details.numBathrooms,details.numBathroomsPlus,details.numGarageSpaces,details.propertyType,type,lastStatus,images,status,class,coordinates,latitude,longitude,geo,location,map"),W.searchParams.set("pageSize","500")):W.searchParams.set("listings","false"));const I={queries:l},H=await fetch(W.toString(),{method:"POST",headers:{"REPLIERS-API-KEY":e,"Content-Type":"application/json"},body:JSON.stringify(I)});if(!H.ok){const O=await H.text();throw new Error(`Bundled API Error: ${H.status} ${H.statusText} - ${O}`)}J=await H.json()}else{const{type:l,value:W}=L[0],I=new URL("https://api.repliers.io/listings"),H=De(l,W,p);Object.entries(H).forEach(([ee,V])=>{Array.isArray(V)?V.forEach(Y=>I.searchParams.append(ee,Y.toString())):I.searchParams.set(ee,V.toString())}),I.searchParams.set("map",JSON.stringify(Te(M))),I.searchParams.set("key",e),p>=18?(I.searchParams.set("cluster","false"),I.searchParams.set("listings","true"),I.searchParams.set("fields","address.*,mlsNumber,listPrice,details.numBedrooms,details.numBedroomsPlus,details.numBathrooms,details.numBathroomsPlus,details.numGarageSpaces,details.propertyType,type,lastStatus,images,status,class,coordinates,latitude,longitude,geo,location,map"),I.searchParams.set("pageSize","500")):(I.searchParams.set("cluster","true"),I.searchParams.set("clusterPrecision",F.toString()),I.searchParams.set("clusterLimit","500"),I.searchParams.set("clusterFields","mlsNumber,listPrice,coordinates,type,address.*,details.numBedrooms,details.numBedroomsPlus,details.numBathrooms,details.numBathroomsPlus,details.numGarageSpaces,details.propertyType,lastStatus,images,status,class"),p>=14?(I.searchParams.set("listings","true"),I.searchParams.set("fields","address.*,mlsNumber,listPrice,details.numBedrooms,details.numBedroomsPlus,details.numBathrooms,details.numBathroomsPlus,details.numGarageSpaces,details.propertyType,type,lastStatus,images,status,class,coordinates,latitude,longitude,geo,location,map"),I.searchParams.set("pageSize","500")):I.searchParams.set("listings","false"));const O=await fetch(I.toString(),{headers:{"REPLIERS-API-KEY":e,"Content-Type":"application/json"}});if(!O.ok)throw new Error(`API Error: ${O.status} ${O.statusText}`);J=await O.json()}const ie=((U=(A=J.aggregates)==null?void 0:A.map)==null?void 0:U.clusters)||J.clusters||[],Q=[],K=[],fe=J.listings||J.results||[],le=l=>T.propertyTypes.length===0?!0:l?T.propertyTypes.includes(l):!1;ie.forEach((l,W)=>{var H,O,ee,V,Y,Z,te,ne,Se,Ke,Xe,Je,Ve,Qe,Ze,et,tt,rt,st,nt;const I=[((H=l.location)==null?void 0:H.longitude)||((O=l.coordinates)==null?void 0:O.lng)||l.longitude||((ee=l.center)==null?void 0:ee.lng),((V=l.location)==null?void 0:V.latitude)||((Y=l.coordinates)==null?void 0:Y.lat)||l.latitude||((Z=l.center)==null?void 0:Z.lat)];if(l.count===1&&p>=14){const ge=((te=l.listing)==null?void 0:te.listPrice)||l.listPrice||l.map&&((ne=l.map[0])==null?void 0:ne.listPrice),qe=((Ke=(Se=l.listing)==null?void 0:Se.details)==null?void 0:Ke.propertyType)||((Xe=l.details)==null?void 0:Xe.propertyType);le(qe)&&K.push({type:"Feature",properties:{mlsNumber:l.mlsNumber||((Je=l.listing)==null?void 0:Je.mlsNumber)||`single-${W}`,listPrice:typeof ge=="string"?parseFloat(ge):ge,propertyType:l.propertyType||((Ve=l.listing)==null?void 0:Ve.propertyType)||l.status||"Sale",type:((Qe=l.listing)==null?void 0:Qe.type)||l.type,isProperty:!0,address:((Ze=l.listing)==null?void 0:Ze.address)||l.address,details:((et=l.listing)==null?void 0:et.details)||l.details,images:((tt=l.listing)==null?void 0:tt.images)||l.images,lastStatus:((rt=l.listing)==null?void 0:rt.lastStatus)||l.lastStatus,status:((st=l.listing)==null?void 0:st.status)||l.status,class:((nt=l.listing)==null?void 0:nt.class)||l.class},geometry:{type:"Point",coordinates:[I[0],I[1]]}})}else if(l.count===1)Q.push({type:"Feature",properties:{count:l.count||1,apiCount:l.count||1,precision:l.precision||F,id:`cluster-${W}`,members:l.properties||l.map||[]},geometry:{type:"Point",coordinates:[I[0],I[1]]}});else{let ge=I;if(l.properties&&Array.isArray(l.properties)){const Le=[];if(l.properties.forEach(Me=>{const $e=Oe(Me);$e&&Le.push($e)}),Le.length>0){const Me=_e(Le);Me&&(ge=He(Le,Me))}}const qe=l.properties||l.map||[],Mt=l.count||1;Q.push({type:"Feature",properties:{count:Mt,apiCount:l.count||1,precision:l.precision||F,id:`cluster-${W}`,members:qe},geometry:{type:"Point",coordinates:[ge[0],ge[1]]}})}});const be=new Set(K.map(l=>l.properties.mlsNumber));let ce=0,pe=0,oe=0;const re=fe.filter(l=>{var ee,V,Y,Z,te,ne,Se;if(be.has(l.mlsNumber))return ce++,!1;const W=((ee=l.map)==null?void 0:ee.longitude)||((V=l.coordinates)==null?void 0:V.lng)||((Y=l.coordinates)==null?void 0:Y.longitude)||l.longitude||l.lng,I=((Z=l.map)==null?void 0:Z.latitude)||((te=l.coordinates)==null?void 0:te.lat)||((ne=l.coordinates)==null?void 0:ne.latitude)||l.latitude||l.lat;return W!==void 0&&I!==void 0&&!isNaN(W)&&!isNaN(I)?le((Se=l.details)==null?void 0:Se.propertyType)?!0:(oe++,!1):(pe++,!1)}).map(l=>{var O,ee,V,Y,Z;const W={mlsNumber:l.mlsNumber,listPrice:typeof l.listPrice=="string"?parseFloat(l.listPrice):l.listPrice,propertyType:l.propertyType||((O=l.details)==null?void 0:O.propertyType)||l.type||l.status||"Sale",type:l.type,isProperty:!0},I=p>=13?{address:l.address,details:l.details,images:l.images,type:l.type,lastStatus:l.lastStatus,status:l.status,class:l.class}:{};return{type:"Feature",properties:{...W,...I},geometry:{type:"Point",coordinates:[((ee=l.coordinates)==null?void 0:ee.lng)||l.longitude||((V=l.map)==null?void 0:V.longitude),((Y=l.coordinates)==null?void 0:Y.lat)||l.latitude||((Z=l.map)==null?void 0:Z.latitude)]}}}),ve=(l,W,I)=>{const H=[...W,...I];return l.map(O=>{const ee=O.geometry.coordinates,V=H.filter(Z=>{const te=Z.geometry.coordinates;return Ae(ee,te)<=50}),Y=V.length>0?V.length:O.properties.count;return{...O,properties:{...O.properties,count:Y}}})},me=re.length>0||K.length>0,se=p>=14&&me?ve(Q,re,K):Q;let he;if(p>=14){const l=[...se.map(I=>({...I,type:"cluster"})),...K.map(I=>({...I,type:"singleProperty"})),...re.map(I=>({...I,type:"property"}))];he=je(l,50).map(I=>{const H=I.filter(Y=>Y.type==="cluster"),O=I.filter(Y=>Y.type==="property"||Y.type==="singleProperty"),ee=H.reduce((Y,Z)=>{var te;return Y+(((te=Z.properties)==null?void 0:te.count)||0)},0),V=O.length;return p>=17?O.length>0?O:H.length>0?H[0]:null:O.length>3?H.length>0?H.reduce((Y,Z)=>{var te,ne;return(((te=Z.properties)==null?void 0:te.count)||0)>(((ne=Y.properties)==null?void 0:ne.count)||0)?Z:Y}):O[0]:ee>V&&H.length>0?H.reduce((Y,Z)=>{var te,ne;return(((te=Z.properties)==null?void 0:te.count)||0)>(((ne=Y.properties)==null?void 0:ne.count)||0)?Z:Y}):O.length>0?O:H.length>0&&H[0].properties.count>0?H[0]:null}).flat().filter(Boolean)}else he=Ue([...Q,...K],p);const Re={type:"FeatureCollection",features:he},Ge=g.current.getSource("listings");Ge&&(Ge.setData(Re),Ee(he));const Lt=J.count||Q.reduce((l,W)=>l+W.properties.count,0);w(Lt)}catch(L){const G=L instanceof Error?L.message:"Failed to load listings";P(G)}}},[e,Ye,Te,Ee,T,De,je,Ue]);return c.useEffect(()=>{de.current=Ce},[Ce]),c.useEffect(()=>{if(!(!k.current||g.current||!v||y===null))return ke.accessToken=n,g.current=new ke.Map({container:k.current,style:s,center:v,zoom:y}),g.current.on("load",()=>{var p;if(!g.current)return;g.current.addControl(new ke.NavigationControl),g.current.addSource("listings",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.current.addLayer({id:"clusters",type:"circle",source:"listings",filter:["has","count"],paint:{"circle-color":["step",["get","count"],"#51bbd6",30,"#f1c40f",60,"#f39c12",150,"#f28cb1",500,"#e74c3c"],"circle-radius":["step",["get","count"],10,30,12,60,14,150,18,500,22],"circle-stroke-width":2,"circle-stroke-color":"#fff","circle-opacity":.8}}),g.current.addLayer({id:"cluster-count",type:"symbol",source:"listings",filter:["has","count"],layout:{"text-field":["get","count"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","count"],10,30,11,60,12,150,14,500,16]},paint:{"text-color":"#ffffff"}}),g.current.addLayer({id:"property-dots",type:"circle",source:"listings",filter:["has","isProperty"],paint:{"circle-color":"#374151","circle-radius":3,"circle-stroke-width":1,"circle-stroke-color":"#fff","circle-opacity":.9}}),g.current.on("click","clusters",async F=>{var ie,Q;if(!g.current||!((ie=F.features)!=null&&ie[0]))return;const j=F.features[0],E=j.geometry.coordinates,q=j.properties.count;j.properties.apiCount;const A=F.originalEvent.clientX,U=F.originalEvent.clientY,L=g.current.getZoom();if(L>=18){g.current.easeTo({center:E,zoom:Math.min(L+1,22),duration:500});return}if(L>=14){const K=g.current.getSource("listings");if(K&&K._data){const pe=(((Q=K._data.features)==null?void 0:Q.filter(oe=>{var re;return((re=oe.properties)==null?void 0:re.isProperty)===!0}))||[]).map(oe=>{const re=oe.geometry.coordinates,ve=Math.sqrt(Math.pow(re[0]-E[0],2)+Math.pow(re[1]-E[1],2));return{feature:oe,distance:ve}}).sort((oe,re)=>oe.distance-re.distance).slice(0,q);if(pe.length>0){const oe=pe.map(({feature:me})=>{const se=me.properties;return{mlsNumber:se.mlsNumber||"N/A",listPrice:se.listPrice||0,address:se.address||{streetNumber:"Unknown",streetName:"Address",city:"Unknown",state:"Unknown"},details:se.details||{numBedrooms:0,numBathrooms:0,numGarageSpaces:0,propertyType:"Unknown"},images:se.images||[],type:se.type||"Sale",lastStatus:se.lastStatus||"New",status:se.status||"A"}}),re=oe.map(me=>me.mlsNumber);new Set(re);const ve=oe.filter((me,se,he)=>se===he.findIndex(Re=>Re.mlsNumber===me.mlsNumber));ae(ve),we({x:A,y:U}),_(!0),o(!1);return}}const fe=[{mlsNumber:`Cluster-${q}`,listPrice:0,address:{streetNumber:"Multiple",streetName:"Properties",city:"Available",state:""},details:{numBedrooms:0,numBathrooms:0,numGarageSpaces:0,propertyType:`${q} Properties in Cluster`},images:[],type:"Sale",lastStatus:"Available",status:"A"}];ae(fe),we({x:A,y:U}),_(!0),o(!1);return}const G=L>=14?2:L>=12?3:4,J=Math.min(L+G,16);g.current.easeTo({center:E,zoom:J,duration:1e3,easing:K=>K*(2-K)})}),g.current.on("mouseenter","clusters",()=>{g.current&&(g.current.getCanvas().style.cursor="pointer")}),g.current.on("mouseleave","clusters",()=>{g.current&&(g.current.getCanvas().style.cursor="")}),g.current.on("mouseenter","property-dots",()=>{g.current&&(g.current.getCanvas().style.cursor="pointer")}),g.current.on("mouseleave","property-dots",()=>{g.current&&(g.current.getCanvas().style.cursor="")});const M=g.current.getBounds();M&&((p=de.current)==null||p.call(de,M))}),g.current.on("moveend",()=>{var p;if(!g.current)return;const M=g.current.getBounds();M&&((p=de.current)==null||p.call(de,M))}),()=>{Pe(),g.current&&(g.current.remove(),g.current=null)}},[n,s,v,y,Pe,Ee]),c.useEffect(()=>{if(g.current){D.current=null;const M=g.current.getBounds();M&&Ce(M)}},[T,Ce]),t.jsxs("div",{style:{width:h,height:u,position:"relative"},children:[t.jsx("div",{ref:k,style:{width:"100%",height:"100%"},className:"rounded-lg overflow-hidden"}),t.jsx(Pt,{filters:T,onFiltersChange:jt,apiKey:e,onMapUpdate:Ct}),S&&t.jsx("div",{style:{position:"absolute",bottom:"16px",right:"16px",backgroundColor:"rgba(255, 255, 255, 0.95)",padding:"8px 12px",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",fontSize:"14px",fontWeight:"600",color:"#374151"},children:m?t.jsx("span",{style:{color:"#ef4444"},children:"Error"}):t.jsxs("span",{children:[f.toLocaleString()," properties"]})}),m&&t.jsx("div",{style:{position:"absolute",bottom:"16px",left:"16px",right:"16px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",padding:"12px",color:"#b91c1c",fontSize:"14px"},children:m}),t.jsx(ft,{open:a,onClose:()=>o(!1),listing:d,position:B,mapContainer:k.current}),t.jsx(ht,{open:$,onClose:()=>_(!1),properties:X,position:ue,mapContainer:k.current})]})}Tt.__docgenInfo={description:"",methods:[],displayName:"AIMapListings",props:{apiKey:{required:!0,tsType:{name:"string"},description:"Repliers API key - required"},mapboxToken:{required:!0,tsType:{name:"string"},description:"MapBox access token - required"},initialCenter:{required:!1,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:"Initial map center coordinates [lng, lat] - auto-detects if not provided"},initialZoom:{required:!1,tsType:{name:"number"},description:"Initial zoom level - auto-calculates if not provided"},height:{required:!1,tsType:{name:"string"},description:"Map container height",defaultValue:{value:'"100%"',computed:!1}},width:{required:!1,tsType:{name:"string"},description:"Map container width",defaultValue:{value:'"100%"',computed:!1}},mapStyle:{required:!1,tsType:{name:"string"},description:"Map style",defaultValue:{value:'"mapbox://styles/mapbox/streets-v12"',computed:!1}},centerCalculation:{required:!1,tsType:{name:"union",raw:'"average" | "city"',elements:[{name:"literal",value:'"average"'},{name:"literal",value:'"city"'}]},description:"Center calculation method",defaultValue:{value:'"average"',computed:!1}},showPropertyCount:{required:!1,tsType:{name:"boolean"},description:"Show property count display",defaultValue:{value:"true",computed:!1}}}};const hr={title:"POCS/AI-MapListings",component:Tt,parameters:{layout:"fullscreen"}},sr="pxI19UMy9zfw9vz5lRxoGpjJWXrMnm",nr="pk.eyJ1IjoibWlsYW5zb21hIiwiYSI6ImNtZWJrODZmajBwMWQya3B3cHE1M2Y3anoifQ.HMDLOc-6V9K3-mHKeTHHxw",Ne={args:{apiKey:sr,mapboxToken:nr,height:"100vh",width:"100vw",mapStyle:"mapbox://styles/mapbox/streets-v12",centerCalculation:"city"}};var ct,ut,dt;Ne.parameters={...Ne.parameters,docs:{...(ct=Ne.parameters)==null?void 0:ct.docs,source:{originalSource:`{
  args: {
    apiKey: SAMPLE_API_KEY,
    mapboxToken: SAMPLE_MAPBOX_TOKEN,
    height: "100vh",
    width: "100vw",
    mapStyle: "mapbox://styles/mapbox/streets-v12",
    centerCalculation: "city"
  }
}`,...(dt=(ut=Ne.parameters)==null?void 0:ut.docs)==null?void 0:dt.source}}};const yr=["Default"];export{Ne as Default,yr as __namedExportsOrder,hr as default};
