import{j as e}from"./jsx-runtime-CBjAUaf4.js";import{A as N,I as A,B as w}from"./api-input-B7xzUR3Y.js";import{r as a}from"./index-CoAThXCU.js";import"./jsx-runtime-B2VJbz7C.js";function y(){const[r,j]=a.useState(""),[c,b]=a.useState("M1P3C2"),[l,i]=a.useState(!1),[p,d]=a.useState(null),[m,S]=a.useState(null),C=async t=>{t.preventDefault(),i(!0),d(null);try{console.log("Raw API Key value:",r),console.log("API Key length:",r.length),console.log("API Key type:",typeof r);const s={"REPLIERS-API-KEY":r,"Content-Type":"application/json",Accept:"application/json","User-Agent":"PostmanRuntime/7.43.4","Cache-Control":"no-cache",Connection:"keep-alive"};console.log("Request headers:",s);const o=await fetch("https://dev.repliers.io/listings",{method:"POST",headers:s,body:JSON.stringify({zipCode:c})});if(console.log("Response status:",o.status),console.log("Response status text:",o.statusText),!o.ok){const g=await o.text();throw console.log("Error response body:",g),new Error(`HTTP error! status: ${o.status}, message: ${g}`)}const u=await o.json();S(u),console.log("API Response:",u)}catch(s){d(s instanceof Error?s.message:"An error occurred"),console.error("Error:",s)}finally{i(!1)}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("form",{onSubmit:C,className:"flex flex-col gap-4",children:[e.jsx(N,{onApiKeyChange:j}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{type:"text",placeholder:"M1P3C2",className:"max-w-[200px]",value:c,onChange:t=>b(t.target.value),required:!0}),e.jsx(w,{type:"submit",disabled:l,children:l?"Searching...":"Search"})]}),p&&e.jsx("div",{className:"text-red-500 text-sm",children:p})]}),m&&e.jsxs("div",{className:"border rounded-lg p-6 bg-white shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Response Data"}),e.jsx("div",{className:"space-y-4",children:Object.entries(m).map(([t,s])=>e.jsxs("div",{className:"border-b pb-2 last:border-b-0",children:[e.jsx("h3",{className:"font-medium text-gray-700 capitalize",children:t}),e.jsx("pre",{className:"mt-1 text-sm text-gray-600 whitespace-pre-wrap",children:typeof s=="object"?JSON.stringify(s,null,2):String(s)})]},t))})]})]})}y.__docgenInfo={description:"",methods:[],displayName:"ZipCodeData"};const v={title:"Components/ZipCodeData",component:y,parameters:{layout:"centered"},tags:["autodocs"]},n={args:{}};var h,x,f;n.parameters={...n.parameters,docs:{...(h=n.parameters)==null?void 0:h.docs,source:{originalSource:`{
  args: {}
}`,...(f=(x=n.parameters)==null?void 0:x.docs)==null?void 0:f.source}}};const D=["Default"];export{n as Default,D as __namedExportsOrder,v as default};
